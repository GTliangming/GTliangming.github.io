<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>å°æ˜åŒå­¦çš„åšå®¢</title>
  
  
  <link href="http://gtliangming.github.io/atom.xml" rel="self"/>
  
  <link href="http://gtliangming.github.io/"/>
  <updated>2020-12-09T05:56:32.770Z</updated>
  <id>http://gtliangming.github.io/</id>
  
  <author>
    <name>Bruce Liang</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Jenkinsçš„å®‰è£…ä¸é…ç½®</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jx80002fanm1brihuq4/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jx80002fanm1brihuq4/</id>
    <published>2020-12-09T05:52:52.000Z</published>
    <updated>2020-12-09T05:56:32.770Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä¸€ã€ä»€ä¹ˆæ˜¯jenkins"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯jenkins" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯jenkins"></a>ä¸€ã€ä»€ä¹ˆæ˜¯jenkins</h1><p>â€‹    Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯<code>åŸºäºjavaå¼€å‘</code>çš„ä¸€ç§<a href="https://aws.amazon.com/cn/devops/continuous-integration/">æŒç»­é›†æˆ</a>å·¥å…·ï¼Œç”¨äºç›‘æ§æŒç»­é‡å¤çš„å·¥ä½œï¼Œæ—¨åœ¨æä¾›ä¸€ä¸ªå¼€æ”¾æ˜“ç”¨çš„è½¯ä»¶å¹³å°ï¼Œä½¿è½¯ä»¶çš„æŒç»­é›†æˆå˜æˆå¯èƒ½ã€‚</p><blockquote><p>ä¸ºä»€ä¹ˆè¦ä½¿ç”¨jenkinsè¿™ç±»æŒç»­é›†æˆå·¥å…·ï¼ˆä¼˜åŠ¿ï¼‰</p><p>1ã€æé«˜å¼€å‘äººå‘˜çš„å·¥ä½œæ•ˆç‡</p><p>â€‹    æŒç»­é›†æˆå¯å°†å¼€å‘äººå‘˜ä»æ‰‹åŠ¨ä»»åŠ¡ä¸­è§£æ”¾å‡ºæ¥ï¼Œå¹¶ä¸”é¼“åŠ±æœ‰åŠ©äºå‡å°‘å‘å¸ƒåˆ°å®¢æˆ·ç¯å¢ƒä¸­çš„é”™è¯¯å’Œç¼ºé™·æ•°é‡çš„è¡Œä¸ºï¼Œä»è€Œæé«˜å›¢é˜Ÿçš„å·¥ä½œæ•ˆç‡ã€‚    </p><p>2ã€æ›´å¿«å‘ç°å¹¶è§£å†³ç¼ºé™·</p><p>â€‹    é€šè¿‡æ›´é¢‘ç¹çš„æµ‹è¯•ï¼Œæ‚¨çš„å›¢é˜Ÿå¯ä»¥åœ¨ç¼ºé™·ç¨åå˜æˆå¤§é—®é¢˜å‰å‘ç°å¹¶è§£å†³è¿™äº›ç¼ºé™·ã€‚</p><p>3ã€æ›´å¿«äº¤ä»˜æ›´æ–°</p><p>â€‹    æŒç»­é›†æˆæœ‰åŠ©äºæ‚¨çš„å›¢é˜Ÿæ›´å¿«ã€æ›´é¢‘ç¹åœ°å‘å®¢æˆ·äº¤ä»˜æ›´æ–°ã€‚</p></blockquote><p>å¸¸è§çš„æŒç»­é›†æˆå·¥å…·è¿˜æœ‰ï¼š <strong>TeamCity</strong> ã€<strong>Travis CI</strong>ã€<strong>Go CD</strong> ç­‰</p><h1 id="äºŒã€jenkinséƒ¨ç½²æµç¨‹"><a href="#äºŒã€jenkinséƒ¨ç½²æµç¨‹" class="headerlink" title="äºŒã€jenkinséƒ¨ç½²æµç¨‹"></a>äºŒã€jenkinséƒ¨ç½²æµç¨‹</h1><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201204175311.png"></p><h1 id="ä¸‰ã€å®‰è£…jenkins"><a href="#ä¸‰ã€å®‰è£…jenkins" class="headerlink" title="ä¸‰ã€å®‰è£…jenkins"></a>ä¸‰ã€å®‰è£…jenkins</h1><h4 id="1ã€å®‰è£…javaç¯å¢ƒ"><a href="#1ã€å®‰è£…javaç¯å¢ƒ" class="headerlink" title="1ã€å®‰è£…javaç¯å¢ƒ"></a><strong>1ã€å®‰è£…javaç¯å¢ƒ</strong></h4><p>â€‹    ä¸»è¦æ˜¯å› ä¸ºjenkinsæ˜¯åŸºäºjavaç¯å¢ƒçš„ </p><ul><li>å‡†å¤‡å·¥ä½œã€‚éœ€è¦ä¸º Jenkins å®‰è£…ä¸€ä¸ª Java è¿è¡Œç¯å¢ƒ <code>yum search openjdk</code></li><li>å®‰è£…åˆé€‚çš„jdk ä¾‹å¦‚ <code>yum install java-1.8.0-openjdk</code></li><li>é…ç½®ç¯å¢ƒå˜é‡</li><li>å‘½ä»¤æŸ¥çœ‹ <code>java -version</code> æ˜¯å¦å®‰è£…æˆåŠŸ</li></ul><h4 id="2ã€jenkinsçš„å®‰è£…"><a href="#2ã€jenkinsçš„å®‰è£…" class="headerlink" title="2ã€jenkinsçš„å®‰è£…"></a><strong>2ã€jenkinsçš„å®‰è£…</strong></h4><p>â€‹    å®˜æ–¹ç½‘ç«™ï¼š<a href="https://www.jenkins.io/zh/">https://www.jenkins.io/zh/</a></p><p>â€‹    å®‰è£…æ–‡æ¡£ï¼š<a href="https://www.jenkins.io/doc/book/installing/linux/#red-hat-centos">https://www.jenkins.io/doc/book/installing/linux/#red-hat-centos</a>(æ­¤æ¬¡å®‰è£…çš„æ˜¯åŸºäºCentos)</p><pre><code>&gt; sudo wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo &gt;&gt; sudo rpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key  &gt;&gt; sudo yum install jenkins &gt;&gt; :(  å¯èƒ½ä¼šæœ‰æŠ¥é”™(å¾ˆå¤§å¯èƒ½ä¼šæœ‰æŠ¥é”™^__^)  ç™¾åº¦éƒ½å¯ä»¥è§£å†³</code></pre><h4 id="3ã€-å¯åŠ¨-å…³é—­-Jenkins"><a href="#3ã€-å¯åŠ¨-å…³é—­-Jenkins" class="headerlink" title="3ã€ å¯åŠ¨/å…³é—­ Jenkins"></a><strong>3ã€ å¯åŠ¨/å…³é—­ Jenkins</strong></h4><p><code>sudo service jenkins start/stop/restart  //æ˜¾ç„¶ï¼Œæœ€åçš„å‚æ•°åˆ†åˆ«å¯¹åº”å¯åŠ¨ã€å…³é—­ã€é‡å¯æ“ä½œ</code></p><p> <code>sudo chkconfig jenkins on</code></p><p>ä¸Šé¢çš„æ“ä½œåˆ›å»ºäº†ä¸€ä¸ªå«åš jenkins çš„ç”¨æˆ·æ¥è¿è¡Œè¿™ä¸ªæœåŠ¡ï¼ˆä¹Ÿå°±æ˜¯ Jenkins æœåŠ¡ï¼‰ã€å°†Jenkins å°†åœ¨å¼€æœºæ—¶ä½œä¸ºå®ˆæŠ¤è¿›ç¨‹å¯åŠ¨ï¼Œé¿å…äº†æ¯æ¬¡éƒ½éœ€è¦è‡ªè¡Œå¯åŠ¨jenkins</p><h4 id="4ã€é…ç½®é˜²ç«å¢™"><a href="#4ã€é…ç½®é˜²ç«å¢™" class="headerlink" title="4ã€é…ç½®é˜²ç«å¢™"></a><strong>4ã€é…ç½®é˜²ç«å¢™</strong></h4><ul><li><p>æŸ¥çœ‹jenkinsçŠ¶æ€ <code>systemctl status jenkins</code></p></li><li><p>æŸ¥çœ‹é˜²ç«å¢™çŠ¶æ€ <code>systemctl status firewalld</code></p></li><li><p>æŸ¥çœ‹ç«¯å£æƒ…å†µ <code>firewall-cmd --list-ports</code></p><blockquote><p>Jenkins é»˜è®¤ç«¯å£8080 éœ€è¦åœ¨å®‰å…¨ç»„é…ç½®ä¸­æ‰“å¼€ </p></blockquote></li></ul><h4 id="5ã€æŸ¥çœ‹jenkins"><a href="#5ã€æŸ¥çœ‹jenkins" class="headerlink" title="5ã€æŸ¥çœ‹jenkins"></a><strong>5ã€æŸ¥çœ‹jenkins</strong></h4><p>â€‹    æœ¬åœ°ï¼šæµè§ˆå™¨æ‰“å¼€<code>localhost:8080</code></p><p>â€‹    è‡ªå®šä¹‰æœåŠ¡å™¨ï¼šæµè§ˆå™¨æ‰“å¼€ <code>æœåŠ¡å™¨ip:8080</code></p><p>é¦–æ¬¡æ‰“å¼€éœ€è¦å¯†ç ï¼šå¯†ç åœ¨<code>/var/lib/jenkins/secrets/initialAdminPassword</code>å†…å¯ä»¥æŸ¥çœ‹åˆ°</p><p>è¾“å…¥å¯†ç åç¨ç­‰ç‰‡åˆ»å°±å¯çœ‹åˆ°jenkinsçš„ç•Œé¢äº†</p><h1 id="å››ã€è‡ªå®šä¹‰é…ç½®"><a href="#å››ã€è‡ªå®šä¹‰é…ç½®" class="headerlink" title="å››ã€è‡ªå®šä¹‰é…ç½®"></a>å››ã€è‡ªå®šä¹‰é…ç½®</h1><h4 id="1ã€è‡ªå®šä¹‰jenkinsç«¯å£"><a href="#1ã€è‡ªå®šä¹‰jenkinsç«¯å£" class="headerlink" title="1ã€è‡ªå®šä¹‰jenkinsç«¯å£"></a><strong>1ã€è‡ªå®šä¹‰jenkinsç«¯å£</strong></h4><ul><li><p>ç»ˆç«¯æ‰“å¼€<code>vim /etc/sysconfig/jenkins</code> ä¿®æ”¹<code>JENKINS_PORT=&quot;xxxx&quot;</code></p></li><li><p>jenkinsç®¡ç†ç•Œé¢ä¿®æ”¹</p><p><strong>ç³»ç»Ÿç®¡ç†â€”&gt;ç³»ç»Ÿè®¾ç½®â€”&gt;ç®¡ç†ç›‘æ§é…ç½®â€”&gt;JenKins Location</strong> ä¿®æ”¹å’Œåˆšæ‰ä¸€è‡´çš„ç«¯å£å·ï¼Œå¦åˆ™ä¼šæŠ¥é”™åå‘ä»£ç†è®¾ç½®æœ‰è¯¯</p></li><li><p>ç„¶åé‡å¯jenkins:<code>systemctl restart jenkins</code></p></li></ul><h4 id="2ã€å®‰è£…æ’ä»¶"><a href="#2ã€å®‰è£…æ’ä»¶" class="headerlink" title="2ã€å®‰è£…æ’ä»¶"></a><strong>2ã€å®‰è£…æ’ä»¶</strong></h4><ul><li>1ã€æ‰“å¼€ç™»é™†Jenkinsï¼Œç‚¹å‡»Manage Jenkins</li><li>2ã€æ‰¾åˆ°Plugin Managerï¼Œç‚¹å‡»è¿›å…¥</li><li>3ã€æ‰“å¼€Availableç‚¹å‡»ï¼Œè¾“å…¥éœ€è¦çš„æ’ä»¶åç§°ï¼Œ</li><li>4ã€å‹¾é€‰å ç‚¹å‡»<code>install without restart </code> ä¸‹è½½å¹¶é‡å¯jenkins</li></ul><h4 id="3ã€jenkinsæ±‰åŒ–-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸"><a href="#3ã€jenkinsæ±‰åŒ–-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸-ğŸ¤·â€â™‚ï¸" class="headerlink" title="**3ã€jenkinsæ±‰åŒ– **   ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸"></a>**3ã€jenkinsæ±‰åŒ– **   ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸ ğŸ¤·â€â™‚ï¸</h4><p>â€‹    å¯¹äºä¸€ä¸ªç¨‹åºå‘˜ï¼Œè™½ç„¶è¯´è‹±æ–‡æ˜¯å¿…é¡»çš„ï¼Œä½†æ˜¯æœ‰ä¸­æ–‡è¿˜æ˜¯æ›´æ–¹ä¾¿çš„ï¼Œè¯ä¸å¤šè¯´ï¼Œæ¥å®‰è£…æ’ä»¶</p><ul><li>1ã€æ‰“å¼€ç™»é™†Jenkinsï¼Œç‚¹å‡»Manage Jenkins</li><li>2ã€æ‰¾åˆ°Plugin Managerï¼Œç‚¹å‡»è¿›å…¥</li><li>3ã€æ‰“å¼€Availableç‚¹å‡»ï¼Œè¾“å…¥éœ€è¦çš„æ’ä»¶åç§°ï¼ŒæŸ¥æ‰¾æ’ä»¶ <strong>Localization: Chinese (Simplified)</strong> ã€<strong>locale</strong></li><li>4ã€å‹¾é€‰å ç‚¹å‡»<code>install without restart </code> ä¸‹è½½å¹¶é‡å¯jenkins</li><li>5 ã€æ‰¾åˆ°configure Sytem</li><li>6ã€æ‰¾åˆ°locale å¹¶è®¾ç½®é»˜è®¤è¯­è¨€ä¸º <code>zh_CN</code> å¹¶å‹¾é€‰ä¸‹é¢çš„Ignore browser preference and force this language to all users</li><li>7ã€ç‚¹å‡» Applyåº”ç”¨ </li><li>8ã€é‡å¯jenkinså°±å¯ä»¥çœ‹åˆ°æ±‰åŒ–çš„ç•Œé¢ï¼ˆé—æ†¾çš„æ˜¯  éƒ¨åˆ†æ±‰åŒ–ï¼‰</li></ul><h1 id="äº”ã€ä½¿ç”¨jenkins"><a href="#äº”ã€ä½¿ç”¨jenkins" class="headerlink" title="äº”ã€ä½¿ç”¨jenkins"></a>äº”ã€ä½¿ç”¨jenkins</h1><h3 id="1ã€åˆ›å»ºä»»åŠ¡"><a href="#1ã€åˆ›å»ºä»»åŠ¡" class="headerlink" title="1ã€åˆ›å»ºä»»åŠ¡"></a>1ã€åˆ›å»ºä»»åŠ¡</h3><p>æ‰“å¼€jenkinsæ§åˆ¶å°â€“&gt;é€‰æ‹©New Item å¼€å§‹åˆ›å»ºæ–°çš„ä»»åŠ¡</p><p>åŸºæœ¬æ“ä½œï¼šå…ˆèµ·ä¸ªå   ç„¶åé€‰æ‹© <code>Freestyle project</code> ï¼ˆå…·ä½“çš„é€‰æ‹©é‚£ä¸ªè¦çœ‹è‡ªå·±çš„é¡¹ç›®æƒ…å†µï¼‰</p><h3 id="2ã€å¼€å§‹é…ç½®"><a href="#2ã€å¼€å§‹é…ç½®" class="headerlink" title="2ã€å¼€å§‹é…ç½®"></a>2ã€å¼€å§‹é…ç½®</h3><ul><li><p>General é€šç”¨é…ç½®</p><p>æè¿°ï¼šæè¿°ä¸€ä¸‹æ­¤ä»»åŠ¡çš„å†…å®¹ï¼ˆå¯çœç•¥ï¼‰</p><p>é€‰é¡¹ï¼š</p><blockquote><ul><li><p>Discard old builds    ä¸¢å¼ƒæ—§çš„æ„å»º</p><p>é€‰æ‹©ä¿æŒæ„å»ºçš„å¤©æ•°ï¼ˆDays to keep buildsï¼‰å’Œä¿æŒæ„å»ºçš„æœ€å¤§ä¸ªæ•°ï¼ˆMax # of builds to keepï¼‰</p></li><li><p>GitHub project     GitHubé¡¹ç›®æ„å»º</p></li><li><p>This build requires lockable resources   æ­¤æ„å»ºéœ€è¦å¯é”å®šçš„èµ„æº</p></li><li><p>This project is parameterized   å‚æ•°åŒ–æ„å»º</p></li><li><p>Throttle builds    èŠ‚æµé˜€æ„å»º</p></li><li><p>Disable this project    ç¦ç”¨æ­¤é¡¹ç›®</p></li><li><p>Execute concurrent builds if necessary  åœ¨å¿…è¦çš„æ—¶å€™å¹¶å‘æ„å»º</p></li></ul></blockquote></li><li><p>æºç ç®¡ç†</p><p>å¯ä»¥é€‰æ‹©æºç çš„æ¥æºï¼ˆgithubã€gitlabã€svnéƒ½å¯ä»¥ï¼Œä½†æ˜¯éƒ½éœ€è¦å®‰è£…å¯¹åº”çš„æ’ä»¶ï¼‰</p><blockquote><p>è¿™é‡Œä»¥githubä¸ºä¾‹ gitbubæ’ä»¶ <code>github</code>ã€<code>Git Parameter</code>ï¼ˆæ”¯æŒé€‰æ‹©åˆ†æ”¯å’Œ Tag ï¼‰</p><p>æ³¨æ„ï¼šæœªå®‰è£…æ’ä»¶å‰æ­¤å¤„æ˜¯ä¸ä¼šæœ‰gitçš„é€‰é¡¹çš„ </p></blockquote><p>1ã€é€‰æ‹©gitå é…ç½®ä»“åº“åœ°å€Repository URL</p><p>2ã€é…ç½®è¯ä¹¦ Credentialsï¼ˆå¯é€‰é…ç½®ï¼Œç§æœ‰ä»“åº“éœ€è¦ï¼‰</p><p>3ã€é…ç½®æ„å»ºåˆ†æ”¯</p><p>4ã€å¯é€‰æ„å»ºçš„Tag</p></li><li><p>æ„å»ºè§¦å‘å™¨ï¼ˆåœ¨ä»€ä¹ˆæƒ…å†µä¸‹è§¦å‘æ„å»ºï¼‰</p><blockquote><ul><li>Trigger builds remotely (e.g., from scripts)     è¿œç¨‹è§¦å‘æ„å»ºï¼ˆä¾‹å¦‚ï¼Œä»è„šæœ¬ï¼‰</li><li>Build after other projects are built    å…¶ä»–é¡¹ç›®å»ºæˆåå†è¿›è¡Œæ„å»º</li><li>Build periodically   å®šæœŸæ„å»º</li><li>GitHub hook trigger for GITScm polling   é€šè¿‡Github hookè¿›è¡Œè½®è®­æ„å»º</li><li>Poll SCM è½®è¯¢æ„å»º   </li></ul></blockquote><p>ä¸»è¦æ¥è¯´è½®è¯¢æ„å»ºï¼ˆåœ¨ç¬¦åˆæ—¶é—´è¡¨çš„è§„å®šæ—¶é—´æ¥è¿›è¡Œè‡ªåŠ¨æ„å»ºï¼‰</p><p>æ·»åŠ æ—¥ç¨‹è¡¨ æ ¼å¼ï¼šäº”ä½ ****</p><p>1ã€ç¬¬ä¸€ä¸ª*ä»£è¡¨åˆ†é’Ÿ å–å€¼0-59  ç¬¬å‡ åˆ†é’Ÿæ‰§è¡Œ</p><p>2ã€ç¬¬äºŒä¸ª*ä»£è¡¨å°æ—¶ å–å€¼0-23  ç¬¬å‡ å°æ—¶æ‰§è¡Œ</p><p>3ã€ç¬¬ä¸‰ä¸ª*ä»£è¡¨æ—¥ å–å€¼1-31 ç¬¬å‡ æ—¥æ‰§è¡Œ</p><p>4ã€ç¬¬å››ä¸ª*ä»£è¡¨æœˆ å–å€¼1-12 ç¬¬å‡ ä¸ªæœˆæ‰§è¡Œ</p><p>5ã€ç¬¬äº”ä¸ª*ä»£è¡¨æ˜ŸæœŸ å–å€¼0-6 æ¯å‘¨ç¬¬å‡ å¤©æ‰§è¡Œï¼ˆå‘¨å¤©æ˜¯ç¬¬ä¸€å¤©ï¼‰</p><p>ä¾‹ï¼š</p><p><code>* * * * *</code> æ¯åˆ†é’Ÿ ã€ <code>H * * * *</code>æ¯å°æ—¶ ã€<code>/</code> ä»£è¡¨æ­¥é•¿</p><p><code>H/30 * * * *</code> : æ¯åŠå°æ—¶æ£€æŸ¥ä¸€æ¬¡ä»£ç æ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰çš„è¯è¿›è¡Œæ„å»º</p><p><code>H H/2 * * *</code> :  æ¯ä¸¤å°æ—¶æ£€æŸ¥ä¸€æ¬¡ä»£ç æ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰çš„è¯è¿›è¡Œæ„å»º</p><p><code>H 2 * * *</code> :  æ¯å¤©å‡Œæ™¨ä¸¤ç‚¹å®šæ—¶æ£€æŸ¥ä¸€æ¬¡ä»£ç æ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰çš„è¯è¿›è¡Œæ„å»º</p><p><code>H H 15 * *</code> :  æ¯æœˆ15å·å®šæ—¶æ£€æŸ¥ä¸€æ¬¡ä»£ç æ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰çš„è¯è¿›è¡Œæ„å»º</p><p><code>H 9 * * 1-5</code> :  å‘¨ä¸€è‡³å‘¨äº”ä¸Šåˆ9ç‚¹å®šæ—¶æ£€æŸ¥ä¸€æ¬¡ä»£ç æ˜¯å¦æœ‰æ›´æ–°ï¼Œæœ‰çš„è¯è¿›è¡Œæ„å»º</p><p>è¿˜æœ‰å¾ˆå¤šå…·ä½“çš„é…ç½®ï¼Œæƒ³äº†è§£çš„è¯é…ç½®çš„åé¢æœ‰ä¸ªå°é—®å·ï¼Œå»å“ªé‡Œå¯ä»¥äº†è§£ï¼šï¼‰</p></li><li><p>æ„å»ºç¯å¢ƒ</p><blockquote><p>Delete workspace before build starts  åœ¨ç”Ÿæˆå¼€å§‹ä¹‹å‰åˆ é™¤å·¥ä½œåŒº</p><p>Use secret text(s) or file(s) ä½¿ç”¨æœºå¯†æ–‡æœ¬æˆ–æ–‡ä»¶</p><p>Provide Configuration files  æä¾›é…ç½®æ–‡ä»¶</p><p>Send files or execute commands over SSH before the build starts åœ¨æ„å»ºå¼€å§‹ä¹‹å‰é€šè¿‡SSHå‘é€æ–‡ä»¶æˆ–æ‰§è¡Œå‘½ä»¤</p><p>Send files or execute commands over SSH after the build runs  åœ¨æ„å»ºè¿è¡Œåé€šè¿‡SSHå‘é€æ–‡ä»¶æˆ–æ‰§è¡Œå‘½ä»¤</p><p>Abort the build if itâ€™s stuck  å¦‚æœç”Ÿæˆè¢«å¡ä½ï¼Œè¯·ä¸­æ­¢å®ƒ</p><p>Add timestamps to the Console Output  å‘æ§åˆ¶å°è¾“å‡ºæ·»åŠ æ—¶é—´æˆ³</p><p>Inspect build log for published Gradle build scans  æ£€æŸ¥ç”Ÿæˆæ—¥å¿—ä¸­å·²å‘å¸ƒçš„åˆ†çº§ç”Ÿæˆæ‰«æ</p><p>Provide Node &amp; npm bin/ folder to PATH  æä¾›èŠ‚ç‚¹å’Œnpm bin/æ–‡ä»¶å¤¹åˆ°è·¯å¾„ (æ­¤æ¬¡é€‰æ‹©node)</p></blockquote><p>ä½†æ˜¯åˆå§‹æ˜¯æ²¡æœ‰node &amp; npmè¿™ä¸ªé€‰é¡¹çš„ éœ€è¦åšå‡ æ­¥æ“ä½œ</p><p>1ã€è¿è¡ŒæœåŠ¡å™¨éœ€è¦å®‰è£…nodeç¯å¢ƒ</p><p>2ã€å®‰è£…nodeæ’ä»¶<code>NodeJS Plugin</code> ï¼ˆå®‰è£…æ–¹æ³•ä¸Šé¢è¯´åˆ°è¿‡ï¼‰</p><p>3ã€jenkinsæ§åˆ¶å°é€‰æ‹© Manage jenkins  â€”&gt; Global Tool Configurationâ€”&gt;æœ€åº•ä¸‹Node.jsé€‰æ‹©</p><p>4ã€ é€‰æ‹©node.jså®‰è£…  èµ·åˆ«åã€é€‰æ‹©ç‰ˆæœ¬  è®°å¾—å‹¾é€‰<code>Install automatically</code> åº”ç”¨åä¿å­˜é€€å‡º</p><p>5ã€å†å»é€‰æ‹©å°±ä¼šæœ‰å¯¹åº”çš„ç‰ˆæœ¬ä»¥ä¾›é€‰æ‹©äº†</p></li><li><p>æ„å»º</p></li></ul><p>é€‰æ‹©æ„å»ºçš„æ–¹å¼ï¼ˆé€‰é¡¹å¾ˆå¤šï¼‰ï¼Œè¿™é‡Œé€‰æ‹©Execute shell </p><p>ç„¶åå°±å¯ä»¥å¡«å†™è‡ªå®šä¹‰çš„shellå‘½ä»¤äº†</p><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">pwd</span><br><span class="line">ls</span><br><span class="line">node -v </span><br><span class="line">npm -v </span><br><span class="line">npm install </span><br><span class="line">npm run build</span><br><span class="line">echo &quot;æ‰“åŒ…æ„å»ºæˆåŠŸï¼&quot;</span><br></pre></td></tr></table></figure><ul><li>æ„å»ºåæ“ä½œ </li></ul><blockquote><p>ä¸Šä¸€æ­¥æˆ‘ä»¬å·²ç»æˆåŠŸæ‰§è¡Œåˆ°å°†æˆ‘ä»¬çš„é¡¹ç›®è‡ªåŠ¨å…‹éš†ä¸‹æ¥è¿›è¡Œäº†æ‰“åŒ…ï¼Œç”Ÿæˆäº†æ‰“åŒ…å¥½çš„æ–‡ä»¶build,æ¥ä¸‹æ¥å°±è¦æ‰§è¡Œå‘å¸ƒï¼Œå°†æ‰“åŒ…å¥½çš„æ–‡ä»¶æ”¾åˆ°æˆ‘ä»¬çš„æœåŠ¡å™¨ï¼Œä½¿å…¶å¯ä»¥é€šè¿‡åŸŸåæˆ–è€…å…¬ç½‘IPè¿›è¡Œè®¿é—®</p></blockquote><p>é€‰æ‹©å¢åŠ æ„å»ºåæ“ä½œæ­¥éª¤ï¼ˆé€‰é¡¹ä¾æ—§å¾ˆå¤šï¼‰ è¿™é‡Œé€‰æ‹© Send build artifacts SSH é€šè¿‡SSHå‘é€æˆ‘ä»¬æ„å»ºçš„ç»“æœ</p><p>æ­¤é€‰é¡¹ä¹Ÿéœ€è¦å®‰è£…æ’ä»¶ æ­¥éª¤ï¼š</p><p>1ã€ å®‰è£…æ’ä»¶<code>Publish Over SSH</code></p><p>2ã€jenkinsæ§åˆ¶å°é€‰æ‹© Manage jenkins  â€”&gt;Configure Systemç³»ç»Ÿé…ç½®â€”&gt;æ‰¾åˆ°Publish over SSH é€‰é¡¹</p><p>3ã€é€‰æ‹©SSH servers å¹¶ç‚¹å‡»æ–°å¢Server</p><p>4ã€å¡«å†™nameã€å‘å¸ƒæœåŠ¡å™¨ä¸»æœºIPåœ°å€ã€ç”¨æˆ·åã€å‘å¸ƒç›®å½•</p><p>5ã€é€‰æ‹©é«˜çº§é…ç½® è¿›è¡Œè¿æ¥å¯†ç å’Œç«¯å£å·çš„é…ç½®</p><p>6ã€é…ç½®å®Œæˆåç‚¹å‡»<code>Test configuration</code>è¿›è¡Œæµ‹è¯•è¿æ¥   æ˜¾ç¤ºsuccess è¡¨ç¤ºè¿æ¥æˆåŠŸ</p><p>7ã€ç‚¹å‡»åº”ç”¨å¹¶ä¿å­˜é€€å‡º</p><p>ç„¶åå›åˆ°æˆ‘ä»¬åˆšæ‰çš„é…ç½®ï¼Œé€‰æ‹©Send build artifacts SSH</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201205172521.png"></p><p>Source files :éƒ½ä¸Šä¼ é‚£äº›æ–‡ä»¶ build/**  è¡¨ç¤ºbuildæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶</p><p>Remove prefix:å»æ‰å‰ç¼€ è¿™é‡Œé€‰æ‹©build/  è¡¨ç¤ºåªéœ€è¦buildæ–‡ä»¶å¤¹é‡Œçš„æ–‡ä»¶</p><p>Remote directory :æ”¾ç½®åˆ°è¿œç¨‹æœåŠ¡å™¨çš„é‚£ä¸ªæ–‡ä»¶å¤¹ä¸‹ </p><p>Exec command:æ‰§è¡Œçš„å‘½ä»¤</p><p>è‡³æ­¤å°±é…ç½®å®Œæˆ ï¼Œå°±å¯ä»¥ç‚¹å‡»build nowè¿›è¡Œæ„å»ºäº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;ä¸€ã€ä»€ä¹ˆæ˜¯jenkins&quot;&gt;&lt;a href=&quot;#ä¸€ã€ä»€ä¹ˆæ˜¯jenkins&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ä»€ä¹ˆæ˜¯jenkins&quot;&gt;&lt;/a&gt;ä¸€ã€ä»€ä¹ˆæ˜¯jenkins&lt;/h1&gt;&lt;p&gt;â€‹    Jenkinsæ˜¯ä¸€ä¸ªå¼€æºè½¯ä»¶é¡¹ç›®ï¼Œæ˜¯&lt;code&gt;åŸº</summary>
      
    
    
    
    <category term="jenkins" scheme="http://gtliangming.github.io/categories/jenkins/"/>
    
    
    <category term="jenkins é¡¹ç›®éƒ¨ç½²" scheme="http://gtliangming.github.io/tags/jenkins-%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>Node.jså®ç°githubç¬¬ä¸‰æ–¹ç™»å½•</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jxf0007fanm67802zpz/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jxf0007fanm67802zpz/</id>
    <published>2020-12-09T05:50:52.000Z</published>
    <updated>2020-12-09T05:57:09.364Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•</h3><h5 id="ç¬¬ä¸‰æ–¹ç™»å½•æ˜¯åŸºäºç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šå·²æœ‰çš„è´¦å·å’Œå¯†ç æ¥å¿«é€Ÿå®Œæˆå·±æ–¹åº”ç”¨çš„ç™»å½•æˆ–è€…æƒæ³¨å†Œçš„åŠŸèƒ½ã€‚è€Œè¿™é‡Œçš„ç¬¬ä¸‰æ–¹å¹³å°ï¼Œä¸€èˆ¬æ˜¯å·²ç»æ‹¥æœ‰å¤§é‡ç”¨æˆ·çš„å¹³å°ï¼Œå›½å¤–çš„æ¯”å¦‚Facebookï¼ŒTwitterç­‰ï¼Œå›½å†…çš„æ¯”å¦‚å¾®åšã€å¾®ä¿¡ã€QQç­‰ã€‚"><a href="#ç¬¬ä¸‰æ–¹ç™»å½•æ˜¯åŸºäºç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šå·²æœ‰çš„è´¦å·å’Œå¯†ç æ¥å¿«é€Ÿå®Œæˆå·±æ–¹åº”ç”¨çš„ç™»å½•æˆ–è€…æƒæ³¨å†Œçš„åŠŸèƒ½ã€‚è€Œè¿™é‡Œçš„ç¬¬ä¸‰æ–¹å¹³å°ï¼Œä¸€èˆ¬æ˜¯å·²ç»æ‹¥æœ‰å¤§é‡ç”¨æˆ·çš„å¹³å°ï¼Œå›½å¤–çš„æ¯”å¦‚Facebookï¼ŒTwitterç­‰ï¼Œå›½å†…çš„æ¯”å¦‚å¾®åšã€å¾®ä¿¡ã€QQç­‰ã€‚" class="headerlink" title="ç¬¬ä¸‰æ–¹ç™»å½•æ˜¯åŸºäºç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šå·²æœ‰çš„è´¦å·å’Œå¯†ç æ¥å¿«é€Ÿå®Œæˆå·±æ–¹åº”ç”¨çš„ç™»å½•æˆ–è€…æƒæ³¨å†Œçš„åŠŸèƒ½ã€‚è€Œè¿™é‡Œçš„ç¬¬ä¸‰æ–¹å¹³å°ï¼Œä¸€èˆ¬æ˜¯å·²ç»æ‹¥æœ‰å¤§é‡ç”¨æˆ·çš„å¹³å°ï¼Œå›½å¤–çš„æ¯”å¦‚Facebookï¼ŒTwitterç­‰ï¼Œå›½å†…çš„æ¯”å¦‚å¾®åšã€å¾®ä¿¡ã€QQç­‰ã€‚"></a>ç¬¬ä¸‰æ–¹ç™»å½•æ˜¯åŸºäºç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šå·²æœ‰çš„è´¦å·å’Œå¯†ç æ¥å¿«é€Ÿå®Œæˆå·±æ–¹åº”ç”¨çš„ç™»å½•æˆ–è€…æƒæ³¨å†Œçš„åŠŸèƒ½ã€‚è€Œè¿™é‡Œçš„ç¬¬ä¸‰æ–¹å¹³å°ï¼Œä¸€èˆ¬æ˜¯å·²ç»æ‹¥æœ‰å¤§é‡ç”¨æˆ·çš„å¹³å°ï¼Œå›½å¤–çš„æ¯”å¦‚Facebookï¼ŒTwitterç­‰ï¼Œå›½å†…çš„æ¯”å¦‚å¾®åšã€å¾®ä¿¡ã€QQç­‰ã€‚</h5><h5 id="ç¬¬ä¸‰æ–¹ç™»å½•çš„ç›®çš„æ˜¯ä½¿ç”¨ç”¨æˆ·åœ¨å…¶ä»–å¹³å°ä¸Šé¢‘ç¹ä½¿ç”¨çš„è´¦å·ï¼Œæ¥å¿«é€Ÿç™»å½•å·±æ–¹äº§å“ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸æ³¨å†Œå°±èƒ½ç™»å½•ï¼Œå¥½å¤„å°±æ˜¯ç™»å½•æ¯”è¾ƒå¿«æ·ï¼Œä¸ç”¨æ³¨å†Œã€‚"><a href="#ç¬¬ä¸‰æ–¹ç™»å½•çš„ç›®çš„æ˜¯ä½¿ç”¨ç”¨æˆ·åœ¨å…¶ä»–å¹³å°ä¸Šé¢‘ç¹ä½¿ç”¨çš„è´¦å·ï¼Œæ¥å¿«é€Ÿç™»å½•å·±æ–¹äº§å“ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸æ³¨å†Œå°±èƒ½ç™»å½•ï¼Œå¥½å¤„å°±æ˜¯ç™»å½•æ¯”è¾ƒå¿«æ·ï¼Œä¸ç”¨æ³¨å†Œã€‚" class="headerlink" title="ç¬¬ä¸‰æ–¹ç™»å½•çš„ç›®çš„æ˜¯ä½¿ç”¨ç”¨æˆ·åœ¨å…¶ä»–å¹³å°ä¸Šé¢‘ç¹ä½¿ç”¨çš„è´¦å·ï¼Œæ¥å¿«é€Ÿç™»å½•å·±æ–¹äº§å“ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸æ³¨å†Œå°±èƒ½ç™»å½•ï¼Œå¥½å¤„å°±æ˜¯ç™»å½•æ¯”è¾ƒå¿«æ·ï¼Œä¸ç”¨æ³¨å†Œã€‚"></a>ç¬¬ä¸‰æ–¹ç™»å½•çš„ç›®çš„æ˜¯ä½¿ç”¨ç”¨æˆ·åœ¨å…¶ä»–å¹³å°ä¸Šé¢‘ç¹ä½¿ç”¨çš„è´¦å·ï¼Œæ¥å¿«é€Ÿç™»å½•å·±æ–¹äº§å“ï¼Œä¹Ÿå¯ä»¥å®ç°ä¸æ³¨å†Œå°±èƒ½ç™»å½•ï¼Œå¥½å¤„å°±æ˜¯ç™»å½•æ¯”è¾ƒå¿«æ·ï¼Œä¸ç”¨æ³¨å†Œã€‚</h5><h3 id="äºŒã€ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æµç¨‹"><a href="#äºŒã€ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æµç¨‹" class="headerlink" title="äºŒã€ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æµç¨‹"></a>äºŒã€ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æµç¨‹</h3><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110142954.png"></p><h4 id="è·å–æˆæƒ-â€”-gt-ç»‘å®šè´¦å·-â€”-gt-ç™»é™†æˆåŠŸ-â€”-gt-è§£ç»‘-æ¢ç»‘"><a href="#è·å–æˆæƒ-â€”-gt-ç»‘å®šè´¦å·-â€”-gt-ç™»é™†æˆåŠŸ-â€”-gt-è§£ç»‘-æ¢ç»‘" class="headerlink" title="è·å–æˆæƒ â€”-&gt; ç»‘å®šè´¦å· â€”-&gt; ç™»é™†æˆåŠŸ â€”-&gt; è§£ç»‘/æ¢ç»‘"></a>è·å–æˆæƒ â€”-&gt; ç»‘å®šè´¦å· â€”-&gt; ç™»é™†æˆåŠŸ â€”-&gt; è§£ç»‘/æ¢ç»‘</h4><h3 id="ä¸‰ã€è·å–ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æˆæƒ"><a href="#ä¸‰ã€è·å–ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æˆæƒ" class="headerlink" title="ä¸‰ã€è·å–ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æˆæƒ"></a>ä¸‰ã€è·å–ç¬¬ä¸‰æ–¹è´¦å·ç™»å½•æˆæƒ</h3><p>ä»¥Github ä¸ºä¾‹</p><p>æµç¨‹ï¼š</p><p><img src= "/img/loading.gif" data-lazy-src="https://img-blog.csdn.net/20170828161704516?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvemh1bWluZzM4MzQ=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="è¿™é‡Œå†™å›¾ç‰‡æè¿°"></p><h4 id="1ã€-åœ¨githubåˆ›å»ºåº”ç”¨"><a href="#1ã€-åœ¨githubåˆ›å»ºåº”ç”¨" class="headerlink" title="1ã€ åœ¨githubåˆ›å»ºåº”ç”¨"></a>1ã€ åœ¨githubåˆ›å»ºåº”ç”¨</h4><p><strong><em>Settings â€”-&gt;  Developer setting â€”-&gt; OAuth Apps â€”-&gt; New OAuth Apps</em></strong> </p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110143108.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110143216.png"></p><p>è‡³æ­¤  åº”ç”¨å°±åˆ›å»ºæˆåŠŸï¼Œæ¥ä¸‹æ¥å°±å¯ä»¥ä½¿ç”¨ï¼</p><p><strong><em>å…¶ä»–å¾®åšã€è…¾è®¯QQ ã€å¾®ä¿¡ç­‰éƒ½å¤§åŒå°å¼‚ï¼Œåªæ˜¯ç”³è¯·æµç¨‹ä¼šæœ‰ä¸åŒï¼Œä½†æ˜¯å¤§ä½“æµç¨‹ä¸ä¼šæœ‰å‡ºå…¥ï¼Œç›®çš„éƒ½æ˜¯ä¸ºäº†å¾—åˆ° <code>Client ID</code>å’Œ<code>Clinet Secret</code>(æˆ–è€…æ˜¯APPID å’Œ APP Secret)</em></strong></p><h4 id="2ã€Nodejså®ç°åå°ç™»å½•å¤„ç†"><a href="#2ã€Nodejså®ç°åå°ç™»å½•å¤„ç†" class="headerlink" title="2ã€Nodejså®ç°åå°ç™»å½•å¤„ç†"></a>2ã€Nodejså®ç°åå°ç™»å½•å¤„ç†</h4><ul><li><h5 id="å‰ç«¯é¡µé¢å¯¼èˆªåˆ°æˆ‘ä»¬çš„æ¥å£-ï¼ˆaæ ‡ç­¾ï¼‰"><a href="#å‰ç«¯é¡µé¢å¯¼èˆªåˆ°æˆ‘ä»¬çš„æ¥å£-ï¼ˆaæ ‡ç­¾ï¼‰" class="headerlink" title="å‰ç«¯é¡µé¢å¯¼èˆªåˆ°æˆ‘ä»¬çš„æ¥å£  ï¼ˆaæ ‡ç­¾ï¼‰"></a>å‰ç«¯é¡µé¢å¯¼èˆªåˆ°æˆ‘ä»¬çš„æ¥å£  ï¼ˆaæ ‡ç­¾ï¼‰</h5></li></ul><p><code>https://github.com/login/oauth/authorize?client_id=</code>+åˆšåˆ›å»ºçš„client_id+<code>&amp;redirect_url=</code>+å›è°ƒæ–¹æ³•æ¥å£çš„åœ°å€</p><p>Eg: <code>https://github.com/login/oauth/authorize?client_id=e2a1eaa9cf8f58c79077&amp;redirect_url=http://www.netbugs.cn:3002/api/authorizeLogin</code></p><ul><li><h5 id="å¾—åˆ°æˆæƒçš„redirect-url-æ­¤å›è°ƒåœ°å€ä¼šæºå¸¦ä¸€ä¸ªcode"><a href="#å¾—åˆ°æˆæƒçš„redirect-url-æ­¤å›è°ƒåœ°å€ä¼šæºå¸¦ä¸€ä¸ªcode" class="headerlink" title="å¾—åˆ°æˆæƒçš„redirect_url æ­¤å›è°ƒåœ°å€ä¼šæºå¸¦ä¸€ä¸ªcode"></a>å¾—åˆ°æˆæƒçš„<code>redirect_url</code> æ­¤å›è°ƒåœ°å€ä¼šæºå¸¦ä¸€ä¸ª<code>code</code></h5></li></ul><p>  Egï¼š<code> http://www.netbugs.cn:3002/api/authorizeLogin?code=xxxxx</code></p><ul><li><h5 id="authorizeLogin-è§£æcodeå¹¶è¯·æ±‚-githubçš„access-token"><a href="#authorizeLogin-è§£æcodeå¹¶è¯·æ±‚-githubçš„access-token" class="headerlink" title="authorizeLogin  è§£æcodeå¹¶è¯·æ±‚ githubçš„access_token"></a><code>authorizeLogin</code>  è§£æcodeå¹¶è¯·æ±‚ githubçš„<code>access_token</code></h5></li></ul><p>  è¯·æ±‚åœ°å€ï¼š<code>https://github.com/login/oauth/access_token</code></p><p>  è¯·æ±‚body : <code>&#123; client_id,    client_secret, code&#125;</code></p><ul><li><h5 id="æ ¹æ®å¾—åˆ°çš„access-token-è·å–ç”¨æˆ·ä¿¡æ¯"><a href="#æ ¹æ®å¾—åˆ°çš„access-token-è·å–ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="æ ¹æ®å¾—åˆ°çš„access_token è·å–ç”¨æˆ·ä¿¡æ¯"></a>æ ¹æ®å¾—åˆ°çš„<code>access_token</code> è·å–ç”¨æˆ·ä¿¡æ¯</h5></li></ul><p>  è¯·æ±‚åœ°å€ ï¼š <code>https://api.github.com/user?access_token=</code>+åˆšåˆšè·å–åˆ°çš„access_token</p><h4 id="3ã€å¾—åˆ°ç”¨æˆ·ä¿¡æ¯"><a href="#3ã€å¾—åˆ°ç”¨æˆ·ä¿¡æ¯" class="headerlink" title="3ã€å¾—åˆ°ç”¨æˆ·ä¿¡æ¯"></a>3ã€å¾—åˆ°ç”¨æˆ·ä¿¡æ¯</h4><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110142712.png"></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110140652.png"></p><h5 id="æµ‹è¯•é“¾æ¥-ï¼š-http-www-netbugs-cn-3002-api-loginGithub"><a href="#æµ‹è¯•é“¾æ¥-ï¼š-http-www-netbugs-cn-3002-api-loginGithub" class="headerlink" title="æµ‹è¯•é“¾æ¥ ï¼š http://www.netbugs.cn:3002/api/loginGithub"></a>æµ‹è¯•é“¾æ¥ ï¼š <a href="http://www.netbugs.cn:3002/api/loginGithub">http://www.netbugs.cn:3002/api/loginGithub</a></h5><h5 id="æ³¨æ„äº‹é¡¹ï¼š-å„ä¸ªä¸åŒçš„ç¬¬ä¸‰æ–¹ç™»å½•åŸºæœ¬ä¸Šæµç¨‹ä¸æ­¤æ–¹æ³•æ²¡æœ‰å¤ªå¤§å‡ºå…¥ï¼Œåªæ˜¯åœ¨ä¸åŒçš„å¹³å°ï¼Œå’Œè‡ªå·±æ­¤githubåº”ç”¨çš„ä¸šåŠ¡ä¼šæœ‰ç‚¹ä¸ä¸€æ ·-åªè¦é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œéƒ½å¯ä»¥å¾ˆå¥½è§£å†³-ï¼šï¼‰"><a href="#æ³¨æ„äº‹é¡¹ï¼š-å„ä¸ªä¸åŒçš„ç¬¬ä¸‰æ–¹ç™»å½•åŸºæœ¬ä¸Šæµç¨‹ä¸æ­¤æ–¹æ³•æ²¡æœ‰å¤ªå¤§å‡ºå…¥ï¼Œåªæ˜¯åœ¨ä¸åŒçš„å¹³å°ï¼Œå’Œè‡ªå·±æ­¤githubåº”ç”¨çš„ä¸šåŠ¡ä¼šæœ‰ç‚¹ä¸ä¸€æ ·-åªè¦é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œéƒ½å¯ä»¥å¾ˆå¥½è§£å†³-ï¼šï¼‰" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼š å„ä¸ªä¸åŒçš„ç¬¬ä¸‰æ–¹ç™»å½•åŸºæœ¬ä¸Šæµç¨‹ä¸æ­¤æ–¹æ³•æ²¡æœ‰å¤ªå¤§å‡ºå…¥ï¼Œåªæ˜¯åœ¨ä¸åŒçš„å¹³å°ï¼Œå’Œè‡ªå·±æ­¤githubåº”ç”¨çš„ä¸šåŠ¡ä¼šæœ‰ç‚¹ä¸ä¸€æ ·,åªè¦é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œéƒ½å¯ä»¥å¾ˆå¥½è§£å†³ ï¼šï¼‰~"></a>æ³¨æ„äº‹é¡¹ï¼š å„ä¸ªä¸åŒçš„ç¬¬ä¸‰æ–¹ç™»å½•åŸºæœ¬ä¸Šæµç¨‹ä¸æ­¤æ–¹æ³•æ²¡æœ‰å¤ªå¤§å‡ºå…¥ï¼Œåªæ˜¯åœ¨ä¸åŒçš„å¹³å°ï¼Œå’Œè‡ªå·±æ­¤githubåº”ç”¨çš„ä¸šåŠ¡ä¼šæœ‰ç‚¹ä¸ä¸€æ ·,åªè¦é˜…è¯»å®˜æ–¹æ–‡æ¡£ï¼Œéƒ½å¯ä»¥å¾ˆå¥½è§£å†³ ï¼šï¼‰~</h5>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•&quot;&gt;&lt;a href=&quot;#ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•&quot;&gt;&lt;/a&gt;ä¸€ã€ä»€ä¹ˆæ˜¯ç¬¬ä¸‰æ–¹ç™»å½•&lt;/h3&gt;&lt;h5 id=&quot;ç¬¬ä¸‰æ–¹ç™»å½•æ˜¯åŸºäºç”¨æˆ·åœ¨ç¬¬ä¸‰æ–¹å¹³å°ä¸Šå·²æœ‰çš„è´¦å·å’Œå¯†ç æ¥å¿«é€Ÿå®Œæˆå·±æ–¹åº”</summary>
      
    
    
    
    <category term="node.js" scheme="http://gtliangming.github.io/categories/node-js/"/>
    
    
    <category term="node.js github" scheme="http://gtliangming.github.io/tags/node-js-github/"/>
    
  </entry>
  
  <entry>
    <title>å¦‚ä½•ä½¿ç”¨Npmå‘å¸ƒè‡ªå·±çš„åŒ…</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jxq000ofanm3brs0ety/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jxq000ofanm3brs0ety/</id>
    <published>2020-12-09T05:50:04.000Z</published>
    <updated>2020-12-09T05:55:42.308Z</updated>
    
    <content type="html"><![CDATA[<h2 id="ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç "><a href="#ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç " class="headerlink" title="ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç "></a>ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç </h2><h5 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h5><p>â€‹    æˆ‘ä»¬å‰ç«¯ç¨‹åºå‘˜ï¼Œå¿…ä¸å¯å°‘çš„ç»å¸¸ä½¿ç”¨<code>npm install xxx</code> æ¥å®‰è£…å„ç§å„æ ·çš„åŒ…ã€‚æœ€è¿‘ï¼Œæˆ‘å°±å¾ˆç–‘æƒ‘ä¹Ÿå¾ˆå¥½å¥‡ï¼Œå°±ä¸ºä»€ä¹ˆä¸€æ¡å‘½ä»¤å°±å¯ä»¥å°†ä»£ç ä¸‹è½½ä¸‹æ¥ã€‚é‚£æˆ‘è‡ªå·±çš„ä»£ç ä¹Ÿèƒ½è¿™ä¹ˆä¾¿æ·çš„è¢«ä¸‹è½½å—ï¼Ÿå½“ç„¶ï¼Œç»“æœæ˜¯è‚¯å®šçš„ï¼Œæœ¬ç€å¥½å¥‡å¿ƒå®³(cu)æ­»(shi)å¤´(jin)å‘(bu)ï¼Œå­¦ä¹ ä¸äº†è§£åï¼Œæ¥ä¸‹æ¥å°±æ¥å®ç° : )</p><h4 id="1ã€å…³äºnpm"><a href="#1ã€å…³äºnpm" class="headerlink" title="1ã€å…³äºnpm"></a>1ã€å…³äºnpm</h4><p><strong>ç®€å•ä»‹ç»ä¸€ä¸‹npmï¼š</strong><code>npm</code>å¤§å®¶åº”è¯¥éƒ½äº†è§£ï¼Œå®ƒæ˜¯node.jså®˜æ–¹çš„åŒ…ç®¡ç†å·¥å…·ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨æ§åˆ¶å°è¾“å…¥ä¸€äº›ç®€å•çš„å‘½ä»¤å°±èƒ½ä½¿ç”¨å®ƒæ¥æ›´æ–°ï¼Œä¸‹è½½ï¼Œä¸Šä¼ nodeåŒ…ï¼ˆ<a href="https://www.npmjs.com/">https://www.npmjs.com</a> ï¼‰ã€‚ </p><h4 id="2ã€å‘å¸ƒå‡†å¤‡"><a href="#2ã€å‘å¸ƒå‡†å¤‡" class="headerlink" title="2ã€å‘å¸ƒå‡†å¤‡"></a>2ã€å‘å¸ƒå‡†å¤‡</h4><ul><li><p>éªŒè¯å®‰è£…nodeå’Œnpm å·²å®‰è£…è·³è¿‡ ^__^</p><p>åŸºæœ¬çš„å®‰è£…nodeåœ¨è¿™é‡Œå°±ä¸åšè¿‡å¤šèµ˜è¿°ï¼Œåªæ¥éªŒè¯ä¸€ä¸‹æ˜¯å¦å®‰è£…äº†node,å› ä¸ºè¿™æ˜¯æˆ‘ä»¬å®ç°npmä¸Šå‘å¸ƒä»£ç çš„åŸºç¡€</p><p>æ‰“å¼€å‘½ä»¤è¡Œï¼Œè¾“å…¥<code>npm -v</code> å¦‚æœå‡ºç°ç‰ˆæœ¬å·ï¼Œåˆ™è¯´æ˜å·²ç»å®‰è£…</p></li><li><p>æ–°å»ºpackage.json</p><p>ä½¿ç”¨<code>npm init</code> åˆ›å»ºä¸€ä¸ªpackage.jsonæ–‡ä»¶ï¼ˆåœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ–°å»ºä¸€ä¸ª<code>package.json</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªç”¨æ¥æè¿°ä½ çš„åŒ…çš„jsonæ–‡ä»¶ï¼‰</p><p>é…ç½®package.json</p><figure class="highlight json"><table><tr><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;lmtestpack&quot;</span>,   <span class="comment">// nameæ˜¯ä½ å‘å¸ƒå‡ºå»çš„npmåŒ…å</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span>: <span class="string">&quot;1.0.1&quot;</span>,  <span class="comment">// å‘å¸ƒç‰ˆæœ¬</span></span><br><span class="line">  <span class="attr">&quot;description&quot;</span>: <span class="string">&quot;My NPM test pack&quot;</span>,                <span class="comment">// å¯¹æ­¤npmåŒ…çš„æè¿°</span></span><br><span class="line">  <span class="attr">&quot;main&quot;</span>: <span class="string">&quot;index.js&quot;</span>,  <span class="comment">// å…¥å£æ–‡ä»¶</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;                                      <span class="comment">// è„šæœ¬å‘½ä»¤</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span>: <span class="string">&quot;node index.js&quot;</span>,                      </span><br><span class="line">    <span class="attr">&quot;dev&quot;</span>: <span class="string">&quot;nodemon&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;                              <span class="comment">// ä»…åœ¨å¼€å‘ç¯å¢ƒçš„åŒ…</span></span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^5.16.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;nodemon&quot;</span>: <span class="string">&quot;^1.18.11&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span>: &#123;                                 <span class="comment">// ç”Ÿäº§ç¯å¢ƒä¾èµ–åŒ…     </span></span><br><span class="line">    <span class="attr">&quot;react&quot;</span>: <span class="string">&quot;16.13.1&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;cli-color&quot;</span>: <span class="string">&quot;^2.0.0&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;console-png&quot;</span>: <span class="string">&quot;^1.2.1&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;repository&quot;</span>: &#123;                                   <span class="comment">// åŒ…æ‰€åœ¨ä»“åº“ä¿¡æ¯                                   </span></span><br><span class="line">    <span class="attr">&quot;type&quot;</span>: <span class="string">&quot;git&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;url&quot;</span>: <span class="string">&quot;https://github.com/GTliangming/demo-object.git&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;author&quot;</span>: <span class="string">&quot;Peter Leung&quot;</span>,                          <span class="comment">// ä½œè€…</span></span><br><span class="line">  <span class="attr">&quot;license&quot;</span>: <span class="string">&quot;ISC&quot;</span>,                                 <span class="comment">// æè¿°ä»£ç çš„è®¸å¯è¯ MITã€ISCæˆ–UNLICENSED</span></span><br><span class="line">  <span class="attr">&quot;keywords&quot;</span>: [                                     <span class="comment">// æ­¤åŒ…çš„æœç´¢å…³é”®è¯</span></span><br><span class="line">    <span class="string">&quot;node&quot;</span>,</span><br><span class="line">    <span class="string">&quot;node.js&quot;</span>,</span><br><span class="line">    <span class="string">&quot;express&quot;</span>,</span><br><span class="line">    <span class="string">&quot;react.js&quot;</span></span><br><span class="line">  ],</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>ç¼–å†™ä»£ç </p><p>è™½ç„¶npmæ˜¯å…è®¸å‘å¸ƒä¸€ä¸ªç©ºåŒ…ï¼ˆåªå«æœ‰<code>package.json</code>çš„åŒ…ï¼‰ï¼Œä½†æ˜¯è¿™æ ·çš„ä¸€ä¸ªåŒ…æ˜¯æ²¡æœ‰æ„ä¹‰çš„ã€‚ æˆ‘ä»¬å¦‚æœæ²¡æœ‰ä»£ç ï¼Œå¯ä»¥å…ˆåŠ ä¸€ä¸ª<code>README.md</code>æ¥è¯´æ˜ä¸€ä¸‹è‡ªå·±çš„åŒ…ã€‚æˆ–è€…ç›´æ¥ä»£ç (js,html,cssç­‰)æ”¾è¿›æ¥ã€‚</p></li></ul><h4 id="3ã€å¼€å§‹å‘å¸ƒ"><a href="#3ã€å¼€å§‹å‘å¸ƒ" class="headerlink" title="3ã€å¼€å§‹å‘å¸ƒ"></a>3ã€å¼€å§‹å‘å¸ƒ</h4><ul><li><p>åˆ›å»ºnpmè´¦å·</p><p>å¦‚æœä½ æ²¡æœ‰åˆ›å»ºè¿‡npmè´¦å·ï¼Œå¯è¾“å…¥å¦‚ä¸‹å‘½ä»¤æ·»åŠ ä¸€ä¸ªnpmè´¦å·ï¼Œå¹¶è·Ÿç€æç¤ºå¡«å†™è¦æ³¨å†Œçš„è´¦å·å’Œå¯†ç </p><p><code>npm adduser</code></p><p>ä¾æ¬¡è¾“å…¥ç”¨æˆ·åã€å¯†ç å’Œé‚®ç®± ï¼ˆä¹Ÿå¯ä»¥è¿›å…¥ <a href="https://www.npmjs.com/">https://www.npmjs.com/</a> è¿™ä¸ªç½‘å€æ³¨å†Œï¼‰</p></li><li><p>å¼€å§‹å‘å¸ƒ</p><p>è¾“å…¥å‘½ä»¤<code>npm publish</code> æˆ–<code>npm publish --access public</code> è¿›è¡Œå‘å¸ƒ</p></li><li><p>å‘å¸ƒæˆåŠŸ</p><p>è¿™æ ·ä½ å°±å¯ä»¥åœ¨<a href="https://www.npmjs.com/">www.npmjs.com</a>æœç´¢å¹¶æ‰¾åˆ°ä½ åˆšæ‰å‘å¸ƒçš„npmåŒ…åï¼ˆå¦‚æœéœ€è¦ç™»å½•ï¼Œè¯·ä½¿ç”¨åˆšæ‰ä½ åœ¨æ§åˆ¶å°æ³¨å†Œçš„è´¦å·ï¼‰</p><p>è¿™æ ·å°±å¯ä»¥é€šè¿‡<code>npm install xxx</code>æ¥å®‰è£…ä½ çš„åŒ…äº†(ä¾‹å¦‚ï¼šnpm install lmtestpack)</p></li></ul><h4 id="4ã€å¸¸è§é—®é¢˜"><a href="#4ã€å¸¸è§é—®é¢˜" class="headerlink" title="4ã€å¸¸è§é—®é¢˜"></a>4ã€å¸¸è§é—®é¢˜</h4><ul><li><p>1.å¦‚æœéœ€è¦æ›´æ–°åŒ…ï¼Œåœ¨ä¿®æ”¹å®Œä»£ç åè¯·è®°å¾—ä¿®æ”¹<code>package.json</code>åŒ…çš„<code>version</code>å­—æ®µï¼Œç„¶å <code>npm publish</code>ã€‚å¦åˆ™ä¼šæ— æ³•å‘å¸ƒï¼›</p></li><li><p>2.å¦‚æœåœ¨å‘å¸ƒä¸­æ˜¾ç¤ºç±»ä¼¼â€™è¯·ç¡®è®¤ä½ æ˜¯å¦æœ‰æƒé™æ›´æ–°xxxåŒ…â€™çš„è‹±æ–‡æç¤ºï¼Œè¿™å°±è¯´æ˜ä½ çš„åŒ…åæœ‰äººä½¿ç”¨äº†ã€‚æ¢ä¸ªåå­—å°±å¥½å•¦ã€‚</p></li><li><p>3.å¦‚æœä½ æƒ³åˆ é™¤ä¸€ä¸ªè‡ªå·±å‘å¸ƒè¿‡çš„åŒ…ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ <code>npm unpublish --force xxx</code> ï¼ˆxxxä¸ºåŒ…åï¼‰ï¼Œä¸€äº›æ²¡æœ‰æ„ä¹‰çš„åŒ…è¿˜æ˜¯å»ºè®®åˆ æ‰ã€‚</p></li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç &quot;&gt;&lt;a href=&quot;#ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç &quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç &quot;&gt;&lt;/a&gt;ä¸€ã€åœ¨npmå‘å¸ƒå¯å®‰è£…çš„ä»£ç &lt;/h2&gt;&lt;h5 id=&quot;å‰è¨€&quot;&gt;&lt;a href=&quot;#å‰è¨€&quot;</summary>
      
    
    
    
    <category term="npm" scheme="http://gtliangming.github.io/categories/npm/"/>
    
    
    <category term="npm git" scheme="http://gtliangming.github.io/tags/npm-git/"/>
    
  </entry>
  
  <entry>
    <title>è°·æ­Œæµè§ˆå™¨WebScrapeæ’ä»¶dçš„ä½¿ç”¨</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jxz000ufanm3lq29c5q/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jxz000ufanm3lq29c5q/</id>
    <published>2020-12-09T05:49:04.000Z</published>
    <updated>2020-12-09T05:55:17.987Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Web-Scraper"><a href="#Web-Scraper" class="headerlink" title="Web Scraper"></a>Web Scraper</h1><p>å®˜æ–¹æ–‡æ¡£ <a href="https://www.webscraper.io/documentation?utm_source=extension&amp;utm_medium=popup">https://www.webscraper.io/documentation?utm_source=extension&amp;utm_medium=popup</a></p><h2 id="ä¸€ã€ä»€ä¹ˆæ˜¯Web-Scraper"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯Web-Scraper" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯Web Scraper"></a>ä¸€ã€ä»€ä¹ˆæ˜¯Web Scraper</h2><p>web scraperæ˜¯ä¸€æ¬¾ç½‘ç«™æ•°æ®æå–å·¥å…·ï¼Œç±»ä¼¼äºçˆ¬è™«ï¼Œä½†ä¸éœ€è¦åƒpythonçˆ¬è™«é‚£æ ·ç¼–å†™ä»£ç ï¼Œä½¿ç”¨é—¨æ§›è¾ƒä½ï¼Œé€‚ç”¨äºè½»åº¦çš„æ•°æ®çˆ¬å–ã€‚web scraperä¸»è¦ä»¥è°·æ­Œæ‰©å±•æ’ä»¶çš„å½¢å¼å­˜åœ¨ã€‚</p><h2 id="äºŒã€å¦‚ä½•å®‰è£…Web-Scraper"><a href="#äºŒã€å¦‚ä½•å®‰è£…Web-Scraper" class="headerlink" title="äºŒã€å¦‚ä½•å®‰è£…Web Scraper"></a>äºŒã€å¦‚ä½•å®‰è£…Web Scraper</h2><p>æ‰“å¼€è°·æ­Œåº”ç”¨å•†åº—ï¼Œæœç´¢æ æœç´¢web scraper,ç‚¹å‡»æ·»åŠ </p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135614.png"></p><h2 id="ä¸‰ã€ä½¿ç”¨ä»‹ç»"><a href="#ä¸‰ã€ä½¿ç”¨ä»‹ç»" class="headerlink" title="ä¸‰ã€ä½¿ç”¨ä»‹ç»"></a>ä¸‰ã€ä½¿ç”¨ä»‹ç»</h2><h5 id="1ã€ç¡®å®šè°·æ­Œæµè§ˆå™¨å®‰è£…äº†Web-Scraperåï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ç•Œé¢ï¼Œå¹¶ä½¿å…¶æ‚¬æµ®åœ¨æµè§ˆå™¨åº•éƒ¨ï¼Œå¯åœ¨å·¥å…·æ å‘ç°web-scraperä¸€é¡¹"><a href="#1ã€ç¡®å®šè°·æ­Œæµè§ˆå™¨å®‰è£…äº†Web-Scraperåï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ç•Œé¢ï¼Œå¹¶ä½¿å…¶æ‚¬æµ®åœ¨æµè§ˆå™¨åº•éƒ¨ï¼Œå¯åœ¨å·¥å…·æ å‘ç°web-scraperä¸€é¡¹" class="headerlink" title="1ã€ç¡®å®šè°·æ­Œæµè§ˆå™¨å®‰è£…äº†Web Scraperåï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ç•Œé¢ï¼Œå¹¶ä½¿å…¶æ‚¬æµ®åœ¨æµè§ˆå™¨åº•éƒ¨ï¼Œå¯åœ¨å·¥å…·æ å‘ç°web scraperä¸€é¡¹"></a>1ã€ç¡®å®šè°·æ­Œæµè§ˆå™¨å®‰è£…äº†Web Scraperåï¼Œæ‰“å¼€å¼€å‘è€…å·¥å…·ç•Œé¢ï¼Œå¹¶ä½¿å…¶æ‚¬æµ®åœ¨æµè§ˆå™¨åº•éƒ¨ï¼Œå¯åœ¨å·¥å…·æ å‘ç°web scraperä¸€é¡¹</h5><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135607.png"></p><h5 id="2ã€åŠŸèƒ½æ ä»‹ç»"><a href="#2ã€åŠŸèƒ½æ ä»‹ç»" class="headerlink" title="2ã€åŠŸèƒ½æ ä»‹ç»"></a>2ã€åŠŸèƒ½æ ä»‹ç»</h5><ul><li>create new sitemap  åˆ›å»ºæ–°çš„ç½‘ç«™æŸ¥è¯¢</li></ul><p><strong>Create Sitemap</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135603.png"></p><blockquote><p>sitemap name :åç§° éšä¾¿èµ· (éä¸­æ–‡)</p><p>Start URL ï¼šéœ€è¦æŠ“å–æ•°æ®çš„ç½‘ç«™é“¾æ¥</p><p>ä»¥ç™¾åº¦ä¸ºä¾‹åˆ›å»ºæŸ¥è¯¢</p></blockquote><p><strong>Import Sitemap</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135556.png"></p><blockquote><p>Sitemap Json : å¯¼å…¥jsonæ•°æ®è¿›è¡ŒæŠ“å–</p><p>Rename Sitemap : èµ·åå­—</p></blockquote><ul><li><p>Sitemap baidu</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135550.png"></p></li></ul><blockquote><p>Selectors :æŸ¥çœ‹åˆ›å»ºçš„ç­›é€‰å™¨</p><p>Selectors graph :ç­›é€‰çš„å±‚çº§ç»“æ„</p><p>Edit metadata : ç¼–è¾‘ä¹‹å‰åˆ›å»ºçš„ç½‘ç«™</p><p>Scrape: å¼€å§‹æ ¹æ®åˆ›å»ºçš„ç­›é€‰å™¨å¼€å§‹æŠ“å–</p><p>Browser : åœ¨çº¿æŸ¥çœ‹ç­›é€‰çš„æ•°æ® ï¼ˆéœ€åœ¨æŠ“å–å®ŒæˆåæŸ¥çœ‹ï¼‰</p><p>Export Sitemap : å¯¼å‡ºåˆ›å»ºçš„æŸ¥è¯¢ç½‘ç«™ä¿¡æ¯</p><p>Export data as CSV ï¼šå¯¼å‡ºæŠ“å–çš„æ•°æ®ä»¥CSVæ–‡ä»¶æ ¼å¼</p></blockquote><h2 id="å››ã€å®ä¾‹"><a href="#å››ã€å®ä¾‹" class="headerlink" title="å››ã€å®ä¾‹"></a>å››ã€å®ä¾‹</h2><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135542.png"></p><p>æŠ“å–é¡¶éƒ¨å¯¼èˆªçš„åç§°åŠé“¾æ¥</p><h3 id="1ã€ç¬¬ä¸€æ­¥-åˆ›å»ºsitemap"><a href="#1ã€ç¬¬ä¸€æ­¥-åˆ›å»ºsitemap" class="headerlink" title="1ã€ç¬¬ä¸€æ­¥ åˆ›å»ºsitemap"></a>1ã€ç¬¬ä¸€æ­¥ åˆ›å»ºsitemap</h3><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135536.png"></p><h3 id="2ã€åˆ›å»ºç­›é€‰å™¨"><a href="#2ã€åˆ›å»ºç­›é€‰å™¨" class="headerlink" title="2ã€åˆ›å»ºç­›é€‰å™¨"></a>2ã€åˆ›å»ºç­›é€‰å™¨</h3><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135530.png"></p><p>å•å‡»åˆ›å»ºçš„sietmap ç„¶åç‚¹å·¦ä¸‹è§’ Add new Selectorï¼ˆå¯æ·»åŠ å¤šä¸ªï¼‰</p><p>â€‹    <strong>ç­›é€‰æ ‡é¢˜ç­›é€‰å™¨</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135525.png"></p><blockquote><p>idï¼šåå­—éšä¾¿èµ·</p><p>Type: ç±»å‹ å¯é€‰  ï¼ˆå…·æœ‰è¾ƒå¤šç±»å‹ï¼Œå»ºè®®æŸ¥çœ‹å®˜ç½‘ï¼‰</p><p>Selector ï¼š å…ˆç‚¹å‡»selector ï¼Œç„¶åç‚¹å‡»ç½‘ç«™ä¸Šè¦æŠ“å–çš„ä¸œè¥¿ï¼Œç­‰è¢«çº¢æ¡†æ¡†ä½ï¼Œå°±å¯é€‰æ‹©ä¸‹ä¸€é¡¹ï¼ˆä¼šè‡ªåŠ¨å¸®ä½ å¤šé€‰ï¼‰ï¼Œé€‰æ‹©å®Œæˆåç‚¹å‡»Done selecting</p><p>Element Preview :é¢„è§ˆé€‰æ‹©çš„å…ƒç´ </p><p>Data Preview :é¢„è§ˆé€‰æ‹©æ•°æ®</p><p>Multiple:æ˜¯å¦é€‰æ‹©å¤šä¸ªå…ƒç´ </p><p>Regex :æ­£åˆ™ç­›é€‰è§„åˆ™</p><p>Parent Selectors :é€‰æ‹©çˆ¶çº§ç­›é€‰è§„åˆ™</p></blockquote><p>â€‹    <strong>ç­›é€‰é“¾æ¥ç­›é€‰å™¨</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135519.png"></p><p>â€‹    <strong>é€‰æ‹©å™¨åˆ›å»ºå®Œæˆ</strong></p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135515.png"></p><p>å¯ç‚¹å‡»Sitemaps baidu â€”-&gt;Selectors graph æŸ¥çœ‹åˆ›å»ºçš„ç­›é€‰å™¨å±‚çº§</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135503.png"></p><h3 id="3-ã€å¼€å§‹ç­›é€‰"><a href="#3-ã€å¼€å§‹ç­›é€‰" class="headerlink" title="3 ã€å¼€å§‹ç­›é€‰"></a>3 ã€å¼€å§‹ç­›é€‰</h3><p>ç‚¹å‡»Sitemaps baidu â€”&gt; Scrape</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135456.png"></p><blockquote><p>è¯·æ±‚æ—¶é—´ä¸é¡µé¢æ»šåŠ¨å»¶è¿Ÿï¼Œå¯è‡ªå®šä¹‰ å®Œæˆåç‚¹å‡» Start Scraping ä¼šè·³å‡ºä¸€ä¸ªæ–°çš„é¡µé¢ï¼Œå¾…æ•´ä¸ªé¡µé¢è‡ªåŠ¨å…³é—­åï¼ˆå…³é—­æ—¶é—´ä¸ç­›é€‰çš„å¤æ‚ç¨‹åº¦ä¸æ•°æ®é‡å¤§å°æœ‰å…³ï¼‰ï¼Œè¡¨ç¤ºå·²ç»ç­›é€‰å®Œæˆ</p></blockquote><h3 id="4ã€æŸ¥çœ‹ç»“æœ"><a href="#4ã€æŸ¥çœ‹ç»“æœ" class="headerlink" title="4ã€æŸ¥çœ‹ç»“æœ"></a>4ã€æŸ¥çœ‹ç»“æœ</h3><p>ç‚¹å‡»Sitemaps baidu â€”- &gt;Browser</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135442.png"></p><p>ç‚¹å‡»refresh  å°±å¯æŸ¥çœ‹åˆ°æŠ“å–çš„æ•°æ®</p><p><img src= "/img/loading.gif" data-lazy-src="https://lm-imgstore.oss-cn-shanghai.aliyuncs.com/img/20201110135354.png"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Web-Scraper&quot;&gt;&lt;a href=&quot;#Web-Scraper&quot; class=&quot;headerlink&quot; title=&quot;Web Scraper&quot;&gt;&lt;/a&gt;Web Scraper&lt;/h1&gt;&lt;p&gt;å®˜æ–¹æ–‡æ¡£ &lt;a href=&quot;https://www.webscrap</summary>
      
    
    
    
    <category term="chrome" scheme="http://gtliangming.github.io/categories/chrome/"/>
    
    
    <category term="chrome" scheme="http://gtliangming.github.io/tags/chrome/"/>
    
  </entry>
  
  <entry>
    <title>Node.jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jxe0006fanm0egaeds2/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jxe0006fanm0egaeds2/</id>
    <published>2020-12-09T05:47:44.000Z</published>
    <updated>2020-12-09T05:56:54.139Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Node-jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url"><a href="#Node-jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url" class="headerlink" title="Node.jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url"></a>Node.jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url</h2><h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯é˜¿é‡Œäº‘oss"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯é˜¿é‡Œäº‘oss" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯é˜¿é‡Œäº‘oss"></a>ä¸€ã€ä»€ä¹ˆæ˜¯é˜¿é‡Œäº‘oss</h3><p><a href="https://www.aliyun.com/">é˜¿é‡Œäº‘å®˜ç½‘ ï¼šhttps://www.aliyun.com</a></p><p>é˜¿é‡Œäº‘å¯¹è±¡å­˜å‚¨æœåŠ¡ï¼ˆObject Storage Serviceï¼Œç®€ç§° OSSï¼‰ï¼Œæ˜¯é˜¿é‡Œäº‘æä¾›çš„æµ·é‡ã€å®‰å…¨ã€ä½æˆæœ¬ã€é«˜å¯é çš„äº‘å­˜å‚¨æœåŠ¡ã€‚å®ƒå…·æœ‰ä¸å¹³å°æ— å…³çš„RESTful APIæ¥å£ï¼Œèƒ½å¤Ÿæä¾›99.999999999%ï¼ˆ11ä¸ª9ï¼‰çš„æ•°æ®å¯é æ€§å’Œ99.99%çš„æœåŠ¡å¯ç”¨æ€§ã€‚æ‚¨å¯ä»¥åœ¨ä»»ä½•åº”ç”¨ã€ä»»ä½•æ—¶é—´ã€ä»»ä½•åœ°ç‚¹å­˜å‚¨å’Œè®¿é—®ä»»æ„ç±»å‹çš„æ•°æ®ã€‚</p><p>æ‚¨å¯ä»¥ä½¿ç”¨é˜¿é‡Œäº‘æä¾›çš„API/SDKæ¥å£æˆ–è€…OSSè¿ç§»å·¥å…·è½»æ¾åœ°å°†æµ·é‡æ•°æ®ç§»å…¥æˆ–ç§»å‡ºé˜¿é‡Œäº‘OSSã€‚æ•°æ®å­˜å‚¨åˆ°é˜¿é‡Œäº‘OSSä»¥åï¼Œæ‚¨å¯ä»¥é€‰æ‹©æ ‡å‡†ç±»å‹ï¼ˆStandardï¼‰çš„é˜¿é‡Œäº‘OSSæœåŠ¡ä½œä¸ºç§»åŠ¨åº”ç”¨ã€å¤§å‹ç½‘ç«™ã€å›¾ç‰‡åˆ†äº«æˆ–çƒ­ç‚¹éŸ³è§†é¢‘çš„ä¸»è¦å­˜å‚¨æ–¹å¼ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©æˆæœ¬æ›´ä½ã€å­˜å‚¨æœŸé™æ›´é•¿çš„ä½é¢‘è®¿é—®ç±»å‹ï¼ˆInfrequent Accessï¼‰å’Œå½’æ¡£ç±»å‹ï¼ˆArchiveï¼‰çš„é˜¿é‡Œäº‘OSSæœåŠ¡ä½œä¸ºä¸ç»å¸¸è®¿é—®æ•°æ®çš„å¤‡ä»½å’Œå½’æ¡£ã€‚</p><p><a href="https://help.aliyun.com/document_detail/31947.html">é˜¿é‡Œäº‘OSSå®˜æ–¹ä»‹ç»åœ°å€ï¼šhttps://help.aliyun.com/document_detail/31947.html</a></p><p>å…·ä½“çš„æ€ä¹ˆå¼€é€šé˜¿é‡Œäº‘ossã€æ–°å»ºBucketï¼Œåˆ›å»ºaccessKeyIdå’ŒaccessKeySecretç­‰ï¼Œç™¾åº¦æœ‰å¾ˆå¤š</p><p>è¿™é‡Œæä¾›ä¸€ä¸ªå‚è€ƒé“¾æ¥ ï¼š<a href="https://blog.csdn.net/qq_15980721/article/details/102490019">https://blog.csdn.net/qq_15980721/article/details/102490019</a></p><h3 id="äºŒã€å‰ç«¯è¡¨å•æäº¤-åç«¯nodeè¯·æ±‚"><a href="#äºŒã€å‰ç«¯è¡¨å•æäº¤-åç«¯nodeè¯·æ±‚" class="headerlink" title="äºŒã€å‰ç«¯è¡¨å•æäº¤+åç«¯nodeè¯·æ±‚"></a>äºŒã€å‰ç«¯è¡¨å•æäº¤+åç«¯nodeè¯·æ±‚</h3><p>éœ€è¦å®‰è£…nodeçš„é˜¿é‡Œäº‘ossæ’ä»¶<code>ali-oss</code>  ä¸ä¸Šä¼ æ‰€éœ€çš„<code>multer</code>ã€<code>co</code></p><p><code>npm install ali-oss --save</code></p><p><code> npm install --save multer</code></p><p><code>npm install co</code></p><blockquote><p>Multer æ˜¯ä¸€ä¸ª node.js ä¸­é—´ä»¶ï¼Œç”¨äºå¤„ç† <code>multipart/form-data</code> ç±»å‹çš„è¡¨å•æ•°æ®ï¼Œå®ƒä¸»è¦ç”¨äºä¸Šä¼ æ–‡ä»¶ã€‚å®ƒæ˜¯å†™åœ¨ <a href="https://github.com/mscdex/busboy">busboy</a> ä¹‹ä¸Šéå¸¸é«˜æ•ˆã€‚</p><p><strong>æ³¨æ„</strong>: Multer ä¸ä¼šå¤„ç†ä»»ä½•é <code>multipart/form-data</code> ç±»å‹çš„è¡¨å•æ•°æ®ã€‚</p><p><a href="https://www.npmjs.com/package/multer">ä¼ é€é—¨</a></p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&quot;express&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>)</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"></span><br><span class="line"><span class="comment">// å¼•å…¥æ’ä»¶</span></span><br><span class="line"><span class="keyword">var</span> OSS = <span class="built_in">require</span>(<span class="string">&#x27;ali-oss&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> multer=<span class="built_in">require</span>(<span class="string">&quot;multer&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> co = <span class="built_in">require</span>(<span class="string">&quot;co&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®é˜¿é‡Œäº‘è¿æ¥å‚æ•°</span></span><br><span class="line"><span class="keyword">var</span> client = <span class="keyword">new</span> OSS(&#123;</span><br><span class="line">  <span class="comment">// ä½ çš„ossçš„æºåœ°å€ã€å¯ä»¥åœ¨é˜¿é‡Œäº‘çš„osså¯¹è±¡å­˜å‚¨å†…çš„bucketæ¦‚è§ˆå†…çœ‹åˆ°</span></span><br><span class="line">  region:<span class="string">&#x27;oss-cn-beijing&#x27;</span>, </span><br><span class="line"><span class="comment">// è¿™é‡Œå¡«å…¥åˆšç”Ÿæˆçš„idå’Œkey</span></span><br><span class="line">  accessKeyId:<span class="string">&#x27;****************&#x27;</span>,</span><br><span class="line">  accessKeySecret:<span class="string">&#x27;*************8&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// å®šä¹‰è®¿é—®çš„bucket</span></span><br><span class="line"><span class="keyword">var</span> ali_oss_bucket =<span class="string">&#x27;bucket-lm-demo&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®multer</span></span><br><span class="line"><span class="keyword">const</span> upload = multer(&#123; </span><br><span class="line">  dest: <span class="string">&quot;public/image/&quot;</span>, <span class="comment">//æ­¤è·¯å¾„ä¸ºæœ¬åœ°å­˜å‚¨çš„è·¯å¾„ï¼Œä»¥åä¼šåˆ é™¤</span></span><br><span class="line">&#125;).single(<span class="string">&quot;avatar&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">router.post(<span class="string">&#x27;/getImg&#x27;</span>,upload, <span class="keyword">async</span> (req, res) =&gt; &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">1111111</span>,req.file)</span><br><span class="line">    <span class="comment">// å°†æ–‡ä»¶åæ”¹ä¸ºäº† ä¾‹å¦‚ 2020-09-15-æ–‡ä»¶åå‰å…­ä½+æ–‡ä»¶åç¼€</span></span><br><span class="line">    <span class="keyword">var</span> fileName = setFileName(req.file.originalname)</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">2222</span>,fileName)</span><br><span class="line"><span class="comment">// æ–‡ä»¶é‡å‘½å </span></span><br><span class="line">    fs.rename(<span class="string">&#x27;public/image/&#x27;</span>+req.file.filename,<span class="string">&#x27;public/image/&#x27;</span>+fileName,<span class="function">(<span class="params">err</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(err)&#123;</span><br><span class="line">          res.json(&#123;</span><br><span class="line">            code:<span class="number">400</span>,</span><br><span class="line">            msg:<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span>,</span><br><span class="line">            error:<span class="built_in">JSON</span>.stringify(err)</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          </span><br><span class="line">          <span class="comment">// æ­¤éƒ¨åˆ†ä¸ºä¸Šä¼ è‡³é˜¿é‡Œäº‘</span></span><br><span class="line">          </span><br><span class="line">          <span class="comment">// æœ¬åœ°å›¾ç‰‡çš„è·¯å¾„</span></span><br><span class="line">          <span class="keyword">var</span> localFile = <span class="string">&#x27;public/image/&#x27;</span>+fileName;</span><br><span class="line">          <span class="comment">// ä¸Šä¼ åä¿å­˜çš„è·¯å¾„</span></span><br><span class="line">          <span class="keyword">var</span> key = <span class="string">&#x27;image/&#x27;</span>+fileName;</span><br><span class="line">          </span><br><span class="line">          co(<span class="keyword">async</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            client.useBucket(ali_oss.bucket);</span><br><span class="line">            <span class="keyword">var</span> result = <span class="keyword">await</span> client.put(key,localFile);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">33333</span>,result)</span><br><span class="line">            <span class="comment">// ä¸Šä¼ å®Œæˆååˆ é™¤æœ¬åœ°æ–‡ä»¶</span></span><br><span class="line">            fs.unlinkSync(localFile);</span><br><span class="line">            res.json(&#123;</span><br><span class="line">              code:<span class="number">200</span>,</span><br><span class="line">              msg:<span class="string">&quot;success&quot;</span>,</span><br><span class="line">              <span class="comment">// å°†ç½‘å€è¿”å›</span></span><br><span class="line">              resultUrl:result.res.requestUrls</span><br><span class="line">            &#125;)</span><br><span class="line"></span><br><span class="line">          &#125;).catch(<span class="function"><span class="keyword">function</span>(<span class="params">err</span>)</span>&#123;</span><br><span class="line">            fs.unlinkSync(localFile);</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="number">444</span>,err)</span><br><span class="line">            res.json(&#123;</span><br><span class="line">              code:<span class="number">401</span>,</span><br><span class="line">              msg:<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥&quot;</span>,</span><br><span class="line">              error:<span class="built_in">JSON</span>.stringify(err)</span><br><span class="line">            &#125;)</span><br><span class="line">          &#125;)  </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">&#125;)</span><br><span class="line">router.get(<span class="string">&quot;/&quot;</span>,<span class="function">(<span class="params">req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">  res.render(<span class="string">&quot;index&quot;</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®æ–‡ä»¶åçš„æ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setFileName</span> (<span class="params">val</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> index = val.indexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> actureName =val.slice(<span class="number">0</span>,index)</span><br><span class="line">  <span class="keyword">const</span> actureType =val.slice(index,val.length)</span><br><span class="line">  <span class="keyword">const</span> Time = setTime();</span><br><span class="line">  <span class="keyword">if</span>(actureName.length&gt;=<span class="number">6</span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> Time + actureName.slice(<span class="number">0</span>,<span class="number">6</span>)+actureType;</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> Time+actureName+actureType;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setTime</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">const</span> dateStr = <span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> year = dateStr.getFullYear().toString().padStart(<span class="number">4</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> month = (dateStr.getMonth() + <span class="number">1</span>).toString().padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">var</span> day = dateStr.getDate().toString().padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;year&#125;</span>-<span class="subst">$&#123;month&#125;</span>-<span class="subst">$&#123;day&#125;</span>-`</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br></pre></td></tr></table></figure><p>å‰ç«¯è¯·æ±‚é¡µé¢</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;Box&quot;</span>&gt;</span><br><span class="line">&lt;form action=<span class="string">&quot;http://127.0.0.1:3001/uploads/getImg&quot;</span> method=<span class="string">&quot;post&quot;</span> enctype=<span class="string">&quot;multipart/form-data&quot;</span>&gt;</span><br><span class="line">      &lt;div&gt;</span><br><span class="line">          &lt;input type=<span class="string">&quot;file&quot;</span> name=<span class="string">&quot;avatar&quot;</span> accept=<span class="string">&quot;image/*&quot;</span>&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;input type=<span class="string">&quot;submit&quot;</span> value=<span class="string">&quot;ä¸Šä¼ &quot;</span>&gt;</span><br><span class="line">      &lt;/form&gt;</span><br><span class="line">    &lt;h2&gt;ä»¥ä¸‹ä¸ºé¢„è§ˆæ•ˆæœï¼š&lt;/h2&gt;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€-å‰ç«¯antdçš„uploadä¸Šä¼ ç»„ä»¶å®ç°ä¸Šä¼ "><a href="#ä¸‰ã€-å‰ç«¯antdçš„uploadä¸Šä¼ ç»„ä»¶å®ç°ä¸Šä¼ " class="headerlink" title="ä¸‰ã€ å‰ç«¯antdçš„uploadä¸Šä¼ ç»„ä»¶å®ç°ä¸Šä¼ "></a>ä¸‰ã€ å‰ç«¯antdçš„uploadä¸Šä¼ ç»„ä»¶å®ç°ä¸Šä¼ </h3><p>â€‹    antdæ˜¯åœ¨reactå†…å¾ˆå¥½ç”¨çš„ä¸€ä¸ªç»„ä»¶åº“ï¼Œä¸ä»…å¥½çœ‹è¿˜å¥½ç”¨ï¼Œè¿™éƒ¨åˆ†å°±æ¥ä½¿ç”¨å®ƒæ¥ä¸Šä¼ è‡³é˜¿é‡Œäº‘OSS</p><p><strong>å‰ç«¯</strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span></span><br><span class="line"><span class="comment">// antdçš„æ‰€ç”¨çš„ç»„ä»¶</span></span><br><span class="line"><span class="keyword">import</span> &#123; Upload, message, Input, Button &#125; <span class="keyword">from</span> <span class="string">&#x27;antd&#x27;</span>;</span><br><span class="line"><span class="comment">// å¼•å…¥é˜¿é‡Œäº‘æ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> oss <span class="keyword">from</span> <span class="string">&#x27;ali-oss&#x27;</span>;</span><br><span class="line"><span class="comment">// import moment from &#x27;moment&#x27;;</span></span><br><span class="line"><span class="keyword">import</span> &#123; setFileName &#125; <span class="keyword">from</span> <span class="string">&#x27;../utils&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&#x27;./tooss.css&#x27;</span>;</span><br><span class="line"><span class="comment">// ç‚¹å‡»å¤åˆ¶åˆ°ç²˜è´´æ¿çš„ä¸€ä¸ªreactæ’ä»¶</span></span><br><span class="line"><span class="keyword">import</span> CopyToClipboard <span class="keyword">from</span> <span class="string">&#x27;react-copy-to-clipboard&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> axios <span class="keyword">from</span> <span class="string">&quot;axios&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getBase64</span>(<span class="params">img:any, callback:any</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">  reader.addEventListener(<span class="string">&#x27;load&#x27;</span>, <span class="function">() =&gt;</span> callback(reader.result));</span><br><span class="line">  reader.readAsDataURL(img);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> client = <span class="function">(<span class="params">self:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;token&#125; = self</span><br><span class="line">  <span class="comment">// å½“æ—¶ä½¿ç”¨çš„æ’ä»¶ç‰ˆæœ¬ä¸º5.2</span></span><br><span class="line">  <span class="comment">/*</span></span><br><span class="line"><span class="comment">  return new oss.Wrapper(&#123;</span></span><br><span class="line"><span class="comment">    accessKeyId: token.access_key_id,</span></span><br><span class="line"><span class="comment">    accessKeySecret: token.access_key_secret,</span></span><br><span class="line"><span class="comment">    region: &#x27;&#x27;, //</span></span><br><span class="line"><span class="comment">    bucket: &#x27;&#x27;,//</span></span><br><span class="line"><span class="comment">  &#125;);</span></span><br><span class="line"><span class="comment">  */</span></span><br><span class="line">  <span class="comment">// 2018-12-29æ›´æ–°</span></span><br><span class="line">  <span class="comment">// ali-oss v6.xç‰ˆæœ¬çš„å†™æ³•</span></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> oss(&#123;</span><br><span class="line">    accessKeyId: token.access_key_id,</span><br><span class="line">    accessKeySecret: token.access_key_secret,</span><br><span class="line">    region: token.OSS_ENDPOINT, <span class="comment">//</span></span><br><span class="line">    bucket: token.OSS_BUCKET,<span class="comment">//</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¼ æ–‡ä»¶çš„è·¯å¾„ï¼Œä½¿ç”¨æ—¥æœŸå‘½åæ–‡ä»¶ç›®å½• æ–‡ä»¶çš„åå­—å¯ä»¥è‡ªå®šä¹‰è¿™ä¸ªéƒ¨åˆ†éšæ„</span></span><br><span class="line"><span class="keyword">const</span> uploadPath = <span class="function">(<span class="params">path:any, file:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> name = setFileName(file.name)</span><br><span class="line">  <span class="comment">// return `$&#123;moment().format(&#x27;YYYYMMDD&#x27;)&#125;/$&#123;file.name.split(&quot;.&quot;)[0]&#125;.$&#123;file.type.split(&quot;/&quot;)[1]&#125;`</span></span><br><span class="line">  <span class="keyword">return</span>  <span class="string">`image/<span class="subst">$&#123;name&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä¸Šä¼ æ–¹æ³•</span></span><br><span class="line"><span class="keyword">const</span> UploadToOss = <span class="function">(<span class="params">self:any, path:any, file:any</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> url = uploadPath(path, file)</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    client(self).multipartUpload(url, file,&#123;&#125;).then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      resolve(data);</span><br><span class="line">    &#125;).catch(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">      reject(error)</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">interface ExampleStatus &#123;</span><br><span class="line">  loading:boolean;</span><br><span class="line">  fileList: any[];</span><br><span class="line">  token:any;</span><br><span class="line">  UrlList:any;</span><br><span class="line">  copied:boolean;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UploadToOSS</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span>&lt;</span>&#123;&#125;,ExampleStatus&gt;&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(props:any)&#123;</span><br><span class="line">    <span class="built_in">super</span>(props);</span><br><span class="line">    <span class="built_in">this</span>.state = &#123;</span><br><span class="line">      loading: <span class="literal">false</span>,</span><br><span class="line">      token: &#123;</span><br><span class="line">        access_key_id: <span class="string">&#x27;***************&#x27;</span>, <span class="comment">// ossçš„key_id</span></span><br><span class="line">        access_key_secret: <span class="string">&#x27;****************&#x27;</span>, <span class="comment">// ossçš„secret</span></span><br><span class="line">        OSS_ENDPOINT: <span class="string">&#x27;oss-cn-beijing&#x27;</span>,  <span class="comment">// è‡ªå·±ossæœåŠ¡å™¨çš„æºåœ°å€// </span></span><br><span class="line">        OSS_BUCKET: <span class="string">&#x27;*********&#x27;</span>, <span class="comment">// è‡ªå·±è¦ä¸Šä¼ çš„ossæœåŠ¡å™¨çš„bucketçš„åå­—</span></span><br><span class="line">      &#125;,</span><br><span class="line">      UrlList:[],<span class="comment">// è·å–é˜¿é‡Œäº‘osså†…æ‰€æœ‰å›¾ç‰‡çš„é“¾æ¥çš„ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">      fileList:[</span><br><span class="line">        &#123;</span><br><span class="line">          uid: <span class="string">&#x27;-1&#x27;</span>,</span><br><span class="line">          name: <span class="string">&#x27;image.png&#x27;</span>,</span><br><span class="line">          status: <span class="string">&#x27;done&#x27;</span>,</span><br><span class="line">          url: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">      ],</span><br><span class="line">      copied:<span class="literal">false</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">async</span> componentDidMount()&#123;</span><br><span class="line">   <span class="keyword">await</span> <span class="built_in">this</span>.getUploadInfo();</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="number">11111</span>,<span class="built_in">this</span>.state.UrlList)</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">// è¿™ä¸ªæ–¹æ³•æ˜¯ä¸€ä¸ªæˆ‘è‡ªå·±nodeå†™çš„ä¸€ä¸ªè·å–é˜¿é‡Œäº‘osså†…æŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰çš„æ–‡ä»¶ï¼Œç›®çš„å°±æ˜¯èƒ½è®©æˆ‘ä¸€æ¬¡æ€§è·å–æˆ‘å­˜çš„æ‰€æœ‰å›¾ç‰‡çš„é“¾æ¥ï¼Œå®ç°ä¸€ä¸ªå±•ç¤ºçš„ä½œç”¨</span></span><br><span class="line">  getUploadInfo= <span class="keyword">async</span> ()=&gt;&#123;</span><br><span class="line">    <span class="comment">// const HOST = &quot;http://localhost:3003/uploads2/getImg&quot;;</span></span><br><span class="line">    <span class="keyword">const</span> HOST = <span class="string">&quot;http://xxx.xxx.xxx.xxx:3003/toOSS/getImg&quot;</span></span><br><span class="line">   <span class="keyword">await</span> axios.get(HOST).then(<span class="function">(<span class="params">result:any</span>)=&gt;</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(result.data.code===<span class="number">400</span>)&#123;</span><br><span class="line">          <span class="keyword">const</span> data = result.data.result.objects;</span><br><span class="line">          <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">            UrlList:data</span><br><span class="line">          &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">  handleChange = <span class="function">(<span class="params">info:any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      fileList:info.fileList</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">if</span> (info.file.status === <span class="string">&#x27;uploading&#x27;</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.setState(&#123; <span class="attr">loading</span>: <span class="literal">true</span> &#125;);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (info.file.status === <span class="string">&#x27;done&#x27;</span>) &#123;</span><br><span class="line">      <span class="comment">// Get this url from response in real world.</span></span><br><span class="line">      getBase64(info.file.originFileObj, <span class="function">(<span class="params">imageUrl:any</span>) =&gt;</span> <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">        loading: <span class="literal">false</span>,</span><br><span class="line">      &#125;));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  beforeUpload = <span class="function">(<span class="params">file:any</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> isJPG = file.type === <span class="string">&#x27;image/jpeg&#x27;</span>;</span><br><span class="line">    <span class="keyword">if</span> (!isJPG) &#123;</span><br><span class="line">      message.error(<span class="string">&#x27;You can only upload JPG file!&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">const</span> isLt2M = file.size / <span class="number">1024</span> / <span class="number">1024</span> &lt; <span class="number">2</span>;</span><br><span class="line">    <span class="keyword">if</span> (!isLt2M) &#123;</span><br><span class="line">      message.error(<span class="string">&#x27;Image must smaller than 2MB!&#x27;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader();</span><br><span class="line">    reader.readAsDataURL(file);</span><br><span class="line">    reader.onloadend = <span class="function">() =&gt;</span> &#123;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ä½¿ç”¨ossuploadè¦†ç›–é»˜è®¤çš„ä¸Šä¼ æ–¹æ³•</span></span><br><span class="line">      UploadToOss(<span class="built_in">this</span>.state, <span class="string">&#x27;ä¸Šä¼ è·¯å¾„ossé…ç½®ä¿¡æ¯&#x27;</span>, file).then(<span class="function">(<span class="params">data:any</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="number">2222</span>,data.res)</span><br><span class="line">        <span class="keyword">if</span>(data.res.status===<span class="number">200</span>)&#123;</span><br><span class="line">          <span class="built_in">this</span>.getUploadInfo()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">          message.error(<span class="string">&quot;ä¸Šä¼ å¤±è´¥!&quot;</span>,<span class="number">1</span>)</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">      &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>; <span class="comment">// ä¸è°ƒç”¨é»˜è®¤çš„ä¸Šä¼ æ–¹æ³•</span></span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123;fileList,UrlList&#125; = <span class="built_in">this</span>.state</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      &lt;div className=<span class="string">&quot;uploadBox&quot;</span>&gt;</span><br><span class="line">        &lt;h2&gt;å°æ¢å›¾ç‰‡ä¸Šä¼  ^_^&lt;/h2&gt;</span><br><span class="line">        &lt;Upload</span><br><span class="line">          name=<span class="string">&quot;avatar&quot;</span></span><br><span class="line">          listType=<span class="string">&quot;picture-card&quot;</span></span><br><span class="line">          className=<span class="string">&quot;avatar-uploader&quot;</span></span><br><span class="line">          beforeUpload=&#123;<span class="built_in">this</span>.beforeUpload&#125;</span><br><span class="line">          onChange=&#123;<span class="built_in">this</span>.handleChange&#125;</span><br><span class="line">          fileList=&#123;fileList&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &#123;fileList.length &lt; <span class="number">5</span> &amp;&amp; <span class="string">&#x27;+ ç‚¹å‡»ä¸Šä¼ &#x27;</span>&#125;</span><br><span class="line">        &lt;/Upload&gt;</span><br><span class="line">        &lt;ul className=<span class="string">&quot;urlList&quot;</span>&gt;</span><br><span class="line">          &#123;UrlList.map(<span class="function">(<span class="params">item:any,index:number</span>)=&gt;</span>&#123;</span><br><span class="line">              <span class="keyword">return</span>(</span><br><span class="line">                &lt;li key=&#123;index&#125; className=<span class="string">&quot;liItem&quot;</span>&gt;</span><br><span class="line">                  &lt;span className=<span class="string">&quot;itemspan&quot;</span>&gt;&#123;item.name&#125;:&lt;/span&gt;</span><br><span class="line">                  &lt;Input type=<span class="string">&quot;text&quot;</span></span><br><span class="line">                    id=&#123;<span class="string">`item<span class="subst">$&#123;index&#125;</span>`</span>&#125;</span><br><span class="line">                    value=&#123;item.url&#125; </span><br><span class="line">                    className=<span class="string">&quot;item&quot;</span> </span><br><span class="line">                    onChange=&#123;<span class="function">()=&gt;</span><span class="built_in">this</span>.setState(&#123;<span class="attr">copied</span>:<span class="literal">false</span>&#125;)&#125;/&gt;</span><br><span class="line">                  &lt;CopyToClipboard text=&#123;item.url&#125;  <span class="comment">// è¿™é‡Œå®ç°ä¸€ä¸ªç‚¹å‡»å°†æ–‡æœ¬å¤åˆ¶åˆ°ç²˜è´´æ¿çš„ä½œç”¨</span></span><br><span class="line">                    onCopy=&#123;<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                      message.success(<span class="string">&quot;å¤åˆ¶æˆåŠŸ!&quot;</span>,<span class="number">1</span>)</span><br><span class="line">                      <span class="built_in">this</span>.setState(&#123;<span class="attr">copied</span>:<span class="literal">true</span>&#125;</span><br><span class="line">                      )&#125;&#125;&gt;</span><br><span class="line">                    &lt;Button type=<span class="string">&quot;primary&quot;</span>&gt;ç‚¹å‡»å¤åˆ¶&lt;/Button&gt;</span><br><span class="line">                  &lt;/CopyToClipboard&gt; </span><br><span class="line">                &lt;/li&gt;</span><br><span class="line">              )</span><br><span class="line">          &#125;)&#125;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> UploadToOSS;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>åç«¯node ï¼ˆå®ç°è·å–ossæŒ‡å®šæ–‡ä»¶å¤¹ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼‰</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>);</span><br><span class="line"><span class="keyword">var</span> router = express.Router();</span><br><span class="line"><span class="keyword">const</span> OSS = <span class="built_in">require</span>(<span class="string">&#x27;ali-oss&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> client = <span class="keyword">new</span> OSS(&#123;</span><br><span class="line">  accessKeyId: <span class="string">&#x27;****************&#x27;</span>, </span><br><span class="line">  accessKeySecret: <span class="string">&#x27;***************&#x27;</span>,</span><br><span class="line">  region: <span class="string">&#x27;oss-cn-beijing&#x27;</span>, </span><br><span class="line">  bucket: <span class="string">&#x27;***********&#x27;</span>,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// è¿™é‡Œçš„å‚æ•°æœ‰4ä¸ª æˆ‘åªåšäº†æ•°é‡çš„é™åˆ¶ å…·ä½“æŸ¥çœ‹ </span></span><br><span class="line"><span class="comment">// https://help.aliyun.com/document_detail/111389.html?spm=a2c4g.11186623.2.10.644e898eFaa3Cr#concept-jjz-wxh-dhb </span></span><br><span class="line">router.get(<span class="string">&#x27;/getImg&#x27;</span>,<span class="keyword">async</span> (req, res, next)=&gt;&#123;</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> client.list(&#123;</span><br><span class="line">    <span class="string">&quot;max-keys&quot;</span>:<span class="number">20</span></span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="number">22222</span>,result)</span><br><span class="line">  <span class="keyword">if</span>(result.res.status===<span class="number">200</span>)&#123;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      code:<span class="number">400</span>,</span><br><span class="line">      msg:<span class="string">&quot;20æ¡è·å–æˆåŠŸï¼&quot;</span>,</span><br><span class="line">      result:result</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    res.json(&#123;</span><br><span class="line">      code:<span class="number">401</span>,</span><br><span class="line">      msg:<span class="string">&quot;è·å–å¤±è´¥ï¼&quot;</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">router.get(<span class="string">&quot;/&quot;</span>,<span class="function">(<span class="params">req,res,next</span>)=&gt;</span>&#123;</span><br><span class="line">    res.render(<span class="string">&quot;index2&quot;</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"><span class="built_in">module</span>.exports = router;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>â€‹    </p><h3 id="å››ã€é—®é¢˜è§£å†³"><a href="#å››ã€é—®é¢˜è§£å†³" class="headerlink" title="å››ã€é—®é¢˜è§£å†³"></a>å››ã€é—®é¢˜è§£å†³</h3><h4 id="1ã€ä¸Šä¼ åè®¿é—®å›¾ç‰‡é“¾æ¥ç›´æ¥ä¸‹è½½è€Œéè®¿é—®å›¾ç‰‡"><a href="#1ã€ä¸Šä¼ åè®¿é—®å›¾ç‰‡é“¾æ¥ç›´æ¥ä¸‹è½½è€Œéè®¿é—®å›¾ç‰‡" class="headerlink" title="1ã€ä¸Šä¼ åè®¿é—®å›¾ç‰‡é“¾æ¥ç›´æ¥ä¸‹è½½è€Œéè®¿é—®å›¾ç‰‡"></a>1ã€ä¸Šä¼ åè®¿é—®å›¾ç‰‡é“¾æ¥ç›´æ¥ä¸‹è½½è€Œéè®¿é—®å›¾ç‰‡</h4><p>å½“æˆ‘ä»¬æŠŠå›¾ç‰‡ä¸Šä¼ åˆ°é˜¿é‡Œäº‘ossåï¼Œä¼šå¾—åˆ°æ­¤å›¾ç‰‡çš„é“¾æ¥ï¼Œä½†æ˜¯å‘¢ï¼Œå½“æˆ‘ä»¬åœ¨æµè§ˆå™¨é¡µé¢æ‰“å¼€è¿™ä¸ªé“¾æ¥ï¼Œç«Ÿç„¶æ˜¯ç›´æ¥ä¸‹è½½äº†è¿™ä¸ªå›¾ç‰‡ï¼ŒWhat ï¼Ÿã€‚æ˜¯ä¸æ˜¯å¾ˆéš¾å—ï¼æ‰€ä»¥æˆ‘ä»¬å°±è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼ˆåœ¨æ ‡ç­¾å†…ä½¿ç”¨æ˜¯å¯ä»¥æ»´ï¼‰</p><p>â€”â€”â€”â€”â€”â€”â€”â€”&gt;æˆ‘æ‰¾äº†å¾ˆå¤š é…ç½®åŸŸåï¼Œè¯·æ±‚å¤´ï¼Œéƒ½ä¹ˆæœ‰è§£å†³æˆ‘çš„é—®é¢˜ï¼Œç„¶åæˆ‘å°±å‘ç°äº†è¿™ä¸ªâ€“<code>PicGo</code>çœŸé¦™</p><p><a href="https://www.jianshu.com/p/9d91355e8418">å®‰è£…æ•™ç¨‹</a>ï¼Œ</p><h4 id="2ã€ä¸Šä¼ æŠ¥é”™-You-have-no-right-to-access-this-object-because-of-bucket-acl"><a href="#2ã€ä¸Šä¼ æŠ¥é”™-You-have-no-right-to-access-this-object-because-of-bucket-acl" class="headerlink" title="2ã€ä¸Šä¼ æŠ¥é”™: You have no right to access this object because of bucket acl"></a>2ã€ä¸Šä¼ æŠ¥é”™: You have no right to access this object because of bucket acl</h4><p><a href="https://blog.csdn.net/iteye_19045/article/details/106721450">https://blog.csdn.net/iteye_19045/article/details/106721450</a></p><h3 id="å››ã€åç»­å¯ä»¥æ”¹è¿›çš„åœ°æ–¹"><a href="#å››ã€åç»­å¯ä»¥æ”¹è¿›çš„åœ°æ–¹" class="headerlink" title="å››ã€åç»­å¯ä»¥æ”¹è¿›çš„åœ°æ–¹"></a>å››ã€åç»­å¯ä»¥æ”¹è¿›çš„åœ°æ–¹</h3><p>æˆ‘ä»¬è¿™æ ·ä¸Šä¼ ï¼Œå¯ä»¥å®ç°æ–‡ä»¶ä¸Šä¼ ï¼Œä½†æ˜¯å¦‚æœå†åŠ ä¸Šä¸Šä¼ çš„è¿›åº¦æ¡ï¼Œä»¥åŠè·å–ä¸Šä¼ äº†çš„æ‰€æœ‰çš„å›¾ç‰‡ä»¥åŠæ–‡ä»¶å‘¢ï¼Ÿ</p><p>æ–‡ä»¶ä¸Šä¼ è¿›åº¦æ¡å¯å‚è€ƒï¼š<a href="https://github.com/berwin/aliyun-oss-upload-stream">https://github.com/berwin/aliyun-oss-upload-stream</a></p><p>è·å–å·²ç»ä¸Šä¼ çš„å‚è€ƒï¼š<strong>å‚è€ƒSDK <a href="https://help.aliyun.com/document_detail/32068.html?spm=a2c4g.11186623.6.1262.6fdf64edKkYqlU">é˜¿é‡Œäº‘ossNode.js</a></strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Node-jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url&quot;&gt;&lt;a href=&quot;#Node-jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url&quot; class=&quot;headerlink&quot; title=&quot;Node.jsä¸Šä¼ æ–‡ä»¶è‡³é˜¿é‡Œäº‘osså¹¶è¿”å›è®¿é—®url&quot;&gt;&lt;/a&gt;Node.jsä¸Š</summary>
      
    
    
    
    <category term="node.js" scheme="http://gtliangming.github.io/categories/node-js/"/>
    
    
    <category term="node.js OSS" scheme="http://gtliangming.github.io/tags/node-js-OSS/"/>
    
  </entry>
  
  <entry>
    <title>Hexo+TravisCIè‡ªåŠ¨éƒ¨ç½²é¡¹ç›®è‡³github</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jwl0000fanm8zubfx6t/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jwl0000fanm8zubfx6t/</id>
    <published>2020-12-09T05:46:51.000Z</published>
    <updated>2020-12-09T05:47:14.328Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>ä»€ä¹ˆæ˜¯ Hexo è¿™é‡Œå°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ï¼Œç™¾åº¦ä¸€ä¸‹æœ‰å¾ˆå¤šä»‹ç»çš„<br>è¿™é‡Œæ¥ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ Travis CI</p></blockquote><h3 id="ä¸€ã€ä»€ä¹ˆæ˜¯-Travis-CI"><a href="#ä¸€ã€ä»€ä¹ˆæ˜¯-Travis-CI" class="headerlink" title="ä¸€ã€ä»€ä¹ˆæ˜¯ Travis CI"></a>ä¸€ã€ä»€ä¹ˆæ˜¯ Travis CI</h3><p>ä½œä¸ºä¸€ä¸ªä¸“(diao)ä¸š(si)ç ”(cheng)å‘(xu)äººå‘˜ï¼Œå¼€å‘ä»£ç ã€ä¸äº§å“å’Œ bug æ–—å¿—æ–—å‹‡å·²ç»éƒ½è®©æˆ‘ä»¬çš„å‘é‡ä¸ä¿äº†ï¼Œå¾ˆå¤šçš„é¡¹ç›®æ„å»ºä¸å‘å¸ƒè¿˜è¦è®©å¤´å‘é­ç½ªï¼Œè¿™ä¸èƒ½å¿ã€‚ä¸ºäº†æé«˜å¼€å‘çš„æ•ˆç‡ï¼Œè‡ªåŠ¨æ„å»ºå’Œæµ‹è¯•çš„è‡ªåŠ¨åŒ–å·¥å…·å°±å®›å¦‚ä¸€ä¸ªåˆ©å™¨ï¼Œå…¶ä¸­çš„<code>Travis CI</code>Â  å°±æ˜¯å…¶ä¸­å…è´¹çš„ã€ç®€å•çš„ã€è€Œä¸”å¸‚åœºå æ¯”æœ€é«˜çš„ä¸€ä¸ªã€‚</p><p><strong>Travis CI æä¾›çš„æ˜¯æŒç»­é›†æˆæœåŠ¡ï¼ˆContinuous Integrationï¼Œç®€ç§° CIï¼‰ã€‚å®ƒç»‘å®š Github ä¸Šé¢çš„é¡¹ç›®ï¼Œåªè¦æœ‰æ–°çš„ä»£ç ï¼Œå°±ä¼šè‡ªåŠ¨æŠ“å–ã€‚ç„¶åï¼Œæä¾›ä¸€ä¸ªè¿è¡Œç¯å¢ƒï¼Œæ‰§è¡Œæµ‹è¯•ï¼Œå®Œæˆæ„å»ºï¼Œè¿˜èƒ½éƒ¨ç½²åˆ°æœåŠ¡å™¨ã€‚</strong><br>**</p><blockquote><p>ä»€ä¹ˆæ˜¯æŒç»­é›†æˆæœåŠ¡ ï¼Ÿ<br>æŒç»­é›†æˆæŒ‡çš„æ˜¯åªè¦ä»£ç æœ‰å˜æ›´ï¼Œå°±è‡ªåŠ¨è¿è¡Œæ„å»ºå’Œæµ‹è¯•ï¼Œåé¦ˆè¿è¡Œç»“æœã€‚ç¡®ä¿ç¬¦åˆé¢„æœŸä»¥åï¼Œå†å°†æ–°ä»£ç â€é›†æˆâ€åˆ°ä¸»å¹²ã€‚<br>æŒç»­é›†æˆçš„å¥½å¤„åœ¨äºï¼Œæ¯æ¬¡ä»£ç çš„å°å¹…å˜æ›´ï¼Œå°±èƒ½çœ‹åˆ°è¿è¡Œç»“æœï¼Œä»è€Œä¸æ–­ç´¯ç§¯å°çš„å˜æ›´ï¼Œè€Œä¸æ˜¯åœ¨å¼€å‘å‘¨æœŸç»“æŸæ—¶ï¼Œä¸€ä¸‹å­åˆå¹¶ä¸€å¤§å—ä»£ç ã€‚</p></blockquote><h3 id="äºŒã€åˆ›å»ºé¡¹ç›®çš„-github-ä»“åº“"><a href="#äºŒã€åˆ›å»ºé¡¹ç›®çš„-github-ä»“åº“" class="headerlink" title="äºŒã€åˆ›å»ºé¡¹ç›®çš„ github ä»“åº“"></a>äºŒã€åˆ›å»ºé¡¹ç›®çš„ github ä»“åº“</h3><h4 id="1ã€github"><a href="#1ã€github" class="headerlink" title="1ã€github"></a>1ã€github</h4><p>è‡³äºä»€ä¹ˆ github æ˜¯ä»€ä¹ˆã€github æ€ä¹ˆç”¨ã€github æ€ä¹ˆåˆ›å»ºä»“åº“ï¼Œè¿™é‡Œå°±ä¸åšèµ˜è¿°<br>ç›¸å…³ä»‹ç»å¯ä»¥ç‚¹å‡»äº†è§£ä¸€ä¸‹ï¼š<br><a href="https://www.leiue.com/what-is-github">https://www.leiue.com/what-is-github</a><br><a href="https://www.leiue.com/what-is-github">https://www.leiue.com/what-is-github</a></p><h4 id="2ã€ç™»å½•-github-åˆ›å»ºä¸€ä¸ªç”¨æ¥æ”¾ç½®-hexo-åšå®¢é¡¹ç›®çš„ä»“åº“"><a href="#2ã€ç™»å½•-github-åˆ›å»ºä¸€ä¸ªç”¨æ¥æ”¾ç½®-hexo-åšå®¢é¡¹ç›®çš„ä»“åº“" class="headerlink" title="2ã€ç™»å½• github åˆ›å»ºä¸€ä¸ªç”¨æ¥æ”¾ç½® hexo åšå®¢é¡¹ç›®çš„ä»“åº“"></a>2ã€ç™»å½• github åˆ›å»ºä¸€ä¸ªç”¨æ¥æ”¾ç½® hexo åšå®¢é¡¹ç›®çš„ä»“åº“</h4><p>åˆ›å»º hexo åšå®¢å¯æŸ¥çœ‹æˆ‘å¦å¤–ä¸€ç¯‡æ–‡ç« <a href="https://www.yuque.com/jijiangyongyoubakuaifujilm/kb/al1tyx">hexo åšå®¢æ­å»ºä¸éƒ¨ç½² github</a></p><h3 id="ä¸‰ã€ä½¿ç”¨-Travis-CI-æ‰˜ç®¡åšå®¢é¡¹ç›®"><a href="#ä¸‰ã€ä½¿ç”¨-Travis-CI-æ‰˜ç®¡åšå®¢é¡¹ç›®" class="headerlink" title="ä¸‰ã€ä½¿ç”¨ Travis CI æ‰˜ç®¡åšå®¢é¡¹ç›®"></a>ä¸‰ã€ä½¿ç”¨ Travis CI æ‰˜ç®¡åšå®¢é¡¹ç›®</h3><p>ç™»å½•<code>Travis CI</code>å®˜ç½‘ï¼Œå®˜ç½‘åœ°å€<a href="https://travis-ci.org/">https://travis-ci.org/</a> é€‰æ‹© Github ç™»å½•<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598517318983-7261f671-9820-4ddb-8fd3-ab128bb7fa12.png#align=left&display=inline&height=529&margin=%5Bobject%20Object%5D&name=image.png&originHeight=529&originWidth=1130&size=62588&status=done&style=none&width=1130" alt="image.png"><br>ç™»å½•è‡ªå·±çš„ github è´¦å·å å°±å¯çœ‹åˆ°ç™»é™†æˆåŠŸçš„ç•Œé¢ï¼Œç‚¹å‡»å¤´åƒå³è¾¹çš„ä¸‹æ‹‰æ ‡ç­¾ï¼Œé€‰æ‹© Setting,å³å¯çœ‹åˆ°ä¸‹å›¾çš„æ ·å­ï¼Œä¸»è¦åˆ†ä¸ºä¸‰éƒ¨åˆ†ã€‚<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598517445333-6810df05-c003-444c-813f-1b724f566443.png#align=left&display=inline&height=762&margin=%5Bobject%20Object%5D&name=image.png&originHeight=762&originWidth=1097&size=120720&status=done&style=none&width=1097" alt="image.png"><br>1ã€ å·¦è¾¹çš„éƒ¨åˆ†æ˜¯æˆ‘ä»¬çš„ github è´¦æˆ·ä¿¡æ¯ã€‚å¯ä»¥ç‚¹å‡»<code>Sync account</code> å®æ—¶åŒæ­¥æˆ‘ä»¬çš„è´¦æˆ·ä¿¡æ¯<br>2ã€å³ä¸Šè§’æ˜¯æˆ‘ä»¬ç™»é™† Travis CI çš„è´¦æˆ·ï¼ŒåŒ…æ‹¬è®¾ç½®å’Œé€€å‡ºç™»é™†ï¼Œè®¾ç½®ä»¥åä¼šç”¨åˆ°<br>3ã€é‡è¦éƒ¨åˆ†ï¼ï¼ï¼ï¼<br>åœ¨è¿™å¯ä»¥çœ‹åˆ°æˆ‘ä»¬ github è´¦æˆ·ä¸‹çš„æ‰€æœ‰çš„ä»“åº“ã€‚æˆ‘ä»¬éœ€è¦æ‰˜ç®¡é‚£ä¸ªä»“åº“ï¼Œå°±åœ¨å³è¾¹å°†å®ƒçš„å¼€å…³æ‰“å¼€ï¼Œæ­¤æ—¶çš„ Travis CI å°±ä¼šå¸®æˆ‘ä»¬ç›‘ç®¡è¿™ä¸ªä»“åº“çš„æ´»åŠ¨ã€‚å½“ç„¶ï¼Œä»“åº“ä¹Ÿä¸æ˜¯è¯´ç®¡å°±èƒ½ç®¡çš„ï¼Œæˆ‘ä»¬è¦ç»™ä»–ä¸€å®šçš„æƒé™</p><h3 id="å››ã€èµ‹äºˆ-Travis-CI-ç®¡ç†ä»“åº“çš„æƒé™"><a href="#å››ã€èµ‹äºˆ-Travis-CI-ç®¡ç†ä»“åº“çš„æƒé™" class="headerlink" title="å››ã€èµ‹äºˆ Travis CI ç®¡ç†ä»“åº“çš„æƒé™"></a>å››ã€èµ‹äºˆ Travis CI ç®¡ç†ä»“åº“çš„æƒé™</h3><p>èµ‹äºˆæƒé™ï¼Œæˆ‘ä»¬å°±éœ€è¦ä½¿ç”¨åˆ° github çš„<code>Personal access tokens</code> æ¥ä¸‹æ¥æˆ‘ä»¬æ¥è¯´æ€ä¹ˆç”Ÿæˆè¿™ä¸ª Token å¹¶ä¸”ä½¿ç”¨ï¼Œ</p><h4 id="1ã€ç”Ÿæˆ-Token"><a href="#1ã€ç”Ÿæˆ-Token" class="headerlink" title="1ã€ç”Ÿæˆ Token"></a>1ã€ç”Ÿæˆ Token</h4><p>æ­¥éª¤ï¼š<br>ç™»å½• githubâ€”&gt; ç‚¹å‡»å³ä¸Šè§’å¤´åƒï¼Œé€‰æ‹© setting å¹¶ç‚¹å‡»â€”&gt;<br>åœ¨å·¦ä¾§å¯¼èˆªæ æœ€åº•ä¸‹é€‰æ‹©<code>Developer setting</code>â€”&gt;ç„¶åé€‰æ‹©<code>Personal access tokens</code><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598518197562-1f67e48c-0483-4b0d-9c39-f8cfffe62f34.png#align=left&display=inline&height=252&margin=%5Bobject%20Object%5D&name=image.png&originHeight=252&originWidth=1041&size=43472&status=done&style=none&width=1041" alt="image.png"><br>ç„¶åé€‰æ‹© Generate new token<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598518325096-c117920a-bdff-4075-95d0-30e4ecc2cf9c.png#align=left&display=inline&height=605&margin=%5Bobject%20Object%5D&name=image.png&originHeight=605&originWidth=1066&size=90394&status=done&style=none&width=1066" alt="image.png"><br>ç»™ token èµ·ä¸ªåå­—ï¼Œåº•ä¸‹é€‰å–ä¸€ä¸‹æƒé™ï¼Œå‰ä¸‰é¡¹å»ºè®®éƒ½é€‰ä¸Šï¼Œå¦‚æœä¸çŸ¥é“é€‰æ‹©é‚£ä¸ªï¼Œé¡¹ç›®è‡ªç”¨ä¹Ÿä¸è€ƒè™‘å®‰å…¨æ€§çš„é—®é¢˜çš„è¯ï¼Œå¯ä»¥å…¨é€‰ã€‚é€‰æ‹©å®Œæƒé™åï¼Œç‚¹å‡» Generate token ï¼Œtoken å°±ç”Ÿæˆäº†<br>ï¼ï¼ï¼ï¼åˆ’é‡ç‚¹ï¼Œåˆ’é‡ç‚¹ï¼Œåˆ’é‡ç‚¹ï¼Œé‡è¦çš„äº‹æƒ…è¯´ä¸‰éï¼<br>å› ä¸º token åªä¼šåœ¨ç”Ÿæˆåæ˜¾ç¤ºä¸€æ¬¡ï¼Œä¹‹åå°±ä¸ä¼šæ˜¾ç¤ºï¼Œå¦‚æœå¿˜è®°ï¼Œå°±åªèƒ½åˆ é™¤åé‡æ–°åˆ›å»ºäº†ã€‚æ‰€ä»¥æ­¤æ—¶éœ€è¦æŠŠè¿™ä¸ª token ä¿å­˜èµ·æ¥ï¼Œå®‰å…¨çš„åœ°æ–¹ã€‚å› ä¸ºåé¢ä¼šç”¨åˆ°ã€‚</p><h4 id="2ã€å°†æƒé™èµ‹äºˆç»™-Travis-Ci"><a href="#2ã€å°†æƒé™èµ‹äºˆç»™-Travis-Ci" class="headerlink" title="2ã€å°†æƒé™èµ‹äºˆç»™ Travis Ci"></a>2ã€å°†æƒé™èµ‹äºˆç»™ Travis Ci</h4><p>æ‰€è°“çš„æƒé™èµ‹äºˆï¼Œå°±æ˜¯æŠŠåˆšæ‰ç”Ÿæˆçš„ token èµ‹äºˆç»™ Travis CI æ‰˜ç®¡çš„ä»“åº“ã€‚<br>ç™»å½• Travis ci ç‚¹å‡»éœ€è¦æ‰˜ç®¡çš„ä»“åº“åé¢çš„ setting é€‰é¡¹<br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598518780158-b3f0e7f5-4115-487b-920d-b6cac119b354.png#align=left&display=inline&height=59&margin=%5Bobject%20Object%5D&name=image.png&originHeight=59&originWidth=698&size=5505&status=done&style=none&width=698" alt="image.png"><br><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598518846941-bab61896-e0de-40db-bf9f-1760c034e526.png#align=left&display=inline&height=676&margin=%5Bobject%20Object%5D&name=image.png&originHeight=676&originWidth=1121&size=79574&status=done&style=none&width=1121" alt="image.png"><br>é¦–å…ˆæ‰“å¼€æœ€ä¸Šé¢çš„ General å†…çš„å¼€å…³</p><blockquote><p>ä¾æ®ç‰ˆæœ¬ï¼Œæœ‰äº›ä¼šæœ‰ Build only if .travis.yml is present å¼€å…³ï¼Œæœ‰çš„è¯ä¸€åŒæ‰“å¼€</p></blockquote><p>è¿™æ ·ï¼Œå½“å‘é¡¹ç›® push ä»£ç çš„æ—¶å€™ travis CI å°±ä¼šæ® Â <code>.travis.yml</code>Â  çš„å†…å®¹å»éƒ¨ç½²æˆ‘ä»¬çš„é¡¹ç›®äº†ã€‚</p><h3 id="äº”ã€å‘Šè¯‰-Travis-CI-æ€ä¹ˆéƒ¨ç½²â€”åˆ›å»º-travis-yml"><a href="#äº”ã€å‘Šè¯‰-Travis-CI-æ€ä¹ˆéƒ¨ç½²â€”åˆ›å»º-travis-yml" class="headerlink" title="äº”ã€å‘Šè¯‰ Travis CI æ€ä¹ˆéƒ¨ç½²â€”åˆ›å»º.travis.yml"></a>äº”ã€å‘Šè¯‰ Travis CI æ€ä¹ˆéƒ¨ç½²â€”åˆ›å»º.travis.yml</h3><p>å»ºè®®åœ¨å¼€å§‹é…ç½®ä¹‹å‰ï¼Œå…ˆå»å®˜ç½‘äº†è§£ä¸€ä¸‹.travis.yml å†…å„ä¸ªé’©å­æ–¹æ³•çš„ä½œç”¨ä»¥åŠæ‰§è¡Œé¡ºåº<br>ä¼ é€é—¨ï¼š<a href="https://docs.travis-ci.com/">https://docs.travis-ci.com/</a></p><p><strong>ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼Œéƒ½è¦æå‰åœ¨åšå®¢é¡¹ç›®çš„æ ¹ç›®å½•ä¸‹åˆ›å»º.travis.yml æ–‡ä»¶</strong></p><h4 id="1ã€æ–¹æ¡ˆäºŒï¼šæ™®é€šæ–¹æ³•"><a href="#1ã€æ–¹æ¡ˆäºŒï¼šæ™®é€šæ–¹æ³•" class="headerlink" title="1ã€æ–¹æ¡ˆäºŒï¼šæ™®é€šæ–¹æ³•"></a>1ã€æ–¹æ¡ˆäºŒï¼šæ™®é€šæ–¹æ³•</h4><p>ç›´æ¥é…ç½®.yml æ–‡ä»¶</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">sudo: false</span><br><span class="line"># é…ç½®è¯­è¨€ä¸nodeç‰ˆæœ¬</span><br><span class="line">language: node_js</span><br><span class="line">node_js:</span><br><span class="line">  - 10 # use nodejs v10 LTS</span><br><span class="line"></span><br><span class="line"># ç¼“å­˜</span><br><span class="line">cache:</span><br><span class="line">  directories:</span><br><span class="line">    - node_modules</span><br><span class="line">before_install:</span><br><span class="line">  - npm install -g hexo-cli</span><br><span class="line">  - npm install -g hexo</span><br><span class="line">  - npm install hexo-deployer-git@2.1.0 --save</span><br><span class="line"></span><br><span class="line">install:</span><br><span class="line">  - npm i</span><br><span class="line"></span><br><span class="line">script:</span><br><span class="line">  - hexo clean</span><br><span class="line"></span><br><span class="line">  # generate static files</span><br><span class="line">  - hexo generate</span><br><span class="line">after_success:</span><br><span class="line"># è¿™é‡Œçš„å‘½ä»¤éƒ½å¯ä»¥è‡ªè¡Œæ·»åŠ ï¼ˆä¾‹å¦‚æˆ‘åŠ äº†lsï¼Œæƒ³è¦æŸ¥çœ‹ç¼–è¯‘åæ–‡ä»¶éƒ½æœ‰é‚£äº›ï¼‰</span><br><span class="line">  - cd .&#x2F;public</span><br><span class="line">  - ls</span><br><span class="line">  - git init</span><br><span class="line">  - git config --global user.name &quot;yourname&quot;</span><br><span class="line">  - git config --global user.email &quot;youremail&quot;</span><br><span class="line">  - git add  .</span><br><span class="line">  - git commit -m &quot;Travis CI Auto Builder&quot;</span><br><span class="line">  - git push --quiet --force https:&#x2F;&#x2F;$GH_TOKEN@$&#123;GH_REF&#125; master:master</span><br><span class="line">  # å¦‚æœä¸ä¹ æƒ¯è¿™ç§å˜é‡å¼•ç”¨ï¼Œå¯ç›´æ¥å¤åˆ¶ç²˜è´´åˆ°è¿™ï¼Œ</span><br><span class="line"></span><br><span class="line"># åªæœ‰æŒ‡å®šçš„åˆ†æ”¯æäº¤æ—¶æ‰ä¼šè¿è¡Œè„šæœ¬,ä¹Ÿå°±æ˜¯ä½ è¦ç›‘æ§çš„åˆ†æ”¯</span><br><span class="line">branches:</span><br><span class="line">  only:</span><br><span class="line">    - blog</span><br><span class="line"></span><br><span class="line"> #å…¨å±€å¯å¼•ç”¨å˜é‡</span><br><span class="line"> env:</span><br><span class="line"> global:</span><br><span class="line">   - GH_REF ï¼šä½ çš„é¡¹ç›®githubä»“åº“çš„ssh</span><br></pre></td></tr></table></figure><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598600138240-ae7cf4c6-6b3f-4b3e-ad09-209632c9dac1.png#align=left&display=inline&height=248&margin=%5Bobject%20Object%5D&name=image.png&originHeight=248&originWidth=355&size=21803&status=done&style=none&width=355" alt="image.png"></p><h4 id="2ã€åŠ å¯†æ–¹æ³•"><a href="#2ã€åŠ å¯†æ–¹æ³•" class="headerlink" title="2ã€åŠ å¯†æ–¹æ³•"></a>2ã€åŠ å¯†æ–¹æ³•</h4><p>æ­¤æ–¹æ³•éœ€è¦å®‰è£… ruby ç¯å¢ƒä»¥åŠå¾ˆå¤šä¸œè¥¿ï¼Œå¯ä»¥å°è¯•ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨ï¼Œå…¶å®å°±æ˜¯æˆ‘è§‰å¾—éº»çƒ¦ï¼Œè¿˜ä¸ä¸€å®šé…å¾—å¥½ã€‚<br>æ‰€ä»¥è¿™é‡Œåªåˆ—å‡ºäº†å¤§æ¦‚çš„.travis.yml çš„é…ç½®ä¿¡æ¯ï¼Œæœ‰å…´è¶£çš„å¯ä»¥ç™¾åº¦æœä¸€ä¸‹è¿™ç§æ–¹æ³•</p><figure class="highlight ruby"><table><tr><td class="code"><pre><span class="line"><span class="comment"># é…ç½®è¯­è¨€åŠç›¸åº”ç‰ˆæœ¬</span></span><br><span class="line"><span class="symbol">language:</span> node_js</span><br><span class="line"></span><br><span class="line"><span class="symbol">node_js:</span></span><br><span class="line">  - <span class="string">&quot;4&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é…ç½®ç¯å¢ƒ</span></span><br><span class="line"><span class="symbol">before_install:</span></span><br><span class="line"><span class="comment"># æ›¿æ¢ä¸ºåˆšæ‰ç”Ÿæˆçš„è§£å¯†ä¿¡æ¯</span></span><br><span class="line">- openssl aes-<span class="number">256</span>-cbc -K $encrypted_xxxxxxxxxxxx_key -iv $encrypted_xxxxxxxxxxxx_iv -<span class="keyword">in</span> .travis/id_rsa.enc -out ~<span class="regexp">/.ssh/id</span>_rsa -d</span><br><span class="line"><span class="comment"># æ”¹å˜æ–‡ä»¶æƒé™</span></span><br><span class="line">- chmod <span class="number">600</span> ~<span class="regexp">/.ssh/id</span>_rsa</span><br><span class="line"><span class="comment"># é…ç½® ssh</span></span><br><span class="line">- eval $(ssh-agent)</span><br><span class="line">- ssh-add ~<span class="regexp">/.ssh/id</span>_rsa</span><br><span class="line">- cp .travis/ssh_config ~<span class="regexp">/.ssh/config</span></span><br><span class="line"><span class="comment"># é…ç½® git æ›¿æ¢ä¸ºè‡ªå·±çš„ä¿¡æ¯</span></span><br><span class="line">- git config --global user.name <span class="string">&#x27;yuorname&#x27;</span></span><br><span class="line">- git config --global user.email youremail@xx.com</span><br><span class="line"></span><br><span class="line"><span class="comment"># å®‰è£…ä¾èµ–</span></span><br><span class="line"><span class="symbol">install:</span></span><br><span class="line">- npm install hexo-cli -g</span><br><span class="line">- npm install</span><br><span class="line"></span><br><span class="line"><span class="comment"># éƒ¨ç½²çš„å‘½ä»¤</span></span><br><span class="line"><span class="symbol">script:</span></span><br><span class="line">- npm run deploy  <span class="comment"># hexo clean &amp;&amp; hexo g -d</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># é¡¹ç›®æ‰€åœ¨åˆ†æ”¯</span></span><br><span class="line"><span class="symbol">branches:</span></span><br><span class="line">  <span class="symbol">only:</span></span><br><span class="line">  - master</span><br></pre></td></tr></table></figure><h4 id="æ— è®ºæ˜¯ä»¥ä¸Šå“ªç§æ–¹æ³•ï¼Œé…ç½®å®Œæˆåï¼Œåªè¦æˆ‘ä»¬åœ¨ä¿®æ”¹çš„åˆ†æ”¯æäº¤äº†ä»£ç åï¼Œå°±å¯ä»¥åœ¨-Travis-Ci-å†…çœ‹åˆ°ç¼–è¯‘ä»¥åŠéƒ¨ç½²çš„è¿‡ç¨‹"><a href="#æ— è®ºæ˜¯ä»¥ä¸Šå“ªç§æ–¹æ³•ï¼Œé…ç½®å®Œæˆåï¼Œåªè¦æˆ‘ä»¬åœ¨ä¿®æ”¹çš„åˆ†æ”¯æäº¤äº†ä»£ç åï¼Œå°±å¯ä»¥åœ¨-Travis-Ci-å†…çœ‹åˆ°ç¼–è¯‘ä»¥åŠéƒ¨ç½²çš„è¿‡ç¨‹" class="headerlink" title="æ— è®ºæ˜¯ä»¥ä¸Šå“ªç§æ–¹æ³•ï¼Œé…ç½®å®Œæˆåï¼Œåªè¦æˆ‘ä»¬åœ¨ä¿®æ”¹çš„åˆ†æ”¯æäº¤äº†ä»£ç åï¼Œå°±å¯ä»¥åœ¨ Travis Ci å†…çœ‹åˆ°ç¼–è¯‘ä»¥åŠéƒ¨ç½²çš„è¿‡ç¨‹"></a>æ— è®ºæ˜¯ä»¥ä¸Šå“ªç§æ–¹æ³•ï¼Œé…ç½®å®Œæˆåï¼Œåªè¦æˆ‘ä»¬åœ¨ä¿®æ”¹çš„åˆ†æ”¯æäº¤äº†ä»£ç åï¼Œå°±å¯ä»¥åœ¨ Travis Ci å†…çœ‹åˆ°ç¼–è¯‘ä»¥åŠéƒ¨ç½²çš„è¿‡ç¨‹</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598600662273-33958ad7-644d-41ab-91fe-b3cd03108ad8.png#align=left&display=inline&height=570&margin=%5Bobject%20Object%5D&name=image.png&originHeight=570&originWidth=1426&size=81088&status=done&style=none&width=1426" alt="image.png"><br>é»„è‰²æ˜¯æ­£åœ¨éƒ¨ç½²ä¸­ï¼Œç»¿è‰²æ˜¯éƒ¨ç½²æˆåŠŸï¼Œçº¢è‰²å½“ç„¶å°±æ˜¯å¤±è´¥äº†ï¼ï¼</p><p>éƒ¨ç½²å®Œæˆåï¼Œå†å» github çš„ master åˆ†æ”¯ï¼Œå°±å¯ä»¥çœ‹åˆ° travis ci å®ƒå·²ç»è‡ªåŠ¨å¸®æˆ‘ä»¬å°†ç¼–è¯‘åçš„ä»£ç æäº¤åˆ° master åˆ†æ”¯äº†ï¼ˆæœ‰ä¸€å®šå»¶è¿Ÿï¼‰ï¼Œç„¶åå»æˆ‘ä»¬çš„åšå®¢ï¼Œåˆ·æ–°ä¸€ä¸‹å°±å¯ä»¥çœ‹åˆ°ä¿®æ”¹äº† ğŸ˜¸ğŸ˜ºğŸ˜Š</p><h3 id="å…­ã€é—®é¢˜æ€»ç»“"><a href="#å…­ã€é—®é¢˜æ€»ç»“" class="headerlink" title="å…­ã€é—®é¢˜æ€»ç»“"></a>å…­ã€é—®é¢˜æ€»ç»“</h3><h4 id="1ã€ç¼–è¯‘å®Œæˆåï¼Œå‘ç°-public-æ–‡ä»¶å¤¹å†…å°±æ²¡æœ‰ç”Ÿæˆ-index-html-æ–‡ä»¶"><a href="#1ã€ç¼–è¯‘å®Œæˆåï¼Œå‘ç°-public-æ–‡ä»¶å¤¹å†…å°±æ²¡æœ‰ç”Ÿæˆ-index-html-æ–‡ä»¶" class="headerlink" title="1ã€ç¼–è¯‘å®Œæˆåï¼Œå‘ç° public æ–‡ä»¶å¤¹å†…å°±æ²¡æœ‰ç”Ÿæˆ index.html æ–‡ä»¶"></a>1ã€ç¼–è¯‘å®Œæˆåï¼Œå‘ç° public æ–‡ä»¶å¤¹å†…å°±æ²¡æœ‰ç”Ÿæˆ index.html æ–‡ä»¶</h4><p>å‡ºç°è¿™ç§é—®é¢˜åï¼Œåœ¨ç»ˆç«¯è¿è¡Œ<code>npm ls --depth 0</code> æŸ¥çœ‹ hexo çš„å„ä¸ªæ’ä»¶æ˜¯éƒ½å®‰è£…å®Œæˆï¼Œæ²¡æœ‰å®‰è£…å®Œæˆçš„å®‰è£…ä¸€ä¸‹ <code>npm install æ’ä»¶å --save</code></p><h4 id="2ã€ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆäº†-index-html-æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶ä¸ºç©º"><a href="#2ã€ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆäº†-index-html-æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶ä¸ºç©º" class="headerlink" title="2ã€ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆäº† index.html æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶ä¸ºç©º"></a>2ã€ç¼–è¯‘å®Œæˆåï¼Œç”Ÿæˆäº† index.html æ–‡ä»¶ï¼Œä½†æ˜¯æ–‡ä»¶ä¸ºç©º</h4><p>å‡ºç°è¿™ç§é—®é¢˜ï¼Œå»æ£€æŸ¥ä¸€ä¸‹ theme ä¸»é¢˜æ–‡ä»¶å¤¹ä¸‹ä½ æ‰€ä½¿ç”¨çš„ä¸»é¢˜æ–‡ä»¶å†…æ˜¯å¦è¿˜æœ‰ä¸œè¥¿ï¼Œå¦‚æœæœ‰çš„è¯è¿˜å‡ºç°è¿™ç§é—®é¢˜ï¼Œå»ºè®®åˆ é™¤ä¸»é¢˜åé‡æ–° clone ä¸€ä¸‹ï¼ˆå°è´´å£«ï¼šåˆš clone çš„ä¸»é¢˜è®°å¾—è¦å»åˆ é™¤é‡Œé¢çš„.git æ–‡ä»¶å¤¹å“Ÿï¼‰</p>]]></content>
    
    
      
      
    <summary type="html">&lt;blockquote&gt;
&lt;p&gt;ä»€ä¹ˆæ˜¯ Hexo è¿™é‡Œå°±ä¸åšè¿‡å¤šçš„ä»‹ç»äº†ï¼Œç™¾åº¦ä¸€ä¸‹æœ‰å¾ˆå¤šä»‹ç»çš„&lt;br&gt;è¿™é‡Œæ¥ä»‹ç»ä¸€ä¸‹ä»€ä¹ˆæ˜¯ Travis CI&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;ä¸€ã€ä»€ä¹ˆæ˜¯-Travis-CI&quot;&gt;&lt;a href=&quot;#ä¸€ã€ä»€ä¹ˆæ˜¯-Travis-CI</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>Hexoæ­å»ºåšå®¢å®ç°githubéƒ¨ç½²</title>
    <link href="http://gtliangming.github.io/2020/12/09/ckih06jx60001fanm2st832p3/"/>
    <id>http://gtliangming.github.io/2020/12/09/ckih06jx60001fanm2st832p3/</id>
    <published>2020-12-09T05:45:39.000Z</published>
    <updated>2020-12-09T05:56:16.629Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€æœ¬åœ°åˆ›å»º-Hexo-åšå®¢æ¡†æ¶"><a href="#ä¸€ã€æœ¬åœ°åˆ›å»º-Hexo-åšå®¢æ¡†æ¶" class="headerlink" title="ä¸€ã€æœ¬åœ°åˆ›å»º Hexo åšå®¢æ¡†æ¶"></a>ä¸€ã€æœ¬åœ°åˆ›å»º Hexo åšå®¢æ¡†æ¶</h3><p>**</p><h4 id="1ã€æ­å»ºæ‰€éœ€ç¯å¢ƒ"><a href="#1ã€æ­å»ºæ‰€éœ€ç¯å¢ƒ" class="headerlink" title="1ã€æ­å»ºæ‰€éœ€ç¯å¢ƒ"></a>1ã€æ­å»ºæ‰€éœ€ç¯å¢ƒ</h4><p><strong>Hexo å®˜ç½‘åœ°å€ï¼š<a href="https://hexo.io/">https://hexo.io/</a>ä¸Šéƒ½å¯¹æ‰€éœ€ç¯å¢ƒã€ç‰ˆæœ¬ä¿¡æ¯éƒ½åšäº†ä»‹ç»ï¼Œè¿™é‡Œä¸è¿‡å¤šä»‹ç»ã€‚</strong><br>**</p><h4 id="2ã€é…ç½®æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„-ssh-key"><a href="#2ã€é…ç½®æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„-ssh-key" class="headerlink" title="2ã€é…ç½®æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„ ssh key"></a>2ã€é…ç½®æœ¬åœ°ä»“åº“ä¸è¿œç¨‹ä»“åº“çš„ ssh key</h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>cd ~/.ssh</code> æŸ¥çœ‹æ˜¯å¦æœ‰<code>id_rsa</code> ä»¥åŠ<code>id_rsa.pub</code> æ–‡ä»¶ï¼Œå¦‚æœæœ‰æˆ–è€…è‡ªå·±å·²ç»é…è¿‡ã€‚æ­¤é¡¹å¯ä»¥è·³è¿‡ã€‚å¦‚æœæ²¡æœ‰ï¼Œç°åœ¨å¼€å§‹åˆ›å»ºæ–°çš„</p><ul><li><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥<code>cd ~/.ssh</code></p></li><li><p>åœ¨ ssh æ–‡ä»¶ç›®å½•ä¸‹æ‰§è¡Œ <code>ssh-keygen -t rsa -C â€œyourname@xx.com</code>Â Â  æ­¤å¤„çš„é‚®ç®±åœ°å€æ¢æˆä½ è‡ªå·±çš„</p></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598520503078-fefabe3c-1a79-4642-8181-ed53257b0d7d.png#align=left&display=inline&height=68&margin=%5Bobject%20Object%5D&name=image.png&originHeight=68&originWidth=607&size=83506&status=done&style=none&width=607" alt="image.png"></p><ul><li>ç‚¹å‡»åï¼Œç®­å¤´å¤„å¡«å†™ç”Ÿæˆçš„å…¬é’¥ä»¥åŠç§é’¥çš„æ–‡ä»¶åï¼Œå¦‚æœåªé…ç½®ä¸€ä¸ª ssh key ,å°±ç›´æ¥ç‚¹å‡»å›è½¦é€‰æ‹©é»˜è®¤ï¼Œ</li><li>æ¥ä¸‹æ¥çš„ä¸¤é¡¹ä¹Ÿç›´æ¥å›è½¦é€‰æ‹©é»˜è®¤</li><li><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598520679281-49a1b535-8359-4882-b504-c6cdc70d46ea.png#align=left&display=inline&height=422&margin=%5Bobject%20Object%5D&name=image.png&originHeight=422&originWidth=509&size=500198&status=done&style=none&width=509" alt="image.png"></li></ul><p>è¿™æ ·ï¼ŒSSH key å°±ç”ŸæˆæˆåŠŸäº†ï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦ä½¿ç”¨è¿™ä¸ª ssh key</p><ul><li>ä½¿ç”¨ ssh-agent ä»£ç†ç®¡ç† git ç§é’¥</li></ul><p>æ·»åŠ æœ¬åœ°ç§é’¥ï¼š<code>ssh-add ~/.ssh/åˆšæ‰ç”Ÿæˆçš„å…¬é’¥çš„åå­—</code></p><ul><li>ç»§ç»­åœ¨ç»ˆç«¯è¾“å…¥<code>cat ~/.ssh/åˆšæ‰ç”Ÿæˆçš„å…¬é’¥çš„åå­—</code>ï¼ˆé»˜è®¤æ˜¯ id_rsa.pubï¼‰å¦‚æœä½ åˆ›å»ºçš„æ—¶å€™èµ·äº†åˆ«çš„åå­—ï¼Œè¿™é‡Œå°±è¾“å…¥åˆšæ‰çš„åå­—ã€‚ç„¶åç‚¹å‡»å›è½¦ï¼Œç»ˆç«¯å†…å°±ä¼šæ˜¾ç¤ºå‡ºå…¬é’¥çš„å†…å®¹ï¼ˆå¾ˆé•¿ä¸€æ®µ,ä»¥ ssh-rsa å¼€å¤´ï¼‰</li><li>å¤åˆ¶è¿™æ®µä¿¡æ¯ï¼Œæ‰“å¼€ githubï¼Œç‚¹å‡»å¤´åƒé€‰æ‹© setting</li><li>åœ¨å·¦è¾¹çš„å¯¼èˆªé€‰é¡¹å†…é€‰æ‹©<code>SSH and GPG keys</code>é€‰é¡¹ï¼Œé€‰æ‹©ä¸Šé¢çš„<code>New SSH key</code></li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598521006842-eb0f9a45-2e6f-4d87-a944-fbb893abb3d0.png#align=left&display=inline&height=115&margin=%5Bobject%20Object%5D&name=image.png&originHeight=115&originWidth=795&size=14106&status=done&style=none&width=795" alt="image.png"></p><ul><li>ç»™è¿™ä¸ª SSH key èµ·ä¸ªåå­—ï¼Œä»¥ä¾¿åŒºåˆ†ï¼Œå› ä¸ºä¸åŒçš„ç”µè„‘éœ€è¦é…ç½®ä¸åŒ ssh keyï¼Œç„¶åå°†åˆšæ‰å¤åˆ¶çš„å…¬é’¥ä¿¡æ¯ç²˜è´´åœ¨ key å†…ï¼Œç‚¹å‡» Add ssh key. è¿™æ ·å°±é…ç½®æˆåŠŸäº†</li><li><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598521113622-875772c9-e7dc-46c8-b84b-e4966e976042.png#align=left&display=inline&height=469&margin=%5Bobject%20Object%5D&name=image.png&originHeight=469&originWidth=824&size=29895&status=done&style=none&width=824" alt="image.png"></li><li>åœ¨ç»ˆç«¯è¾“å…¥<code> ssh -T git@github.com</code> æ£€æµ‹æ˜¯å¦é…ç½®æˆåŠŸï¼Œå¦‚ä¸‹å°±è¡¨ç¤ºé…ç½®æˆåŠŸ</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598521331141-0c765591-ce89-472c-8d76-d8019952440c.png#align=left&display=inline&height=37&margin=%5Bobject%20Object%5D&name=image.png&originHeight=37&originWidth=655&size=47981&status=done&style=none&width=655" alt="image.png"></p><blockquote><p>å¦‚æœä¸­é€”å“ªä¸€æ­¥å‡ºç°äº†é—®é¢˜ï¼Œå¯ä»¥åœ¨.ssh æ–‡ä»¶å¤¹ä¸‹å¹²æ‰ç”Ÿæˆçš„æ–‡ä»¶ï¼Œé‡æ–°å¼€å§‹</p></blockquote><h4 id="3ã€åˆ›å»ºåšå®¢ä»“åº“"><a href="#3ã€åˆ›å»ºåšå®¢ä»“åº“" class="headerlink" title="3ã€åˆ›å»ºåšå®¢ä»“åº“"></a>3ã€åˆ›å»ºåšå®¢ä»“åº“</h4><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598516924636-5ca5fb75-87f1-4f5b-a160-2f36280d11aa.png#align=left&display=inline&height=568&margin=%5Bobject%20Object%5D&name=image.png&originHeight=756&originWidth=710&size=101157&status=done&style=none&width=533" alt="image.png"><br>ç‚¹å‡» Create respository å°±åˆ›å»ºæˆåŠŸäº† ğŸ˜ƒ</p><ul><li>ä½¿ç”¨ SSH å°†é¡¹ç›®å…‹éš†åˆ°æœ¬åœ°ï¼Œå¹¶åˆå§‹åŒ– git ä»“åº“<code>git init </code> æ­¤æ—¶é»˜è®¤åœ¨<code>master</code> åˆ†æ”¯</li></ul><p><img src= "/img/loading.gif" data-lazy-src="https://cdn.nlark.com/yuque/0/2020/png/2401896/1598521616753-518b911a-39c0-4c98-8b2f-e239295f9e04.png#align=left&display=inline&height=320&margin=%5Bobject%20Object%5D&name=image.png&originHeight=320&originWidth=542&size=41348&status=done&style=none&width=542" alt="image.png"></p><ul><li>å› ä¸º github éƒ¨ç½²åšå®¢çš„ç¼–è¯‘åçš„ä»£ç é»˜è®¤ç”Ÿæˆåˆ° master åˆ†æ”¯ï¼Œæ‰€ä»¥æˆ‘ä»¬å°†é¡¹ç›®çš„æºç æ”¾ç½®åœ¨ä¸€ä¸ªæ–°çš„<code>blog</code>åˆ†æ”¯ï¼Œæ‰§è¡Œ<code>git checkeout -b blog</code> åˆ›å»ºå¹¶åˆ‡æ¢åˆ° blog åˆ†æ”¯</li></ul><h3 id="äºŒã€ç”Ÿæˆåšå®¢é¡¹ç›®"><a href="#äºŒã€ç”Ÿæˆåšå®¢é¡¹ç›®" class="headerlink" title="äºŒã€ç”Ÿæˆåšå®¢é¡¹ç›®"></a>äºŒã€ç”Ÿæˆåšå®¢é¡¹ç›®</h3><h4 id="1ã€é¡¹ç›®ç”Ÿæˆ"><a href="#1ã€é¡¹ç›®ç”Ÿæˆ" class="headerlink" title="1ã€é¡¹ç›®ç”Ÿæˆ"></a>1ã€é¡¹ç›®ç”Ÿæˆ</h4><p>1&gt;ã€å®‰è£…ç”Ÿæˆé¡¹ç›®çš„è„šæ‰‹æ¶å·¥å…·ï¼š<code>npm install hexo-cli -g</code><br>2&gt;ã€ç”Ÿæˆé¡¹ç›®<code>hexo init é¡¹ç›®å</code></p><h4 id="2ã€è¿è¡Œé¡¹ç›®"><a href="#2ã€è¿è¡Œé¡¹ç›®" class="headerlink" title="2ã€è¿è¡Œé¡¹ç›®"></a>2ã€è¿è¡Œé¡¹ç›®</h4><p>1&gt;ã€è¿›å…¥åˆ°åˆšæ‰åˆ›å»ºçš„é¡¹ç›®ä¸‹ï¼Œä½¿ç”¨<code>hexo s </code>(hexo server çš„ç¼©å†™)å°±å¯å¯åŠ¨é¡¹ç›®ï¼Œæœ¬åœ°æµè§ˆå™¨æ‰“å¼€<code>localhost:4000</code>å°±å¯æŸ¥çœ‹åˆ°æˆ‘ä»¬æ–°åˆ›å»ºçš„ hexo é¡¹ç›®</p><blockquote><p>å¦‚æœé»˜è®¤çš„ 4000 ç«¯å£è¢«å ç”¨ï¼Œå¯ä½¿ç”¨ hexo s -port ç«¯å£å· æ¥å¯åŠ¨é¡¹ç›®ï¼Œå¹¶åœ¨æµè§ˆå™¨ä½¿ç”¨å¯¹åº”çš„ç«¯å£æ¥è®¿é—®</p></blockquote><p>2&gt;ã€å®‰è£…å®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">â”œâ”€â”€ _config.yml</span><br><span class="line">â”œâ”€â”€ package.json</span><br><span class="line">â”œâ”€â”€ scaffolds</span><br><span class="line">â”œâ”€â”€ source</span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts</span><br><span class="line">â””â”€â”€ themes</span><br></pre></td></tr></table></figure><p>å…¶ä¸­_config.yml æ–‡ä»¶ç”¨äºå­˜æ”¾ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼Œä½ å¯ä»¥åœ¨æ­¤é…ç½®å¤§éƒ¨åˆ†çš„å‚æ•°ï¼›scaffolds æ˜¯å­˜æ”¾æ¨¡æ¿çš„æ–‡ä»¶å¤¹ï¼Œå½“æ–°å»ºæ–‡ç« æ—¶ï¼ŒHexo ä¼šæ ¹æ® scaffold æ¥å»ºç«‹æ–‡ä»¶ï¼›source æ˜¯èµ„æºæ–‡ä»¶å¤¹ï¼Œç”¨äºå­˜æ”¾ç”¨æˆ·èµ„æºï¼Œthemes æ˜¯ä¸»é¢˜æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾åšå®¢ä¸»é¢˜ï¼ŒHexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢</p><h3 id="ä¸‰ã€éƒ¨ç½²åˆ°-gtihub"><a href="#ä¸‰ã€éƒ¨ç½²åˆ°-gtihub" class="headerlink" title="ä¸‰ã€éƒ¨ç½²åˆ° gtihub"></a>ä¸‰ã€éƒ¨ç½²åˆ° gtihub</h3><p><strong>å®‰è£…éƒ¨ç½²åˆ° github çš„å·¥å…·æ’ä»¶ï¼š</strong><code>npm install hexo-deployer-git --save</code></p><p>_config.yml æ˜¯é‡è¦çš„ç½‘ç«™çš„é…ç½®ä¿¡æ¯ï¼Œå…·ä½“é…ç½®è¯¦è§å®˜ç½‘<a href="https://hexo.io/docs/configuration">https://hexo.io/docs/configuration</a></p><p>å› ä¸ºæˆ‘ä»¬è¦å°†ç¼–è¯‘åçš„ä»£ç æ”¾ç½®åœ¨ master åˆ†æ”¯ä¸‹ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¿®æ”¹_config.yml æ–‡ä»¶ä¸‹çš„ deploy</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">deploy:</span><br><span class="line">  type: &#39;git&#39;</span><br><span class="line">  repo: å­˜æ”¾åšå®¢é¡¹ç›®çš„githubä»“åº“åœ°å€ï¼Œå»ºè®®ä½¿ç”¨sshåœ°å€</span><br><span class="line">  branch: master  éœ€è¦å°†åšå®¢çš„ä»£ç ç¼–è¯‘åˆ°é‚£ä¸ªåˆ†æ”¯ï¼Œæ­¤å¤„å°±å†™å¯¹åº”åˆ†æ”¯çš„åˆ†æ”¯å</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>ä¿®æ”¹å®Œæˆåï¼Œä½¿ç”¨ hexo çš„å‘½ä»¤</p><ol><li><code>hexo clean</code> æ¸…é™¤ä¹‹å‰çš„ç¼“å­˜</li><li><code>hexo generate</code> ç¼–è¯‘é¡¹ç›®ä»£ç </li><li><code>hexo deploy</code> å°†ç¼–è¯‘åçš„ä»£ç æ ¹æ®_congin.yml å†…çš„ deploy æ¨é€åˆ°æŒ‡å®šä»“åº“çš„åˆ¶å®šåˆ†æ”¯<blockquote><p>ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰éƒ¨å¯ä»¥ä¸€å— æ‰§è¡Œ hexo g -d</p></blockquote></li></ol><p>æ­¤æ—¶å°±å¯åœ¨<code>https://ä½ çš„åšå®¢ä»“åº“å</code> (ä¾‹å¦‚æˆ‘çš„<a href="https://gtliangming.github.io/">https://gtliangming.github.io/</a>)æŸ¥çœ‹åˆ°ä½ æ–°å»ºçš„çš„åšå®¢äº†<br>å¯èƒ½ä¼šæœ‰ä¸€å®šçš„å»¶è¿Ÿï¼Œç¨ç­‰ä¸‹åˆ·æ–°å°±æœ‰äº†**</p><p>ğŸ’ è‡³æ­¤ï¼Œæˆ‘ä»¬çš„åšå®¢å°±æ­å»ºå®Œæˆäº†ï¼Œè‡³äºåé¢çš„ä¸»é¢˜ä»¥åŠç¾åŒ–ç­‰çš„ç»†èŠ‚é—®é¢˜ï¼ŒæœŸå¾…ä¸‹ä¸€ç¯‡å§ï¼ï¼ï¼</p><p>**<br><strong>ä¸çŸ¥é“ç»†å¿ƒçš„å¤§å®¶å‘ç°äº†é—®é¢˜äº†å—ï¼Ÿæˆ‘ä»¬åšå®¢æ˜¯æ›´æ–°äº†ï¼Œä½†æ˜¯æˆ‘ä»¬çš„æœ¬åœ° blog åˆ†æ”¯çš„ä»£ç æ›´æ–°è¯¥æ²¡æœ‰æäº¤ï¼Œè¿™å°±è¡¨ç¤ºæˆ‘ä»¬æ¯æ¬¡æ‰§è¡Œå®Œ hexo çš„å‘½ä»¤éƒ¨ç½²å®Œåšå®¢åï¼Œè¿˜è¦ Git ä¸‰éƒ¨æ›²æäº¤æˆ‘ä»¬ blog åˆ†æ”¯çš„ä»£ç ã€‚å¥½å¥‡çš„åŒå­¦å°±æœ‰é—®é¢˜äº†ï¼Œèƒ½ä¸èƒ½ä¸€æ­¥è§£å†³å‘¢ï¼Œå®¾æœï¼ï¼Œå…³æ³¨ä¸‹ä¸€ç¯‡å“¦ï¼ˆTracis cI å®ç°è‡ªåŠ¨éƒ¨ç½² hexo åšå®¢è‡³ githubï¼‰</strong></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä¸€ã€æœ¬åœ°åˆ›å»º-Hexo-åšå®¢æ¡†æ¶&quot;&gt;&lt;a href=&quot;#ä¸€ã€æœ¬åœ°åˆ›å»º-Hexo-åšå®¢æ¡†æ¶&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€æœ¬åœ°åˆ›å»º Hexo åšå®¢æ¡†æ¶&quot;&gt;&lt;/a&gt;ä¸€ã€æœ¬åœ°åˆ›å»º Hexo åšå®¢æ¡†æ¶&lt;/h3&gt;&lt;p&gt;**&lt;/p&gt;
&lt;h4 id=</summary>
      
    
    
    
    <category term="hexo" scheme="http://gtliangming.github.io/categories/hexo/"/>
    
    
    <category term="hexo github" scheme="http://gtliangming.github.io/tags/hexo-github/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript(ä¸€)</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxh000bfanm0prxfe6x/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxh000bfanm0prxfe6x/</id>
    <published>2020-09-08T08:30:00.000Z</published>
    <updated>2020-10-14T02:25:44.840Z</updated>
    
    <content type="html"><![CDATA[<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><h2 id="1ã€ä»€ä¹ˆæ˜¯TypeScript"><a href="#1ã€ä»€ä¹ˆæ˜¯TypeScript" class="headerlink" title="1ã€ä»€ä¹ˆæ˜¯TypeScript"></a>1ã€ä»€ä¹ˆæ˜¯TypeScript</h2><p>typescriptæ˜¯Javascriptçš„ä¸€ä¸ªè¶…é›†ï¼Œå®ƒä¹Ÿæ”¯æŒECMAScript 6çš„æ ‡å‡†ã€‚</p><p>TypeScript è®¾è®¡ç›®æ ‡æ˜¯å¼€å‘å¤§å‹åº”ç”¨ï¼Œå®ƒå¯ä»¥ç¼–è¯‘æˆçº¯ JavaScriptï¼Œç¼–è¯‘å‡ºæ¥çš„ JavaScript å¯ä»¥è¿è¡Œåœ¨ä»»ä½•æµè§ˆå™¨ä¸Šã€‚</p><blockquote><p>typescriptä¸javascriptçš„åŒºåˆ«</p><p>typescriptæ˜¯Javascriptçš„è¶…é›†ï¼Œæ‰©å±•äº†Javascriptçš„è¯­æ³•ï¼Œå› æ­¤ç°æœ‰çš„jsä»£ç å¯ä»¥ä¸tsä¸€èµ·å·¥ä½œè€Œæ— éœ€ä»»ä½•ä¿®æ”¹ï¼Œtsé€šè¿‡ç±»å‹æ³¨è§£æä¾›ç¼–è¯‘æ—¶çš„é™æ€ç±»å‹æ£€æŸ¥ã€‚</p><p>tså¯å¤„ç†å·²æœ‰çš„jsä»£ç ï¼Œå¹¶ä¸”åªå¯¹å…¶ä¸­çš„tsä»£ç è¿›è¡Œç¼–è¯‘</p></blockquote><p><strong>TypeScript è½¬æ¢ä¸º JavaScript è¿‡ç¨‹å¦‚ä¸‹å›¾ï¼š</strong></p><img src= "/img/loading.gif" data-lazy-src="https://www.runoob.com/wp-content/uploads/2019/01/typescript_compiler.png" /><h2 id="2ã€TypeScriptçš„å®‰è£…"><a href="#2ã€TypeScriptçš„å®‰è£…" class="headerlink" title="2ã€TypeScriptçš„å®‰è£…"></a>2ã€TypeScriptçš„å®‰è£…</h2><p><strong><em>ä¸€èˆ¬ä½¿ç”¨.tsä½œä¸ºTypeScriptæ–‡ä»¶çš„åç¼€å</em></strong></p><h3 id="npmå®‰è£…"><a href="#npmå®‰è£…" class="headerlink" title="npmå®‰è£…"></a>npmå®‰è£…</h3><p>ä½¿ç”¨<code>npm install -g typescript</code> æ¥è¿›è¡Œå®‰è£…</p><p>å®‰è£…å®Œæˆåä½¿ç”¨<code>tsc -v </code>æ¥è¿›è¡ŒæŸ¥çœ‹å®‰è£…æ˜¯å¦æˆåŠŸå’ŒæŸ¥çœ‹ç‰ˆæœ¬</p><h2 id="3ã€TypeScriptçš„åŸºç¡€è¯­æ³•"><a href="#3ã€TypeScriptçš„åŸºç¡€è¯­æ³•" class="headerlink" title="3ã€TypeScriptçš„åŸºç¡€è¯­æ³•"></a>3ã€TypeScriptçš„åŸºç¡€è¯­æ³•</h2><h4 id="ç©ºç™½å’Œæ¢è¡Œ"><a href="#ç©ºç™½å’Œæ¢è¡Œ" class="headerlink" title="ç©ºç™½å’Œæ¢è¡Œ"></a>ç©ºç™½å’Œæ¢è¡Œ</h4><p>TypeScript ä¼šå¿½ç•¥ç¨‹åºä¸­å‡ºç°çš„ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦å’Œæ¢è¡Œç¬¦ã€‚</p><p>ç©ºæ ¼ã€åˆ¶è¡¨ç¬¦é€šå¸¸ç”¨æ¥ç¼©è¿›ä»£ç ï¼Œä½¿ä»£ç æ˜“äºé˜…è¯»å’Œç†è§£ã€‚</p><h4 id="TypeScript-åŒºåˆ†å¤§å°å†™"><a href="#TypeScript-åŒºåˆ†å¤§å°å†™" class="headerlink" title="TypeScript åŒºåˆ†å¤§å°å†™"></a>TypeScript åŒºåˆ†å¤§å°å†™</h4><p>TypeScript åŒºåˆ†å¤§å†™å’Œå°å†™å­—ç¬¦ã€‚</p><h4 id="TypeScript-ä¸é¢å‘å¯¹è±¡"><a href="#TypeScript-ä¸é¢å‘å¯¹è±¡" class="headerlink" title="TypeScript ä¸é¢å‘å¯¹è±¡"></a>TypeScript ä¸é¢å‘å¯¹è±¡</h4><p>é¢å‘å¯¹è±¡æ˜¯ä¸€ç§å¯¹ç°å®ä¸–ç•Œç†è§£å’ŒæŠ½è±¡çš„æ–¹æ³•ã€‚</p><p>TypeScript æ˜¯ä¸€ç§é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ã€‚</p><blockquote><p>1ã€å…ˆç¼–å†™ä¸€æ®µtsä»£ç ï¼Œå®šä¹‰ä¸€ä¸ªluckboyç±»ï¼Œå®ƒå…·æœ‰ä¸€ä¸ªç§æœ‰å±æ€§æ–¹æ³•name</p></blockquote><blockquote><p>2ã€åˆ›å»ºä¸€ä¸ªè¿™ä¸ªç±»çš„å®ä¾‹newboyæ¥ç»§æ‰¿è¿™ä¸ªç±»çš„å±æ€§å’Œæ–¹æ³•</p><p>3ã€ç”¨è¿™ä¸ªå®ä¾‹è°ƒç”¨ç±»é‡Œé¢çš„nameæ–¹æ³•</p></blockquote><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span>  lackBoy &#123;</span><br><span class="line">    name():<span class="built_in">void</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;luckBoy&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;  </span><br><span class="line"><span class="keyword">var</span> newboy = <span class="keyword">new</span> lackBoy;</span><br><span class="line">newboy.name();</span><br></pre></td></tr></table></figure><blockquote><p>4ã€ä½¿ç”¨tscæ¥å¯¹è¿™ä¸ªtsä»£ç è¿›è¡Œè½¬æ¢ï¼Œè½¬æ¢ä¸ºjsä»£ç (åŒçº§ç›®å½•ä¸‹å‡ºç°åŒåçš„jsæ–‡ä»¶)</p></blockquote><blockquote><p>5ã€æŸ¥çœ‹è¿™ä¸ªjsæ–‡ä»¶,å‘ç°åˆ›å»ºå®ä¾‹ä¸è°ƒç”¨æ–¹æ³•æ²¡æœ‰åŒºåˆ«ï¼Œåªæ˜¯åœ¨ç±»çš„éƒ¨åˆ†æœ‰äº†å˜åŒ–</p></blockquote><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> lackBoy = <span class="comment">/** @class */</span> (<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">lackBoy</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    lackBoy.prototype.name = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">&quot;luckBoy&quot;</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> lackBoy;</span><br><span class="line">&#125;());</span><br><span class="line"><span class="keyword">var</span> newboy = <span class="keyword">new</span> lackBoy;</span><br><span class="line">newboy.name();</span><br></pre></td></tr></table></figure><blockquote><p>6ã€ä½¿ç”¨nodeè¿è¡Œè¿™ä¸ªjsæ–‡ä»¶ï¼Œä¼šå‘ç°æ§åˆ¶å°è¾“å‡ºluckboy</p></blockquote><h2 id="4ã€TypeScriptçš„åŸºæœ¬ç±»å‹"><a href="#4ã€TypeScriptçš„åŸºæœ¬ç±»å‹" class="headerlink" title="4ã€TypeScriptçš„åŸºæœ¬ç±»å‹"></a>4ã€TypeScriptçš„åŸºæœ¬ç±»å‹</h2><p><strong>TypeScriptåŒ…å«çš„æ‰€æœ‰æ•°æ®ç±»å‹å¦‚ä¸‹</strong></p><table><thead><tr><th align="center">æ•°æ®ç±»å‹</th><th align="left">å…³é”®å­—</th><th align="left">æè¿°</th></tr></thead><tbody><tr><td align="center">ä»»æ„ç±»å‹</td><td align="left">any</td><td align="left">å£°æ˜ä¸º any çš„å˜é‡å¯ä»¥èµ‹äºˆä»»æ„ç±»å‹çš„å€¼ã€‚</td></tr><tr><td align="center">æ•°å­—ç±»å‹</td><td align="left">number</td><td align="left">åŒç²¾åº¦ 64 ä½æµ®ç‚¹å€¼ã€‚å®ƒå¯ä»¥ç”¨æ¥è¡¨ç¤ºæ•´æ•°å’Œåˆ†æ•°ã€‚</td></tr><tr><td align="center">å­—ç¬¦ä¸²ç±»å‹</td><td align="left">string</td><td align="left">ä¸€ä¸ªå­—ç¬¦ç³»åˆ—ï¼Œä½¿ç”¨å•å¼•å·ï¼ˆ**â€™<strong>ï¼‰æˆ–åŒå¼•å·ï¼ˆ</strong>â€œ<strong>ï¼‰æ¥è¡¨ç¤ºå­—ç¬¦ä¸²ç±»å‹ã€‚åå¼•å·ï¼ˆ</strong>`**ï¼‰æ¥å®šä¹‰å¤šè¡Œæ–‡æœ¬å’Œå†…åµŒè¡¨è¾¾å¼</td></tr><tr><td align="center">å¸ƒå°”ç±»å‹</td><td align="left">boolean</td><td align="left">è¡¨ç¤ºé€»è¾‘å€¼ï¼štrue å’Œ falseã€‚</td></tr><tr><td align="center">æ•°ç»„ç±»å‹</td><td align="left">æ— </td><td align="left">å£°æ˜å˜é‡ä¸ºæ•°ç»„ã€‚                                                                                                       1ã€åœ¨å…ƒç´ ç±»å‹åé¢åŠ ä¸Š[] let arr: number[] = [1, 2];                                          2ã€æˆ–è€…ä½¿ç”¨æ•°ç»„æ³›å‹ let arr: Array<number> = [1, 2];</td></tr><tr><td align="center">å…ƒç»„ç±»å‹</td><td align="left">æ— </td><td align="left">å…ƒç»„ç±»å‹ç”¨æ¥è¡¨ç¤ºå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»å‹çš„æ•°ç»„ï¼Œ<span style="color:red">å„å…ƒç´ çš„ç±»å‹ä¸å¿…ç›¸åŒï¼Œå¯¹åº”ä½ç½®çš„ç±»å‹éœ€è¦ç›¸åŒ</span>                                                                                                      let x: [string, number];                                                                                                x = [â€˜Runoobâ€™, 1];    // è¿è¡Œæ­£å¸¸                                                                                        x = [1, â€˜Runoobâ€™];    // æŠ¥é”™                                                                       console.log(x[0]);    // è¾“å‡º Runoob</td></tr><tr><td align="center">æšä¸¾ç±»å‹</td><td align="left">enum</td><td align="left">æšä¸¾ç±»å‹ç”¨äºå®šä¹‰æ•°å€¼é›†åˆã€‚                                                                                             enum Color {Red, Green, Blue};                                                                                   let c: Color = Color.Blue;                                                                            console.log(c);    // è¾“å‡º 2</td></tr><tr><td align="center">voidç±»å‹</td><td align="left">void</td><td align="left">ç”¨äºæ ‡è¯†æ–¹æ³•è¿”å›å€¼çš„ç±»å‹ï¼Œè¡¨ç¤ºè¯¥æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ã€‚</td></tr><tr><td align="center">nullç±»å‹</td><td align="left">null</td><td align="left">è¡¨ç¤ºå¯¹è±¡å€¼ç¼ºå¤±</td></tr><tr><td align="center">undefinedç±»å‹</td><td align="left">undefined</td><td align="left">ç”¨äºåˆå§‹åŒ–å˜é‡ä¸ºä¸€ä¸ªæœªå®šä¹‰çš„å€¼</td></tr><tr><td align="center">neverç±»å‹</td><td align="left">never</td><td align="left">never æ˜¯å…¶å®ƒç±»å‹ï¼ˆåŒ…æ‹¬ null å’Œ undefinedï¼‰çš„å­ç±»å‹ï¼Œä»£è¡¨ä»ä¸ä¼šå‡ºç°çš„å€¼ã€‚</td></tr></tbody></table><h4 id="Anyç±»å‹"><a href="#Anyç±»å‹" class="headerlink" title="Anyç±»å‹"></a>Anyç±»å‹</h4><p> ä»»æ„å€¼æ˜¯ TypeScript é’ˆå¯¹ç¼–ç¨‹æ—¶ç±»å‹ä¸æ˜ç¡®çš„å˜é‡ä½¿ç”¨çš„ä¸€ç§æ•°æ®ç±»å‹ï¼Œå®ƒå¸¸ç”¨äºä»¥ä¸‹ä¸‰ç§æƒ…å†µã€‚</p><ol><li><p>å˜é‡çš„å€¼ä¼šåŠ¨æ€æ”¹å˜æ—¶ï¼Œæ¯”å¦‚æ¥è‡ªç”¨æˆ·çš„è¾“å…¥ï¼Œä»»æ„å€¼ç±»å‹å¯ä»¥è®©è¿™äº›å˜é‡è·³è¿‡ç¼–è¯‘é˜¶æ®µçš„ç±»å‹æ£€æŸ¥</p></li><li><p>æ”¹å†™ç°æœ‰ä»£ç æ—¶ï¼Œä»»æ„å€¼å…è®¸åœ¨ç¼–è¯‘æ—¶å¯é€‰æ‹©åœ°åŒ…å«æˆ–ç§»é™¤ç±»å‹æ£€æŸ¥</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è¿è¡Œæ—¶å¹¶ä¸ä¼šæ£€æŸ¥æ‰€è°ƒç”¨çš„æ–¹æ³•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">let</span> x: any = <span class="number">4</span>;</span><br><span class="line">x.ifItExists();    <span class="comment">// æ­£ç¡®ï¼ŒifItExistsæ–¹æ³•åœ¨è¿è¡Œæ—¶å¯èƒ½å­˜åœ¨ï¼Œä½†è¿™é‡Œå¹¶ä¸ä¼šæ£€æŸ¥</span></span><br><span class="line">x.toFixed();    <span class="comment">// æ­£ç¡®</span></span><br></pre></td></tr></table></figure></li><li><p>å®šä¹‰å­˜å‚¨å„ç§ç±»å‹æ•°æ®çš„æ•°ç»„æ—¶</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> arrayList: any[] = [<span class="number">1</span>, <span class="literal">false</span>, <span class="string">&#x27;fine&#x27;</span>];</span><br><span class="line">arrayList[<span class="number">1</span>] = <span class="number">100</span>;</span><br></pre></td></tr></table></figure></li></ol><h2 id="5-ã€TypeScriptçš„å˜é‡å£°æ˜"><a href="#5-ã€TypeScriptçš„å˜é‡å£°æ˜" class="headerlink" title="5 ã€TypeScriptçš„å˜é‡å£°æ˜"></a>5 ã€TypeScriptçš„å˜é‡å£°æ˜</h2><p><strong>1.TypeScript å˜é‡çš„å‘½åè§„åˆ™ï¼š</strong></p><ul><li>å˜é‡åç§°å¯ä»¥åŒ…å«æ•°å­—å’Œå­—æ¯ã€‚</li><li>é™¤äº†ä¸‹åˆ’çº¿ <strong>_</strong> å’Œç¾å…ƒ <strong>$</strong> ç¬¦å·å¤–ï¼Œä¸èƒ½åŒ…å«å…¶ä»–ç‰¹æ®Šå­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼ã€‚</li><li>å˜é‡åä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</li></ul><p>å˜é‡ä½¿ç”¨å‰å¿…é¡»å…ˆå£°æ˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ var æ¥å£°æ˜å˜é‡ã€‚</p><p><strong>2.å£°æ˜TypeScriptçš„å˜é‡ä¸€èˆ¬æœ‰å››ç§æ–¹å¼</strong></p><ol><li><p>å£°æ˜å˜é‡çš„ç±»å‹åŠåˆå§‹å€¼ï¼švar [å˜é‡å] : [ç±»å‹] = å€¼;</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> typeName:<span class="built_in">string</span> =<span class="string">&quot;typescript&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>å£°æ˜å˜é‡çš„ç±»å‹ï¼Œä½†æ²¡æœ‰åˆå§‹å€¼ï¼Œå˜é‡å€¼ä¼šè®¾ç½®ä¸º undefined</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> userNum : <span class="built_in">number</span>; </span><br></pre></td></tr></table></figure></li><li><p>å£°æ˜å˜é‡å¹¶åˆå§‹å€¼ï¼Œä½†ä¸è®¾ç½®ç±»å‹ç±»å‹ï¼Œè¯¥å˜é‡å¯ä»¥æ˜¯ä»»æ„ç±»å‹</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> userID = <span class="number">888</span>;</span><br></pre></td></tr></table></figure></li><li><p>å£°æ˜å˜é‡æ²¡æœ‰è®¾ç½®ç±»å‹å’Œåˆå§‹å€¼ï¼Œç±»å‹å¯ä»¥æ˜¯ä»»æ„ç±»å‹ï¼Œé»˜è®¤åˆå§‹å€¼ä¸º undefined</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> userSize;</span><br></pre></td></tr></table></figure></li></ol><p style="color:red">TypeScript éµå¾ªå¼ºç±»å‹ï¼Œå¦‚æœå°†ä¸åŒçš„ç±»å‹èµ‹å€¼ç»™å˜é‡ä¼šç¼–è¯‘é”™è¯¯</p><p><strong>3.TypeScriptå˜é‡ä½œç”¨åŸŸ</strong></p><ul><li><strong>å…¨å±€ä½œç”¨åŸŸ</strong> âˆ’ å…¨å±€å˜é‡å®šä¹‰åœ¨ç¨‹åºç»“æ„çš„å¤–éƒ¨ï¼Œå®ƒå¯ä»¥åœ¨ä½ ä»£ç çš„ä»»ä½•ä½ç½®ä½¿ç”¨ã€‚</li><li><strong>ç±»ä½œç”¨åŸŸ</strong> âˆ’ è¿™ä¸ªå˜é‡ä¹Ÿå¯ä»¥ç§°ä¸º <strong>å­—æ®µ</strong>ã€‚ç±»å˜é‡å£°æ˜åœ¨ä¸€ä¸ªç±»é‡Œå¤´ï¼Œä½†åœ¨ç±»çš„æ–¹æ³•å¤–é¢ã€‚ è¯¥å˜é‡å¯ä»¥é€šè¿‡ç±»çš„å¯¹è±¡æ¥è®¿é—®ã€‚ç±»å˜é‡ä¹Ÿå¯ä»¥æ˜¯é™æ€çš„ï¼Œé™æ€çš„å˜é‡å¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚</li><li><strong>å±€éƒ¨ä½œç”¨åŸŸ</strong> âˆ’ å±€éƒ¨å˜é‡ï¼Œå±€éƒ¨å˜é‡åªèƒ½åœ¨å£°æ˜å®ƒçš„ä¸€ä¸ªä»£ç å—ï¼ˆå¦‚ï¼šæ–¹æ³•ï¼‰ä¸­ä½¿ç”¨ã€‚</li></ul>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;TypeScript&quot;&gt;&lt;a href=&quot;#TypeScript&quot; class=&quot;headerlink&quot; title=&quot;TypeScript&quot;&gt;&lt;/a&gt;TypeScript&lt;/h1&gt;&lt;h2 id=&quot;1ã€ä»€ä¹ˆæ˜¯TypeScript&quot;&gt;&lt;a href=&quot;#1ã€ä»€ä¹ˆæ˜¯T</summary>
      
    
    
    
    <category term="TypeScript" scheme="http://gtliangming.github.io/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="http://gtliangming.github.io/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>TypeScript(ä¸€)</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxj000cfanm780jgo6q/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxj000cfanm780jgo6q/</id>
    <published>2020-09-08T08:30:00.000Z</published>
    <updated>2020-10-14T02:25:45.036Z</updated>
    
    <content type="html"><![CDATA[<h1 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h1><h2 id="1ã€TypeScriptçš„å‡½æ•°"><a href="#1ã€TypeScriptçš„å‡½æ•°" class="headerlink" title="1ã€TypeScriptçš„å‡½æ•°"></a>1ã€TypeScriptçš„å‡½æ•°</h2><ul><li><p><strong>TypeScriptçš„å¯é€‰å‚æ•°</strong></p><p>åœ¨ TypeScript å‡½æ•°é‡Œï¼Œå¦‚æœæˆ‘ä»¬å®šä¹‰äº†å‚æ•°ï¼Œåˆ™æˆ‘ä»¬å¿…é¡»ä¼ å…¥è¿™äº›å‚æ•°ï¼Œé™¤éå°†è¿™äº›å‚æ•°è®¾ç½®ä¸ºå¯é€‰ï¼Œå¯é€‰å‚æ•°ä½¿ç”¨é—®å·æ ‡è¯† ï¼Ÿã€‚</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName1</span>(<span class="params">bigTitle1:<span class="built_in">string</span>, smallTitle1:<span class="built_in">string</span></span>)</span>&#123;<span class="comment">//ä¸è®¾ç½®å¯é€‰å‚æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;å¤§æ ‡é¢˜ï¼š&quot;</span>+bigTitle1+<span class="string">&quot;  å°æ ‡é¢˜ï¼š&quot;</span>+smallTitle1</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">setName2</span>(<span class="params">bigTitle2:<span class="built_in">string</span>, smallTitle2?:<span class="built_in">string</span></span>)</span>&#123;<span class="comment">//è®¾ç½®å¯é€‰å‚æ•°</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;å¤§æ ‡é¢˜ï¼š&quot;</span>+bigTitle2+<span class="string">&quot;  å°æ ‡é¢˜ï¼š&quot;</span>+smallTitle2</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">console</span>.log(setName1(<span class="string">&quot;å“ˆå“ˆ1&quot;</span>,<span class="string">&quot;å˜¿å˜¿1&quot;</span>))</span><br><span class="line">  <span class="built_in">console</span>.log(setName1(<span class="string">&quot;å“ˆå“ˆ2&quot;</span>))<span class="comment">//typescriptç¼–è¯‘æ—¶å°±ä¼šæŠ¥é”™</span></span><br><span class="line">  <span class="built_in">console</span>.log(setName2(<span class="string">&quot;å“ˆå“ˆ1&quot;</span>,<span class="string">&quot;å˜¿å˜¿1&quot;</span>))</span><br><span class="line">  <span class="built_in">console</span>.log(setName2(<span class="string">&quot;å“ˆå“ˆ2&quot;</span>))<span class="comment">//ä¸ä¼šæŠ¥é”™ï¼Œå¯ä»¥æ­£å¸¸ç¼–è¯‘é€šè¿‡ï¼Œä½†æ˜¯ç¼ºå°‘çš„å‚æ•°ä¼šè¢«èµ‹å€¼ä¸ºundefined</span></span><br></pre></td></tr></table></figure></li><li><p><strong>TypeScripté»˜è®¤å‚æ•°</strong></p><p>å¯ä»¥è®¾ç½®å‚æ•°çš„é»˜è®¤å€¼ï¼Œè¿™æ ·åœ¨è°ƒç”¨å‡½æ•°çš„æ—¶å€™ï¼Œå¦‚æœä¸ä¼ å…¥è¯¥å‚æ•°çš„å€¼ï¼Œåˆ™ä½¿ç”¨é»˜è®¤å‚æ•°</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">function_name</span>(<span class="params">param1[:<span class="keyword">type</span>],param2[:<span class="keyword">type</span>] = default_value</span>) </span>&#123; </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ä¾‹å¦‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNum</span>(<span class="params">num1:<span class="built_in">number</span>,num2:<span class="built_in">number</span>=0.5</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(num1+num2)</span><br><span class="line">&#125;</span><br><span class="line">addNum(<span class="number">1</span>,<span class="number">2</span>);<span class="comment">//è¾“å‡º3</span></span><br><span class="line">addNum(<span class="number">2</span>);<span class="comment">//è¾“å‡º2.5</span></span><br></pre></td></tr></table></figure></li><li><p><strong>TypeScriptçš„å‰©ä½™å‚æ•°</strong></p><p>æœ‰ä¸€ç§æƒ…å†µï¼Œæˆ‘ä»¬ä¸çŸ¥é“è¦å‘å‡½æ•°ä¼ å…¥å¤šå°‘ä¸ªå‚æ•°ï¼Œè¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å‰©ä½™å‚æ•°æ¥å®šä¹‰ã€‚</p><p>å‰©ä½™å‚æ•°è¯­æ³•å…è®¸æˆ‘ä»¬å°†ä¸€ä¸ªä¸ç¡®å®šæ•°é‡çš„å‚æ•°ä½œä¸ºä¸€ä¸ªæ•°ç»„ä¼ å…¥</p><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">setName</span>(<span class="params">firstName: <span class="built_in">string</span>, ...restOfName: <span class="built_in">string</span>[]</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> firstName + <span class="string">&quot; &quot;</span> + restOfName.join(<span class="string">&quot; &quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">let</span> setName1 = setName(<span class="string">&quot;Joseph&quot;</span>, <span class="string">&quot;Samuel&quot;</span>, <span class="string">&quot;Lucas&quot;</span>, <span class="string">&quot;MacKinzie&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹å¦‚</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addNumbers</span>(<span class="params">...nums:<span class="built_in">number</span>[]</span>) </span>&#123;  </span><br><span class="line">    <span class="keyword">var</span> i;   </span><br><span class="line">    <span class="keyword">var</span> sum:<span class="built_in">number</span> = <span class="number">0</span>; </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>;i&lt;nums.length;i++) &#123; </span><br><span class="line">       sum = sum + nums[i]; </span><br><span class="line">    &#125; </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&quot;å’Œä¸ºï¼š&quot;</span>,sum) </span><br><span class="line"> &#125; </span><br><span class="line"> addNumbers(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>) </span><br><span class="line"> addNumbers(<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>,<span class="number">10</span>)</span><br></pre></td></tr></table></figure></li></ul><h2 id="2ã€TypeScriptçš„Numberå¯¹è±¡"><a href="#2ã€TypeScriptçš„Numberå¯¹è±¡" class="headerlink" title="2ã€TypeScriptçš„Numberå¯¹è±¡"></a>2ã€TypeScriptçš„Numberå¯¹è±¡</h2><ul><li><strong>Number å¯¹è±¡å±æ€§</strong></li></ul><table><thead><tr><th align="center">å±æ€§</th><th>å±æ€§æè¿°</th></tr></thead><tbody><tr><td align="center">MAX_VALUE</td><td>å¯è¡¨ç¤ºçš„æœ€å¤§çš„æ•°ï¼ŒMAX_VALUE å±æ€§å€¼æ¥è¿‘äº 1.79E+308ã€‚å¤§äº MAX_VALUE çš„å€¼ä»£è¡¨ â€œInfinityâ€</td></tr><tr><td align="center">MIN_VALUE</td><td>å¯è¡¨ç¤ºçš„æœ€å°çš„æ•°ï¼Œå³æœ€æ¥è¿‘ 0 çš„æ­£æ•° (å®é™…ä¸Šä¸ä¼šå˜æˆ 0)ã€‚æœ€å¤§çš„è´Ÿæ•°æ˜¯ -MIN_VALUEï¼ŒMIN_VALUE çš„å€¼çº¦ä¸º 5e-324ã€‚å°äº MIN_VALUE (â€œunderflow valuesâ€) çš„å€¼å°†ä¼šè½¬æ¢ä¸º 0</td></tr><tr><td align="center">NAN</td><td>éæ•°å­—å€¼ï¼ˆNot-A-Numberï¼‰</td></tr><tr><td align="center">NEGATIVE_INFINITY</td><td>è´Ÿæ— ç©·å¤§ï¼Œæº¢å‡ºæ—¶è¿”å›è¯¥å€¼ã€‚è¯¥å€¼å°äº MIN_VALUEã€‚</td></tr><tr><td align="center">POSITIVE_INFINITY</td><td>æ­£æ— ç©·å¤§ï¼Œæº¢å‡ºæ—¶è¿”å›è¯¥å€¼ã€‚è¯¥å€¼å¤§äº MAX_VALUEã€‚</td></tr><tr><td align="center">prototype</td><td>Number å¯¹è±¡çš„é™æ€å±æ€§ã€‚ä½¿æ‚¨æœ‰èƒ½åŠ›å‘å¯¹è±¡æ·»åŠ å±æ€§å’Œæ–¹æ³•ã€‚</td></tr><tr><td align="center">constructor</td><td>è¿”å›å¯¹åˆ›å»ºæ­¤å¯¹è±¡çš„ Number å‡½æ•°çš„å¼•ç”¨ã€‚</td></tr></tbody></table><ul><li><strong>Numberå¯¹è±¡æ–¹æ³•</strong></li></ul><table><thead><tr><th>æ–¹æ³•</th><th>æè¿°</th></tr></thead><tbody><tr><td>toExponential()</td><td>æŠŠå¯¹è±¡çš„å€¼è½¬æ¢ä¸ºæŒ‡æ•°è®¡æ•°æ³•ã€‚</td></tr><tr><td>toFixed()</td><td>æŠŠæ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œå¹¶å¯¹å°æ•°ç‚¹æŒ‡å®šä½æ•°</td></tr><tr><td>toLocaleString()</td><td>æŠŠæ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨æœ¬åœ°æ•°å­—æ ¼å¼é¡ºåºã€‚</td></tr><tr><td>toPrecision()</td><td>æŠŠæ•°å­—æ ¼å¼åŒ–ä¸ºæŒ‡å®šçš„é•¿åº¦ã€‚</td></tr><tr><td>toString()</td><td>æŠŠæ•°å­—è½¬æ¢ä¸ºå­—ç¬¦ä¸²ï¼Œä½¿ç”¨æŒ‡å®šçš„åŸºæ•°ã€‚æ•°å­—çš„åŸºæ•°æ˜¯ 2 ~ 36 ä¹‹é—´çš„æ•´æ•°ã€‚è‹¥çœç•¥è¯¥å‚æ•°ï¼Œåˆ™ä½¿ç”¨åŸºæ•° 10ã€‚</td></tr><tr><td>valueOf()</td><td>è¿”å›ä¸€ä¸ª Number å¯¹è±¡çš„åŸå§‹æ•°å­—å€¼ã€‚</td></tr></tbody></table><figure class="highlight typescript"><table><tr><td class="code"><pre><span class="line"><span class="comment">//toExponential()</span></span><br><span class="line"><span class="keyword">var</span> num1:<span class="built_in">number</span> = <span class="number">12.375</span>;</span><br><span class="line"><span class="keyword">var</span> cNum = num1.toExponential();</span><br><span class="line"><span class="built_in">console</span>.log(cNum);</span><br><span class="line"><span class="comment">//toFixed()</span></span><br><span class="line"><span class="keyword">var</span> num2:<span class="built_in">number</span> = <span class="number">18.656</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num2.toFixed());</span><br><span class="line"><span class="built_in">console</span>.log(num2.toFixed(<span class="number">1</span>));</span><br><span class="line"><span class="built_in">console</span>.log(num2.toFixed(<span class="number">2</span>));</span><br><span class="line"><span class="comment">//toLocaleString()</span></span><br><span class="line"><span class="keyword">var</span> num3:<span class="built_in">number</span> = <span class="number">19.33</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num3.toLocaleString());</span><br><span class="line"><span class="comment">//toPrecision()</span></span><br><span class="line"><span class="keyword">var</span> num4 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">7.123456</span>); </span><br><span class="line"><span class="built_in">console</span>.log(num4.toPrecision());  <span class="comment">// è¾“å‡ºï¼š7.123456 </span></span><br><span class="line"><span class="built_in">console</span>.log(num4.toPrecision(<span class="number">1</span>)); <span class="comment">// è¾“å‡ºï¼š7</span></span><br><span class="line"><span class="built_in">console</span>.log(num4.toPrecision(<span class="number">2</span>)); <span class="comment">// è¾“å‡ºï¼š7.1</span></span><br><span class="line"><span class="comment">//toString()</span></span><br><span class="line"><span class="keyword">var</span> num5 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">10</span>); </span><br><span class="line"><span class="built_in">console</span>.log(num5.toString());  <span class="comment">// è¾“å‡º10è¿›åˆ¶ï¼š10</span></span><br><span class="line"><span class="built_in">console</span>.log(num5.toString(<span class="number">2</span>)); <span class="comment">// è¾“å‡º2è¿›åˆ¶ï¼š1010</span></span><br><span class="line"><span class="built_in">console</span>.log(num5.toString(<span class="number">8</span>)); <span class="comment">// è¾“å‡º8è¿›åˆ¶ï¼š12</span></span><br><span class="line"><span class="comment">//valueOf()</span></span><br><span class="line"><span class="keyword">var</span> num6 = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">12</span>); </span><br><span class="line"><span class="built_in">console</span>.log(num6.valueOf()); <span class="comment">// è¾“å‡ºï¼š10</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;TypeScript&quot;&gt;&lt;a href=&quot;#TypeScript&quot; class=&quot;headerlink&quot; title=&quot;TypeScript&quot;&gt;&lt;/a&gt;TypeScript&lt;/h1&gt;&lt;h2 id=&quot;1ã€TypeScriptçš„å‡½æ•°&quot;&gt;&lt;a href=&quot;#1ã€Type</summary>
      
    
    
    
    <category term="TypeScript" scheme="http://gtliangming.github.io/categories/TypeScript/"/>
    
    
    <category term="TypeScript" scheme="http://gtliangming.github.io/tags/TypeScript/"/>
    
  </entry>
  
  <entry>
    <title>gitçŸ¥è¯†</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxp000mfanmhze1c39e/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxp000mfanmhze1c39e/</id>
    <published>2020-09-08T08:00:58.000Z</published>
    <updated>2020-10-14T02:25:45.293Z</updated>
    
    <content type="html"><![CDATA[<h3 id="gitçŸ¥è¯†"><a href="#gitçŸ¥è¯†" class="headerlink" title="gitçŸ¥è¯†"></a>gitçŸ¥è¯†</h3><h4 id="ä¸€ã€ç‰ˆæœ¬å›é€€"><a href="#ä¸€ã€ç‰ˆæœ¬å›é€€" class="headerlink" title="ä¸€ã€ç‰ˆæœ¬å›é€€"></a>ä¸€ã€ç‰ˆæœ¬å›é€€</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ä½¿ç”¨  git  log æŸ¥çœ‹commitè®°å½•   é™„å¸¦å‚æ•°ï¼šgit log --oneline --graph </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">HEADè¡¨ç¤ºå½“å‰ç‰ˆæœ¬   ä¸Šä¸€ä¸ªç‰ˆæœ¬å°±æ˜¯HEAD^  ä¸Šä¸Šä¸ªç‰ˆæœ¬HEAD^^   å¾€ä¸Š100ä¸ªç‰ˆæœ¬å†™HEAD~100</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git reset --hard  HEAD^ ç‰ˆæœ¬å›é€€è‡³ä¸Šä¸€ä¸ªcommit</span><br><span class="line"></span><br><span class="line">å†æ¬¡å›åˆ°ä¹‹å‰çš„ç‰ˆæœ¬</span><br><span class="line"> git reset --hard  +commitçš„idï¼ˆç‰ˆæœ¬å·ï¼‰</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å‘½ä»¤git reflogç”¨æ¥è®°å½•ä½ çš„æ¯ä¸€æ¬¡å‘½ä»¤  åŒ…æ‹¬add checkout  commitç­‰ ä»ä¸­å¯ä»¥æŸ¥çœ‹ç‰ˆæœ¬å·</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ç°åœ¨æ€»ç»“ä¸€ä¸‹ï¼š</span><br><span class="line">HEADæŒ‡å‘çš„ç‰ˆæœ¬å°±æ˜¯å½“å‰ç‰ˆæœ¬ï¼Œå› æ­¤ï¼ŒGitå…è®¸æˆ‘ä»¬åœ¨ç‰ˆæœ¬çš„å†å²ä¹‹é—´ç©¿æ¢­ï¼Œä½¿ç”¨å‘½ä»¤git reset --hard commit_idã€‚</span><br><span class="line">ç©¿æ¢­å‰ï¼Œç”¨git logå¯ä»¥æŸ¥çœ‹æäº¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›é€€åˆ°å“ªä¸ªç‰ˆæœ¬ã€‚</span><br><span class="line">è¦é‡è¿”æœªæ¥ï¼Œç”¨git reflogæŸ¥çœ‹å‘½ä»¤å†å²ï¼Œä»¥ä¾¿ç¡®å®šè¦å›åˆ°æœªæ¥çš„å“ªä¸ªç‰ˆæœ¬ã€‚</span><br></pre></td></tr></table></figure><h4 id="äºŒã€ç®¡ç†ä¿®æ”¹"><a href="#äºŒã€ç®¡ç†ä¿®æ”¹" class="headerlink" title="äºŒã€ç®¡ç†ä¿®æ”¹"></a>äºŒã€ç®¡ç†ä¿®æ”¹</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ç”¨   git diff HEAD -- æ–‡ä»¶å    å‘½ä»¤å¯ä»¥æŸ¥çœ‹å·¥ä½œåŒºå’Œç‰ˆæœ¬åº“é‡Œé¢æœ€æ–°ç‰ˆæœ¬çš„åŒºåˆ«</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å¦‚ä½•ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹ git checkout -- æ–‡ä»¶å</span><br><span class="line"></span><br><span class="line">ç”¨å‘½ä»¤  git reset HEAD &lt;file&gt;    å¯ä»¥æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰</span><br><span class="line"></span><br><span class="line">å°ç»“</span><br><span class="line">åœºæ™¯1ï¼šå½“ä½ æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œæƒ³ç›´æ¥ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹æ—¶ï¼Œç”¨å‘½ä»¤git checkout -- fileã€‚</span><br><span class="line">åœºæ™¯2ï¼šå½“ä½ ä¸ä½†æ”¹ä¹±äº†å·¥ä½œåŒºæŸä¸ªæ–‡ä»¶çš„å†…å®¹ï¼Œè¿˜æ·»åŠ åˆ°äº†æš‚å­˜åŒº(git add)æ—¶ï¼Œæƒ³ä¸¢å¼ƒä¿®æ”¹ï¼Œåˆ†ä¸¤æ­¥ï¼Œ</span><br><span class="line">    ç¬¬ä¸€æ­¥ç”¨å‘½ä»¤git reset HEAD &lt;file&gt;ï¼Œå°±å›åˆ°äº†åœºæ™¯1ï¼Œç¬¬äºŒæ­¥æŒ‰åœºæ™¯1æ“ä½œã€‚</span><br><span class="line">åœºæ™¯3ï¼šå·²ç»æäº¤äº†ä¸åˆé€‚çš„ä¿®æ”¹åˆ°ç‰ˆæœ¬åº“(git commit)æ—¶ï¼Œæƒ³è¦æ’¤é”€æœ¬æ¬¡æäº¤ï¼Œå‚è€ƒç‰ˆæœ¬å›é€€ä¸€èŠ‚ï¼Œ</span><br><span class="line">    ä¸è¿‡å‰ææ˜¯æ²¡æœ‰æ¨é€åˆ°è¿œç¨‹åº“</span><br></pre></td></tr></table></figure><h4 id="ä¸‰ã€åˆ é™¤æ“ä½œ"><a href="#ä¸‰ã€åˆ é™¤æ“ä½œ" class="headerlink" title="ä¸‰ã€åˆ é™¤æ“ä½œ"></a>ä¸‰ã€åˆ é™¤æ“ä½œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å…ˆæ‰‹åŠ¨åˆ é™¤æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨git rm &lt;file&gt;å’Œgit add&lt;file&gt;æ•ˆæœæ˜¯ä¸€æ ·çš„</span><br><span class="line">éƒ½æ˜¯å°†æœ¬åœ°çš„æ–‡ä»¶åˆ é™¤ï¼Œç„¶åä¹Ÿå°†ç‰ˆæœ¬åº“é‡Œé¢çš„æ–‡ä»¶åˆ é™¤</span><br><span class="line"></span><br><span class="line">å¦ä¸€ç§æƒ…å†µæ˜¯åˆ é”™äº†ï¼Œè¿˜æƒ³æ¢å¤å›æ¥ï¼Œå› ä¸ºç‰ˆæœ¬åº“é‡Œè¿˜æœ‰å‘¢ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆè½»æ¾åœ°æŠŠè¯¯åˆ çš„æ–‡ä»¶æ¢å¤åˆ°æœ€æ–°ç‰ˆæœ¬ï¼š</span><br><span class="line">git checkout -- test.txt</span><br><span class="line"></span><br><span class="line">git checkoutå…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥â€œä¸€é”®è¿˜åŸâ€ã€‚</span><br></pre></td></tr></table></figure><h4 id="å››-è¿œç¨‹ä»“åº“"><a href="#å››-è¿œç¨‹ä»“åº“" class="headerlink" title="å›› è¿œç¨‹ä»“åº“"></a>å›› è¿œç¨‹ä»“åº“</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">æœ¬åœ°ä»“åº“å…³è”è¿œç¨‹ä»“åº“</span><br><span class="line"> git remote add origin è¿œç¨‹ä»“åº“åœ°å€</span><br><span class="line"> æ·»åŠ åï¼Œè¿œç¨‹åº“çš„åå­—å°±æ˜¯originï¼Œè¿™æ˜¯Gité»˜è®¤çš„å«æ³•ï¼Œä¹Ÿå¯ä»¥æ”¹æˆåˆ«çš„ï¼Œä½†æ˜¯originè¿™ä¸ªåå­—ä¸€çœ‹å°±çŸ¥é“æ˜¯è¿œç¨‹åº“ã€‚</span><br><span class="line"> </span><br><span class="line"> æˆ‘ä»¬ç¬¬ä¸€æ¬¡æ¨é€masteråˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Šäº†-uå‚æ•°ï¼ŒGitä¸ä½†ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å†…å®¹æ¨é€çš„è¿œç¨‹æ–°çš„masteråˆ†æ”¯ï¼Œ</span><br><span class="line"> è¿˜ä¼šæŠŠæœ¬åœ°çš„masteråˆ†æ”¯å’Œè¿œç¨‹çš„masteråˆ†æ”¯å…³è”èµ·æ¥ï¼Œåœ¨ä»¥åçš„æ¨é€æˆ–è€…æ‹‰å–æ—¶å°±å¯ä»¥ç®€åŒ–å‘½ä»¤ã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="äº”ã€åˆ†æ”¯ç®¡ç†"><a href="#äº”ã€åˆ†æ”¯ç®¡ç†" class="headerlink" title="äº”ã€åˆ†æ”¯ç®¡ç†"></a>äº”ã€åˆ†æ”¯ç®¡ç†</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">git merge åˆ†æ”¯å    å‘½ä»¤ç”¨äºåˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯</span><br><span class="line">åˆå¹¶åˆ†æ”¯æ—¶ï¼ŒåŠ ä¸Š--no-ffå‚æ•°å°±å¯ä»¥ç”¨æ™®é€šæ¨¡å¼åˆå¹¶ï¼Œåˆå¹¶åçš„å†å²æœ‰åˆ†æ”¯ï¼Œ</span><br><span class="line">èƒ½çœ‹å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶ï¼Œè€Œfast forwardåˆå¹¶å°±çœ‹ä¸å‡ºæ¥æ›¾ç»åšè¿‡åˆå¹¶</span><br><span class="line"></span><br><span class="line">å°ç»“</span><br><span class="line">æŸ¥çœ‹åˆ†æ”¯ï¼šgit branch</span><br><span class="line">åˆ›å»ºåˆ†æ”¯ï¼šgit branch &lt;name&gt;</span><br><span class="line">åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout &lt;name&gt;æˆ–è€…git switch &lt;name&gt;</span><br><span class="line">åˆ›å»º+åˆ‡æ¢åˆ†æ”¯ï¼šgit checkout -b &lt;name&gt;æˆ–è€…git switch -c &lt;name&gt;</span><br><span class="line">åˆå¹¶æŸåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ï¼šgit merge &lt;name&gt;</span><br><span class="line">åˆ é™¤åˆ†æ”¯ï¼šgit branch -d &lt;name&gt;</span><br></pre></td></tr></table></figure><h4 id="å…­ã€å†²çªè§£å†³"><a href="#å…­ã€å†²çªè§£å†³" class="headerlink" title="å…­ã€å†²çªè§£å†³"></a>å…­ã€å†²çªè§£å†³</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å½“Gitæ— æ³•è‡ªåŠ¨åˆå¹¶åˆ†æ”¯æ—¶ï¼Œå°±å¿…é¡»é¦–å…ˆè§£å†³å†²çªã€‚è§£å†³å†²çªåï¼Œå†æäº¤ï¼Œåˆå¹¶å®Œæˆã€‚</span><br><span class="line">è§£å†³å†²çªå°±æ˜¯æŠŠGitåˆå¹¶å¤±è´¥çš„æ–‡ä»¶æ‰‹åŠ¨ç¼–è¾‘ä¸ºæˆ‘ä»¬å¸Œæœ›çš„å†…å®¹ï¼Œå†æäº¤ã€‚</span><br><span class="line">ç”¨git log --graphå‘½ä»¤å¯ä»¥çœ‹åˆ°åˆ†æ”¯åˆå¹¶å›¾ã€‚</span><br></pre></td></tr></table></figure><h4 id="ä¸ƒã€"><a href="#ä¸ƒã€" class="headerlink" title="ä¸ƒã€"></a>ä¸ƒã€</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">1ã€Gitè¿˜æä¾›äº†ä¸€ä¸ªstashåŠŸèƒ½ï¼Œå¯ä»¥æŠŠå½“å‰å·¥ä½œç°åœºâ€œå‚¨è—â€èµ·æ¥ï¼Œç­‰ä»¥åæ¢å¤ç°åœºåç»§ç»­å·¥ä½œï¼š</span><br><span class="line"></span><br><span class="line">2ã€ç”¨git stash listå‘½ä»¤çœ‹çœ‹</span><br><span class="line"></span><br><span class="line">3ã€ä¸€æ˜¯ç”¨git stash applyæ¢å¤ï¼Œä½†æ˜¯æ¢å¤åï¼Œstashå†…å®¹å¹¶ä¸åˆ é™¤ï¼Œä½ éœ€è¦ç”¨git stash dropæ¥åˆ é™¤ï¼›</span><br><span class="line"></span><br><span class="line">4ã€å¦ä¸€ç§æ–¹å¼æ˜¯ç”¨git stash popï¼Œæ¢å¤çš„åŒæ—¶æŠŠstashå†…å®¹ä¹Ÿåˆ äº†</span><br><span class="line"></span><br><span class="line">5ã€ä½ å¯ä»¥å¤šæ¬¡stashï¼Œæ¢å¤çš„æ—¶å€™ï¼Œå…ˆç”¨git stash listæŸ¥çœ‹ï¼Œç„¶åæ¢å¤æŒ‡å®šçš„stashï¼Œç”¨å‘½ä»¤</span><br><span class="line"> git stash apply stash@&#123;0&#125;</span><br><span class="line"> </span><br><span class="line"> Gitä¸“é—¨æä¾›äº†ä¸€ä¸ªgitcherry-pickå‘½ä»¤ï¼Œè®©æˆ‘ä»¬èƒ½å¤åˆ¶ä¸€ä¸ªç‰¹å®šçš„æäº¤åˆ°å½“å‰åˆ†æ”¯ï¼š</span><br><span class="line"></span><br><span class="line">å°ç»“</span><br><span class="line">1ã€ä¿®å¤bugæ—¶ï¼Œæˆ‘ä»¬ä¼šé€šè¿‡åˆ›å»ºæ–°çš„bugåˆ†æ”¯è¿›è¡Œä¿®å¤ï¼Œç„¶ååˆå¹¶ï¼Œæœ€ååˆ é™¤ï¼›</span><br><span class="line">2ã€å½“æ‰‹å¤´å·¥ä½œæ²¡æœ‰å®Œæˆæ—¶ï¼Œå…ˆæŠŠå·¥ä½œç°åœºgit stashä¸€ä¸‹ï¼Œç„¶åå»ä¿®å¤bugï¼Œä¿®å¤åï¼Œå†git stash popï¼Œå›åˆ°å·¥ä½œç°åœºï¼›</span><br><span class="line">3ã€åœ¨masteråˆ†æ”¯ä¸Šä¿®å¤çš„bugï¼Œæƒ³è¦åˆå¹¶åˆ°å½“å‰devåˆ†æ”¯ï¼Œå¯ä»¥ç”¨git cherry-pick &lt;commit&gt;å‘½ä»¤ï¼Œ</span><br><span class="line">    æŠŠbugæäº¤çš„ä¿®æ”¹â€œå¤åˆ¶â€åˆ°å½“å‰åˆ†æ”¯ï¼Œé¿å…é‡å¤åŠ³åŠ¨ã€‚</span><br></pre></td></tr></table></figure><h4 id="å…«ã€"><a href="#å…«ã€" class="headerlink" title="å…«ã€"></a>å…«ã€</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">å¼€å‘ä¸€ä¸ªæ–°featureï¼Œæœ€å¥½æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼›</span><br><span class="line">å¦‚æœè¦ä¸¢å¼ƒä¸€ä¸ªæ²¡æœ‰è¢«åˆå¹¶è¿‡çš„åˆ†æ”¯ï¼Œå¯ä»¥é€šè¿‡git branch -D åˆ†æ”¯å å¼ºè¡Œåˆ é™¤ã€‚</span><br></pre></td></tr></table></figure><h4 id="ä¹ã€å¤šäººåä½œ"><a href="#ä¹ã€å¤šäººåä½œ" class="headerlink" title="ä¹ã€å¤šäººåä½œ"></a>ä¹ã€å¤šäººåä½œ</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">è¦æŸ¥çœ‹è¿œç¨‹åº“çš„ä¿¡æ¯ï¼Œç”¨  git remote  æˆ–è€…ï¼Œç”¨git remote -væ˜¾ç¤ºæ›´è¯¦ç»†çš„ä¿¡æ¯ï¼š</span><br><span class="line">æ˜¾ç¤ºäº†å¯ä»¥æŠ“å–å’Œæ¨é€çš„originçš„åœ°å€ã€‚å¦‚æœæ²¡æœ‰æ¨é€æƒé™ï¼Œå°±çœ‹ä¸åˆ°pushçš„åœ°å€ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å°ç»“</span><br><span class="line">1ã€æŸ¥çœ‹è¿œç¨‹åº“ä¿¡æ¯ï¼Œä½¿ç”¨git remote -vï¼›</span><br><span class="line">2ã€æœ¬åœ°æ–°å»ºçš„åˆ†æ”¯å¦‚æœä¸æ¨é€åˆ°è¿œç¨‹ï¼Œå¯¹å…¶ä»–äººå°±æ˜¯ä¸å¯è§çš„ï¼›</span><br><span class="line">3ã€ä»æœ¬åœ°æ¨é€åˆ†æ”¯ï¼Œä½¿ç”¨git push origin branch-nameï¼Œå¦‚æœæ¨é€å¤±è´¥ï¼Œå…ˆç”¨git pullæŠ“å–è¿œç¨‹çš„æ–°æäº¤ï¼›</span><br><span class="line">4ã€åœ¨æœ¬åœ°åˆ›å»ºå’Œè¿œç¨‹åˆ†æ”¯å¯¹åº”çš„åˆ†æ”¯ï¼Œä½¿ç”¨git checkout -b branch-name origin&#x2F;branch-nameï¼Œ</span><br><span class="line">    æœ¬åœ°å’Œè¿œç¨‹åˆ†æ”¯çš„åç§°æœ€å¥½ä¸€è‡´ï¼›</span><br><span class="line">5ã€å»ºç«‹æœ¬åœ°åˆ†æ”¯å’Œè¿œç¨‹åˆ†æ”¯çš„å…³è”ï¼Œä½¿ç”¨git branch --set-upstream branch-name origin&#x2F;branch-nameï¼›</span><br><span class="line">6ã€ä»è¿œç¨‹æŠ“å–åˆ†æ”¯ï¼Œä½¿ç”¨git pullï¼Œå¦‚æœæœ‰å†²çªï¼Œè¦å…ˆå¤„ç†å†²çªã€‚</span><br></pre></td></tr></table></figure><h4 id="åã€Rebase"><a href="#åã€Rebase" class="headerlink" title="åã€Rebase"></a>åã€Rebase</h4><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">rebase åšäº†ä»€ä¹ˆæ“ä½œå‘¢ï¼Ÿ</span><br><span class="line">é¦–å…ˆï¼Œ git ä¼šæŠŠ feature1 åˆ†æ”¯é‡Œé¢çš„æ¯ä¸ª commit å–æ¶ˆæ‰ï¼›</span><br><span class="line">å…¶æ¬¡ï¼ŒæŠŠä¸Šé¢çš„æ“ä½œä¸´æ—¶ä¿å­˜æˆ patch æ–‡ä»¶ï¼Œå­˜åœ¨ .git&#x2F;rebase ç›®å½•ä¸‹ï¼›</span><br><span class="line">ç„¶åï¼ŒæŠŠ feature1 åˆ†æ”¯æ›´æ–°åˆ°æœ€æ–°çš„ master åˆ†æ”¯ï¼›</span><br><span class="line">æœ€åï¼ŒæŠŠä¸Šé¢ä¿å­˜çš„ patch æ–‡ä»¶åº”ç”¨åˆ° feature1 åˆ†æ”¯ä¸Šï¼›</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git rebase --continue</span><br><span class="line">è¿™æ · git ä¼šç»§ç»­åº”ç”¨ä½™ä¸‹çš„ patch è¡¥ä¸æ–‡ä»¶ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">git rebase â€”abort</span><br><span class="line">å¯ä»¥ç”¨ --abort å‚æ•°æ¥ç»ˆæ­¢ rebase çš„è¡ŒåŠ¨ï¼Œå¹¶ä¸”åˆ†æ”¯ä¼šå›åˆ° rebase å¼€å§‹å‰çš„çŠ¶æ€</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;gitçŸ¥è¯†&quot;&gt;&lt;a href=&quot;#gitçŸ¥è¯†&quot; class=&quot;headerlink&quot; title=&quot;gitçŸ¥è¯†&quot;&gt;&lt;/a&gt;gitçŸ¥è¯†&lt;/h3&gt;&lt;h4 id=&quot;ä¸€ã€ç‰ˆæœ¬å›é€€&quot;&gt;&lt;a href=&quot;#ä¸€ã€ç‰ˆæœ¬å›é€€&quot; class=&quot;headerlink&quot; title=&quot;ä¸€</summary>
      
    
    
    
    <category term="git" scheme="http://gtliangming.github.io/categories/git/"/>
    
    
    <category term="git" scheme="http://gtliangming.github.io/tags/git/"/>
    
  </entry>
  
  <entry>
    <title>Macä¸‹Mongodbçš„å®‰è£…</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxd0005fanmhxto9a2z/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxd0005fanmhxto9a2z/</id>
    <published>2020-09-08T08:00:00.000Z</published>
    <updated>2020-10-14T02:25:45.147Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Mongodbçš„å®‰è£…"><a href="#Mongodbçš„å®‰è£…" class="headerlink" title="Mongodbçš„å®‰è£…"></a>Mongodbçš„å®‰è£…</h2><blockquote><p><code>MongoDB</code> æ˜¯ä¸€ä¸ªè·¨å¹³å°çš„ï¼Œé¢å‘æ–‡æ¡£çš„æ•°æ®åº“ï¼Œæä¾›é«˜æ€§èƒ½ï¼Œé«˜å¯ç”¨æ€§å’Œå¯æ‰©å±•æ€§æ–¹ä¾¿ã€‚ <code>MongoDB</code> å·¥ä½œåœ¨æ”¶é›†å’Œæ–‡ä»¶çš„æ¦‚å¿µã€‚</p></blockquote><h3 id="ä¸€ã€ä¸‹è½½æ–¹å¼"><a href="#ä¸€ã€ä¸‹è½½æ–¹å¼" class="headerlink" title="ä¸€ã€ä¸‹è½½æ–¹å¼"></a>ä¸€ã€ä¸‹è½½æ–¹å¼</h3><p>ä¸‹è½½MongoDBæœ‰ä¸‰ç§æ–¹å¼ï¼š(å…·ä½“ç‰ˆæœ¬æŸ¥çœ‹å®˜ç½‘)</p><p>ï¼ˆ1ï¼‰æ‰‹åŠ¨å‘½ä»¤å®‰è£…</p><p>ç»ˆç«¯è¿è¡Œï¼š<code>curl http://downloads.mongodb.org/osx/mongodb-osx-x86_64-2.4.6.tgz &gt; mongodb.tgz</code></p><p>ï¼ˆ2ï¼‰é‡‡ç”¨Homebrew</p><p>æ›´æ–°homebrew ï¼š<code>brew update</code></p><p>å®‰è£…mongodb ï¼š<code>brew install mongodb</code></p><blockquote><p>æƒ³å®‰è£…æœ€æ–°å¼€å‘ç‰ˆå‘½ä»¤ ï¼š<code>brew install mongodb --devel</code></p></blockquote><p>ï¼ˆ3ï¼‰å®˜ç½‘ä¸‹è½½å®‰è£…åŒ…ã€‚</p><p>å®˜ç½‘åœ°å€ ï¼š<code>https://www.mongodb.com/try?jmp=nav#community</code></p><h3 id="äºŒã€å®‰è£…é…ç½®"><a href="#äºŒã€å®‰è£…é…ç½®" class="headerlink" title="äºŒã€å®‰è£…é…ç½®"></a>äºŒã€å®‰è£…é…ç½®</h3><h4 id="1ã€åˆ›å»ºMongoDBæ•°æ®å­˜æ”¾çš„é»˜è®¤æ–‡ä»¶å¤¹"><a href="#1ã€åˆ›å»ºMongoDBæ•°æ®å­˜æ”¾çš„é»˜è®¤æ–‡ä»¶å¤¹" class="headerlink" title="1ã€åˆ›å»ºMongoDBæ•°æ®å­˜æ”¾çš„é»˜è®¤æ–‡ä»¶å¤¹"></a>1ã€åˆ›å»ºMongoDBæ•°æ®å­˜æ”¾çš„é»˜è®¤æ–‡ä»¶å¤¹</h4><p>MongoDBæ•°æ®å­˜æ”¾çš„é»˜è®¤è·¯å¾„ä¸º/data/db(å³æ ¹ç›®å½•ä¸‹/data/db)ï¼Œä½†è¯¥ç›®å½•çš„æ–‡ä»¶å¤¹åœ¨ä½ ç”µè„‘ä¸ä¸€å®šå­˜åœ¨ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤åˆ›å»º(ä½ æœªå¿…æœ‰æƒé™åˆ›å»ºï¼Œæ‰€ä»¥åŠ ä¸Šsudo)</p><p><code>sudo mkdir -p /data/db</code></p><blockquote><p>æ•°æ®åº“éœ€è¦è¯»å†™æ•°æ®ï¼Œå¦‚æœä½ æ²¡rootæƒé™ï¼Œåœ¨æ ¹ç›®å½•ä¸‹åˆ›å»ºçš„æ–‡ä»¶å¤¹é»˜è®¤æ˜¯æ²¡æœ‰å†™å…¥æƒé™çš„ï¼Œç›´æ¥å¯åŠ¨MongoDBä¼šæŠ¥é”™</p></blockquote><p>ä¸ºæ­¤æ–‡ä»¶å¤¹æ·»åŠ è¯»å†™æƒé™ : <code>sudo chown -R ç”¨æˆ·å /data/db</code></p><h4 id="2ã€é…ç½®ç¯å¢ƒå˜é‡"><a href="#2ã€é…ç½®ç¯å¢ƒå˜é‡" class="headerlink" title="2ã€é…ç½®ç¯å¢ƒå˜é‡"></a>2ã€é…ç½®ç¯å¢ƒå˜é‡</h4><p>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ <code>open -e .bash_profile</code></p><p>åœ¨å…¶ä¸­æ·»åŠ  <code>export PATH=$&#123;PATH&#125;:/usr/local/MongoDB/bin</code></p><p>ç”¨Command+Sä¿å­˜é…ç½®ï¼Œå…³é—­ä¸Šé¢çš„.bash_profileç¼–è¾‘çª—å£ </p><p>æ‰“å¼€ç»ˆç«¯ è¾“å…¥<code>source .bash_profile</code> ä½¿åˆšæ‰çš„é…ç½®ç”Ÿæ•ˆ</p><p>ç„¶ååœ¨ç»ˆç«¯è¾“å…¥ <code>mongod -version</code> å¯ä»¥çœ‹åˆ°ç‰ˆæœ¬ä¿¡æ¯  è¯´æ˜å·²ç»å®‰è£…æˆåŠŸ</p><h4 id="3ã€ä½¿ç”¨mongodb"><a href="#3ã€ä½¿ç”¨mongodb" class="headerlink" title="3ã€ä½¿ç”¨mongodb"></a>3ã€ä½¿ç”¨mongodb</h4><p>è¿è¡Œmongodb :ç»ˆç«¯è¾“å…¥ <code>mongod</code> å¯åŠ¨mongob </p><p>æ˜¾ç¤ºç­‰å€™å®¢æˆ·ç«¯è¿æ¥çš„ç•Œé¢å°±ä»£è¡¨å¯åŠ¨æˆåŠŸäº†ï¼Œå¦‚æœä¸æˆåŠŸå°±æ£€æŸ¥ä¸‹ /data/db æ–‡ä»¶å¤¹ä½ç½®å¯¹ä¸å¯¹ï¼Œä¸è¡Œå°±é‡æ–°åˆ æ‰å»ºä¸€ä¸ªï¼Œ æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥localhost:27017 ï¼Œä¼šå‡ºç°è¿™æ ·ä¸€è¡Œæ–‡å­—ã€‚</p><blockquote><p>It looks like you are trying to access MongoDB over HTTP on the native driver port</p></blockquote><p>ç„¶åå†æ¬¡åœ¨ç»ˆç«¯è¾“å…¥ <code>mongo</code>   å¼€å§‹è¿›å…¥æ•°æ®åº“æ“ä½œ</p><h4 id="4ã€-é€€å‡ºmongodb"><a href="#4ã€-é€€å‡ºmongodb" class="headerlink" title="4ã€ é€€å‡ºmongodb"></a>4ã€ é€€å‡ºmongodb</h4><p>è¦åœæ­¢MongoDBçš„æ—¶å€™ä¸€å®šè¦æ­£ç¡®çš„é€€å‡ºï¼Œä¸ç„¶ä¸‹æ¬¡å†æ¬¡è¿æ¥æ•°æ®åº“ä¼šå‡ºç°é—®é¢˜ï¼Œä½¿ç”¨ä¸‹é¢çš„ä¸¤è¡Œä»£ç å¯ä»¥å®Œæˆè¿™ä¸€æ“ä½œã€‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">use admin;</span><br><span class="line"></span><br><span class="line">db.shutdownServer();</span><br></pre></td></tr></table></figure><h3 id="ä¸‰ã€å¯è§†åŒ–æ•°æ®åº“å·¥å…·"><a href="#ä¸‰ã€å¯è§†åŒ–æ•°æ®åº“å·¥å…·" class="headerlink" title="ä¸‰ã€å¯è§†åŒ–æ•°æ®åº“å·¥å…·"></a>ä¸‰ã€å¯è§†åŒ–æ•°æ®åº“å·¥å…·</h3><p>â€‹    Robo 3t</p><p>RoboMongoæ˜¯ä¸€ä¸ªè·¨å¹³å°çš„MongoDB GUIå®¢æˆ·ç«¯ç®¡ç†å·¥å…·ï¼Œæ”¯æŒWindowsã€MacOSã€Linuxã€‚å…¶ç‰¹ç‚¹æ˜¯æ”¯æŒåˆ°MongoDBæœåŠ¡å™¨çš„SSLè¿æ¥ï¼Œè¿˜æ”¯æŒä½¿ç”¨SSHéš§é“è¿æ¥ã€‚RoboMongoçš„æŸ¥è¯¢ç•Œé¢åŒæ—¶æ”¯æŒæ ‘è§†å›¾ã€è¡¨æ ¼è§†å›¾ã€æ–‡æœ¬è§†å›¾ä¸‰ç§ï¼Œä¹Ÿå¯ä»¥ä¿å­˜æŸ¥è¯¢ç»“æœä¾›ä»¥åä½¿ç”¨ã€‚</p><p>ä¸‹è½½åœ°å€ ï¼š<a href="https://robomongo.org/">https://robomongo.org/</a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Mongodbçš„å®‰è£…&quot;&gt;&lt;a href=&quot;#Mongodbçš„å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;Mongodbçš„å®‰è£…&quot;&gt;&lt;/a&gt;Mongodbçš„å®‰è£…&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;MongoDB&lt;/code&gt; æ˜¯ä¸€ä¸ªè·¨</summary>
      
    
    
    
    <category term="mongodb" scheme="http://gtliangming.github.io/categories/mongodb/"/>
    
    
    <category term="mongodb" scheme="http://gtliangming.github.io/tags/mongodb/"/>
    
  </entry>
  
  <entry>
    <title>å°†node.jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxt000sfanmasgreymx/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxt000sfanmasgreymx/</id>
    <published>2020-09-08T07:30:00.000Z</published>
    <updated>2020-10-14T02:25:45.365Z</updated>
    
    <content type="html"><![CDATA[<h2 id="å°†node-jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š"><a href="#å°†node-jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š" class="headerlink" title="å°†node.jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š"></a>å°†node.jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š</h2><h3 id="1ã€æ‰€ç”¨ç¯å¢ƒ"><a href="#1ã€æ‰€ç”¨ç¯å¢ƒ" class="headerlink" title="1ã€æ‰€ç”¨ç¯å¢ƒ"></a>1ã€æ‰€ç”¨ç¯å¢ƒ</h3><ul><li>node.js </li><li>ç±»ä¼¼äºZen Term Liteï¼ˆmacä¸Šçš„ï¼‰çš„ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ (ä¸ºä»€ä¹ˆè¦ç”¨è¿™ä¸ªï¼Œç¨åè®²)</li><li>å·²ç»è´­ä¹°å¥½çš„äº‘æœåŠ¡å™¨ï¼ˆæˆ‘æ˜¯é˜¿é‡Œäº‘çš„ï¼‰</li><li>å®å¡”ç¯å¢ƒ</li></ul><h3 id="2ã€å¼€å§‹éƒ¨ç½²"><a href="#2ã€å¼€å§‹éƒ¨ç½²" class="headerlink" title="2ã€å¼€å§‹éƒ¨ç½²"></a>2ã€å¼€å§‹éƒ¨ç½²</h3><h4 id="1-ç¬¬ä¸€æ­¥-é…ç½®è‡ªå·±çš„äº‘æœåŠ¡å™¨"><a href="#1-ç¬¬ä¸€æ­¥-é…ç½®è‡ªå·±çš„äº‘æœåŠ¡å™¨" class="headerlink" title="1. ç¬¬ä¸€æ­¥-é…ç½®è‡ªå·±çš„äº‘æœåŠ¡å™¨"></a>1. ç¬¬ä¸€æ­¥-é…ç½®è‡ªå·±çš„äº‘æœåŠ¡å™¨</h4><p>æ‰“å¼€æ§åˆ¶å°ï¼Œåˆ›å»ºå®ä¾‹ï¼ˆæ­¤å¤„åˆ’é‡ç‚¹ï¼ï¼ï¼ç‰¢è®°å¯†ç ï¼‰</p><p>å¹¶ä¸”éœ€è¦è®°ä¸€ä¸‹è‡ªå·±äº‘æœåŠ¡å™¨çš„å…¬ç½‘åœ°å€</p><h4 id="2ã€ç»™è‡ªå·±çš„äº‘æœåŠ¡å™¨å®‰è£…å®å¡”ç¯å¢ƒï¼ˆlinuxç³»ç»Ÿï¼‰"><a href="#2ã€ç»™è‡ªå·±çš„äº‘æœåŠ¡å™¨å®‰è£…å®å¡”ç¯å¢ƒï¼ˆlinuxç³»ç»Ÿï¼‰" class="headerlink" title="2ã€ç»™è‡ªå·±çš„äº‘æœåŠ¡å™¨å®‰è£…å®å¡”ç¯å¢ƒï¼ˆlinuxç³»ç»Ÿï¼‰"></a>2ã€ç»™è‡ªå·±çš„äº‘æœåŠ¡å™¨å®‰è£…å®å¡”ç¯å¢ƒï¼ˆlinuxç³»ç»Ÿï¼‰</h4><p>ä¸‹è½½ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯xShellï¼Œè¿˜æœ‰å¥½å‡ ç§ï¼Œåœ¨è¿™é‡Œä¸åšèµ˜è¿°</p><p><strong>- ä»€ä¹ˆæ˜¯ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶</strong></p><p>å¯é€šè¿‡äº’è”ç½‘åˆ°è¿œç¨‹ä¸»æœºçš„å®‰å…¨è¿æ¥ä»¥åŠå®ƒåˆ›æ–°æ€§çš„è®¾è®¡å’Œç‰¹è‰²æ¥å¸®åŠ©ç”¨æˆ·åœ¨æå…¶å¤æ‚çš„ç½‘ç»œç¯å¢ƒå½“ä¸­è¿›è¡Œå·¥ä½œä¸æ¨¡æ‹Ÿã€‚</p><p><a href="http://www.xshellcn.com/">Xshell</a>å¯ä»¥ç›´æ¥åœ¨Windowsç•Œé¢ä¸‹è®¿é—®è¿œç¨‹ç«¯ä¸åŒç³»ç»Ÿä¸‹çš„æœåŠ¡å™¨ï¼Œä»è€Œå¯è®©ç”¨æˆ·æ›´å¥½åœ°è¿›è¡Œç»ˆç«¯çš„è¿œç¨‹æ§åˆ¶.</p><p>Zen Term Liteå’ŒxShellåŠŸèƒ½ä¸€æ ·</p><p><strong>- ä¸ºä»€ä¹ˆè¦ç”¨ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶</strong></p><p>ï¼ï¼ï¼å®æµ‹ï¼Œåœ¨æ§åˆ¶å°çš„è¿œç¨‹è¿æ¥ï¼Œä¸‹è½½ä¸œè¥¿å·¨æ…¢å·¨æ…¢ï¼ˆä¹Ÿå¯èƒ½æ˜¯æˆ‘ç½‘ä¸å¥½ï¼‰ï¼Œå…¶å®ä¹Ÿæ˜¯ç•Œé¢çœ‹èµ·æ¥è®©æˆ‘éš¾å—ï¼šï¼‰</p><p><strong>- æ€ä¹ˆä½¿ç”¨</strong></p><ul><li>æ‰“å¼€ä½ çš„äº‘æœåŠ¡å™¨æ§åˆ¶å°ï¼Œæ‰¾åˆ°é˜²ç«å¢™ï¼Œåœ¨é˜²ç«å¢™å†…æ·»åŠ æ–°çš„è§„åˆ™</li></ul><ul><li><p>é€‰æ‹©ä¸€ä¸ªä½ å–œæ¬¢çš„ç«¯å£ï¼ˆè¿˜æ˜¯ç™¾åº¦ä¸€ä¸‹å¸¸ç”¨çš„ç«¯å£ï¼Œä¸è¦å äº†é»˜è®¤çš„ç«¯å£:ï¼ˆ ï¼‰</p></li><li><p>æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œé€‰æ‹©æ–°å»ºä¸€ä¸ªä¼šè¯,è¾“å…¥ä¿¡æ¯</p></li></ul><p>  ä¼šè¯åç§°ï¼šéšæ„ï¼Œä½ å¼€å¿ƒ</p><p>  ä¸»æœºåœ°å€ï¼šåˆšæ‰çš„å…¬ç½‘åœ°å€</p><p>  ç”¨æˆ·åï¼šä¸€èˆ¬éƒ½æ˜¯root</p><p>  ç«¯å£ï¼šåˆšæ‰é˜²ç«å¢™å¼€æ”¾çš„ç«¯å£</p><ul><li>ç‚¹å‡»è¿æ¥ï¼Œä¼šè®©ä½ è¾“å…¥å¯†ç ï¼Œæ¬¡å¯†ç å°±æ˜¯ä½ åˆ›å»ºå®ä¾‹çš„æ—¶å€™çš„å®ä¾‹å¯†ç ï¼ˆä¹Ÿå¯åœ¨å±æ€§-è®¤è¯é‡Œé¢é…ç½®å¯†ç ï¼Œä»¥åè¿æ¥å°±ä¸è®©ä½ è¾“å…¥äº†ï¼‰</li></ul><h4 id="å®‰è£…å®å¡”"><a href="#å®‰è£…å®å¡”" class="headerlink" title="å®‰è£…å®å¡”"></a>å®‰è£…å®å¡”</h4><p>1ã€åœ¨è¿æ¥å¥½çš„ç»ˆç«¯å†…è¾“å…¥</p><p><code>yum install -y wget &amp;&amp; wget -O install.sh http://download.bt.cn/install/install.sh &amp;&amp; sh install.sh</code></p><p>ç„¶åå›è½¦ä¸‹è½½ï¼Œç­‰ä¸€ä¼š~ï¼Œä¸­é€”ä¼šæœ‰ä¸€æ¬¡è®©ä½ ç¡®è®¤ä¸€æ¬¡ï¼Œæ— è„‘yå°±å®Œäº‹äº†</p><p>2ã€ä¸‹è½½å®Œæˆåï¼Œå°±å¯ä»¥çœ‹åˆ°username å’Œ passwordäº†</p><p>å…¶ä¸­ä¹ŸåŒ…æ‹¬å®å¡”çš„è®¿é—®åœ°å€ http://ä½ çš„åŸŸåæˆ–è€…ip:8888</p><p>æ­¤æ—¶å®å¡”å°±å®‰è£…å¥½äº†</p><h3 id="3ã€æ‰“å¼€å®å¡”ï¼Œå®‰è£…pm2"><a href="#3ã€æ‰“å¼€å®å¡”ï¼Œå®‰è£…pm2" class="headerlink" title="3ã€æ‰“å¼€å®å¡”ï¼Œå®‰è£…pm2"></a>3ã€æ‰“å¼€å®å¡”ï¼Œå®‰è£…pm2</h3><ul><li><p>åœ¨æ–‡ä»¶å†…æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„æ–‡ä»¶å¤¹ï¼ˆå»ºè®®æ”¾åœ¨wwwç›®å½•ä¸‹ï¼‰ä¸Šä¼ å¹¶è§£å‹</p></li><li><p>åœ¨è½¯ä»¶ç®¡ç†é‡Œé¢æ‰¾åˆ°pm2ç®¡ç†å™¨ï¼Œå®‰è£…</p></li><li><p>å®‰è£…å®Œæˆåç‚¹å‡»è®¾ç½®</p></li></ul><p>â€‹            ç„¶åç‚¹å‡»æ·»åŠ </p><ul><li>åœ¨åˆ›å»ºå¥½çš„é¡¹ç›®é‡Œå¯ä»¥çœ‹åˆ°ç«¯å£å·ï¼Œæ¬¡ç«¯å£å°±æ˜¯ä½ åœ¨è‡ªå·±çš„nodeé¡¹ç›®å†…è®¾ç½®çš„ç«¯å£å·</li><li>ç‚¹å‡»æ˜ å°„å¯ä»¥ç”¨åŸŸåæ¥æ˜ å°„é¡¹ç›®ï¼Œè®¿é—®æ—¶ç›´æ¥åŸŸå+ç«¯å£å·å°±å¯ä»¥è®¿é—®ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸æ˜ å°„ï¼Œä½¿ç”¨ipæ¥è®¿é—®ä¹Ÿæ˜¯ä¸€æ ·çš„</li><li>åœ¨å·¦ä¾§çš„é€‰é¡¹ä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©é€‚åˆä½ çš„nodeç‰ˆæœ¬ï¼Œ</li><li>ä¹Ÿå¯åœ¨æ¨¡å—ç®¡ç†ä¸­å®‰è£…ä½ æ‰€éœ€çš„æ¨¡å—ï¼Œæˆ‘è¿™é‡Œå®‰è£…äº†expresså’Œmongooseï¼ˆé¡¹ç›®é‡Œç”¨åˆ°äº†ï¼‰</li></ul><h3 id="4ã€å†æ¬¡æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶"><a href="#4ã€å†æ¬¡æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶" class="headerlink" title="4ã€å†æ¬¡æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶"></a>4ã€å†æ¬¡æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶</h3><p>ä½¿ç”¨<code>node -version</code> å’Œ<code>npm --version</code> æŸ¥çœ‹æ˜¯å¦å®‰è£…å¥½äº†nodeå’Œnpm</p><p><strong><em>å¦‚æœæ²¡æœ‰ç‰ˆæœ¬å·æ˜¾ç¤ºï¼Œä½ å°±å¾—ç»™æœåŠ¡å™¨å®‰è£…nodeï¼Œæœ‰çš„è¯è·³è¿‡æ­¤é¡¹</em></strong></p><p>æ–¹æ³•</p><p>åœ¨ç»ˆç«¯å†…è¾“å…¥lså‘½ä»¤ï¼Œåœ¨homeä¸‹æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„æ–‡ä»¶å¤¹ cdè¿›å…¥</p><ul><li><p>è¾“å…¥<code>wget  https://nodejs.org/dist/v10.15.1/node-v10.15.1-linux-x64.tar.xz</code> å¹¶å›è½¦ï¼Œå½“ç„¶ç‰ˆæœ¬ä¸æ“ä½œç³»ç»Ÿéƒ½æ˜¯å¯é€‰çš„ï¼Œå…·ä½“çš„ç‰ˆæœ¬è¯·nodeå®˜ç½‘æŸ¥çœ‹</p></li><li><p>ä¸‹è½½å®Œæˆåå°†tar.xz è§£å‹æˆ .tar</p><p><code>xz -d node-v10.15.1-linux-x64.tar.xz</code></p><p>æ­¤æ—¶çš„å®‰è£…åŒ…å·²ç»å˜ä¸º <code> node-v10.15.1-linux-x64.tar</code></p></li><li><p>è§£å‹taråŒ…</p><p><code>tar -xvf node-v10.15.1-linux-x64.tar </code></p><p>è§£å‹å®Œæˆååœ¨å½“å‰è·¯å¾„ä¸‹ä¼šå‡ºç° <code> node-v10.15.1-linux-x64</code> æ–‡ä»¶å¤¹ å°±æˆåŠŸäº†</p><p>è®°å¾—åˆ é™¤æ— ç”¨çš„åŒ…ï¼Œå‡å°‘æœåŠ¡å™¨å‹åŠ›</p></li><li><p>æŸ¥çœ‹binç›®å½•ä¸‹æ˜¯å¦æœ‰nodeä»¥åŠnpmæ–‡ä»¶å¤¹</p><p>cdè¿›å…¥åˆšæ‰çš„<code> node-v10.15.1-linux-x64</code> æ–‡ä»¶å¤¹ä¸‹ï¼Œæ‰¾åˆ°binæ–‡ä»¶å¹¶æŸ¥çœ‹æ˜¯å¦ç”¨nodeä¸npm</p></li><li><p>æœ‰çš„è¯æ‰§è¡Œè½¯è¿æ¥</p><p>è¾“å…¥å‘½ä»¤ </p><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ln -s /è·¯å¾„/bin/npm /usr/<span class="built_in">local</span>/bin/ </span><br><span class="line">ln -s /è·¯å¾„/bin/node /usr/<span class="built_in">local</span>/bin/</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">ln -s &#x2F;software&#x2F;node-v10.15.1-linux-x64&#x2F;bin&#x2F;npm &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line">ln -s &#x2F;software&#x2F;node-v10.15.1-linux-x64&#x2F;bin&#x2F;node &#x2F;usr&#x2F;local&#x2F;bin&#x2F;</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><ul><li>æ­¤æ—¶å†æ¬¡ä½¿ç”¨<code>node -version</code> å’Œ<code>npm --version</code> æŸ¥çœ‹æ˜¯å¦å®‰è£…å¥½äº†nodeå’Œnpmï¼Œæ˜¾ç¤ºç‰ˆæœ¬å·å°±ç®—æˆåŠŸ</li></ul><h3 id="5ã€ç»™è‡ªå·±çš„é¡¹ç›®å®‰è£…ä¾èµ–"><a href="#5ã€ç»™è‡ªå·±çš„é¡¹ç›®å®‰è£…ä¾èµ–" class="headerlink" title="5ã€ç»™è‡ªå·±çš„é¡¹ç›®å®‰è£…ä¾èµ–"></a>5ã€ç»™è‡ªå·±çš„é¡¹ç›®å®‰è£…ä¾èµ–</h3><p>æ‰“å¼€ç»ˆç«¯æ¨¡æ‹Ÿè½¯ä»¶ï¼Œä½¿ç”¨lsä¸cdè¿›å…¥åˆ°è‡ªå·±çš„é¡¹ç›®æ–‡ä»¶å¤¹ä¸‹</p><p>ä½¿ç”¨ <code> npm install</code> å°†package.jsonçš„ä¾èµ–å®‰è£…å®Œæˆ</p><p>æœ€åä½¿ç”¨ <code>pm2 start ./bin/www</code> ç”¨pm2å°†è‡ªå·±çš„é¡¹ç›®è·‘èµ·æ¥</p><h4 id="6ã€é…ç½®ç«¯å£"><a href="#6ã€é…ç½®ç«¯å£" class="headerlink" title="6ã€é…ç½®ç«¯å£"></a>6ã€é…ç½®ç«¯å£</h4><p>æ‰“å¼€å®å¡”ï¼Œåœ¨æœ€å·¦ä¾§æ‰¾åˆ°å®‰å…¨ç»„ å¼€æ”¾3000è‡³3500çš„ç«¯å£ï¼ˆç«¯å£èŒƒå›´3000:3500ï¼‰ï¼Œç‚¹å‡»æ”¾è¡Œ</p><p>å†æ‰“å¼€ä½ çš„æœåŠ¡å™¨æ§åˆ¶å°ï¼Œåœ¨é˜²ç«å¢™å†…æ·»åŠ æ–°çš„è§„åˆ™ï¼Œå¼€æ”¾3000è‡³3500çš„ç«¯å£ï¼ˆç«¯å£èŒƒå›´3000/3500ï¼‰  ç‚¹å‡»æ·»åŠ </p><h4 id="7ã€æœ€åä¸€æ­¥ï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®"><a href="#7ã€æœ€åä¸€æ­¥ï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®" class="headerlink" title="7ã€æœ€åä¸€æ­¥ï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®"></a>7ã€æœ€åä¸€æ­¥ï¼Œé‡æ–°å¯åŠ¨é¡¹ç›®</h4><p>å†æ¬¡åœ¨ç»ˆç«¯å†…ä½¿ç”¨ls+cdåˆ°ä½ çš„é¡¹ç›®ç›®å½•ä¸‹</p><p>ä½¿ç”¨ <code> pm2 restart ./bin/www</code>  æ­¤æ—¶ä½ çš„nodeé¡¹ç›®å°±å·²ç»éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Šäº†</p><p>å¯ä»¥ä½¿ç”¨ip+ç«¯å£å·+ä½ å®šä¹‰çš„è·¯ç”± å°±å¯ä»¥è®¿é—®ä½ å†™å¥½çš„æ¥å£äº†</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;å°†node-jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š&quot;&gt;&lt;a href=&quot;#å°†node-jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š&quot; class=&quot;headerlink&quot; title=&quot;å°†node.jsæ­å»ºçš„expressé¡¹ç›®å¦‚ä½•éƒ¨ç½²åˆ°æœåŠ¡å™¨ä¸Š&quot;&gt;&lt;/a</summary>
      
    
    
    
    <category term="node.js" scheme="http://gtliangming.github.io/categories/node-js/"/>
    
    
    <category term="node.js express æœåŠ¡å™¨éƒ¨ç½²" scheme="http://gtliangming.github.io/tags/node-js-express-%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/"/>
    
  </entry>
  
  <entry>
    <title>WebPackçš„é…ç½®(äºŒ)</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxn000ifanm29ao6b78/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxn000ifanm29ao6b78/</id>
    <published>2020-09-08T07:05:00.000Z</published>
    <updated>2020-12-09T05:59:34.124Z</updated>
    
    <content type="html"><![CDATA[<h2 id="webpack-config-js-äºŒ"><a href="#webpack-config-js-äºŒ" class="headerlink" title="webpack.config.js(äºŒ)"></a>webpack.config.js(äºŒ)</h2><p>ä¹‹å‰è¯´åˆ°äº†æ‰“åŒ…æ¨¡å¼(mode)ã€å‡ºå…¥å£æ–‡ä»¶(entry &amp; output)ã€æ¨¡å—(model)çš„é…ç½®ä»¥åŠæ³¨æ„äº‹é¡¹ </p><p><a href="https://www.tapd.cn/20278041/markdown_wikis/#1120278041001077808@toc0">ä¼ é€é—¨ï¼šwebpck.config.js(ä¸€)</a></p><p>è¿™æ¬¡æ¥è¯´æ¥ä¸‹æ¥çš„æ’ä»¶(plugins)</p><h3 id="plugins-æ’ä»¶"><a href="#plugins-æ’ä»¶" class="headerlink" title="plugins æ’ä»¶"></a>plugins æ’ä»¶</h3><p><strong>æ’ä»¶</strong>æ˜¯ webpack çš„ <a href="https://github.com/webpack/tapable">æ”¯æŸ±</a> åŠŸèƒ½ã€‚webpack è‡ªèº«ä¹Ÿæ˜¯æ„å»ºäºä½ åœ¨ webpack é…ç½®ä¸­ç”¨åˆ°çš„<strong>ç›¸åŒçš„æ’ä»¶ç³»ç»Ÿ</strong>ä¹‹ä¸Šï¼</p><p>æ’ä»¶ç›®çš„åœ¨äºè§£å†³ <a href="https://webpack.docschina.org/concepts/loaders">loader</a> æ— æ³•å®ç°çš„<strong>å…¶ä»–äº‹</strong>ã€‚</p><p>ç”¨æ³•</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> HtmlWebpackPlugin = <span class="built_in">require</span>(<span class="string">&#x27;html-webpack-plugin&#x27;</span>); <span class="comment">// é€šè¿‡ npm å®‰è£…</span></span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&#x27;./path/to/my/entry/file.js&#x27;</span>,</span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;my-first-webpack.bundle.js&#x27;</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>)</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="built_in">module</span>: &#123;</span><br><span class="line">    rules: [</span><br><span class="line">      &#123;</span><br><span class="line">        test: <span class="regexp">/\.(js|jsx)$/</span>,</span><br><span class="line">        use: <span class="string">&#x27;babel-loader&#x27;</span></span><br><span class="line">      &#125;</span><br><span class="line">    ]</span><br><span class="line">  &#125;,</span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.ProgressPlugin(),</span><br><span class="line">    <span class="keyword">new</span> HtmlWebpackPlugin(&#123;<span class="attr">template</span>: <span class="string">&#x27;./src/index.html&#x27;</span>&#125;)</span><br><span class="line">  ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¸¸ç”¨çš„æ’ä»¶</p><h4 id="ä¸€ã€HTMLWebpackPluginåŸºæœ¬ä½œç”¨å°±æ˜¯ç”Ÿæˆhtmlæ–‡ä»¶ã€‚"><a href="#ä¸€ã€HTMLWebpackPluginåŸºæœ¬ä½œç”¨å°±æ˜¯ç”Ÿæˆhtmlæ–‡ä»¶ã€‚" class="headerlink" title="ä¸€ã€HTMLWebpackPluginåŸºæœ¬ä½œç”¨å°±æ˜¯ç”Ÿæˆhtmlæ–‡ä»¶ã€‚"></a>ä¸€ã€HTMLWebpackPluginåŸºæœ¬ä½œç”¨å°±æ˜¯ç”Ÿæˆhtmlæ–‡ä»¶ã€‚</h4><p><code>HTMLWebpackPlugin</code>çš„ä¸€ä¸ªå®ä¾‹ç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå¦‚æœå•é¡µåº”ç”¨ä¸­éœ€è¦å¤šä¸ªé¡µé¢å…¥å£ï¼Œæˆ–è€…å¤šé¡µåº”ç”¨æ—¶é…ç½®å¤šä¸ªhtmlæ—¶ï¼Œé‚£ä¹ˆå°±éœ€è¦å®ä¾‹åŒ–è¯¥æ’ä»¶å¤šæ¬¡ï¼›</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> HTMLWebpackPlugin(&#123;</span><br><span class="line">template: <span class="string">&quot;./src/assets/ejs/template.ejs&quot;</span>,</span><br><span class="line">inject: <span class="string">&quot;body&quot;</span>,</span><br><span class="line">inlineSource: <span class="string">&quot;runtime~main.*js$&quot;</span></span><br><span class="line">&#125;),</span><br></pre></td></tr></table></figure><p>åŸç†ï¼šå°† webpackä¸­<code>entry</code>é…ç½®çš„ç›¸å…³å…¥å£chunk  å’Œ  <code>extract-text-webpack-plugin</code>æŠ½å–çš„cssæ ·å¼   æ’å…¥åˆ°è¯¥æ’ä»¶æä¾›çš„<code>template</code>æˆ–è€…<code>templateContent</code>é…ç½®é¡¹æŒ‡å®šçš„å†…å®¹åŸºç¡€ä¸Šç”Ÿæˆä¸€ä¸ªhtmlæ–‡ä»¶ï¼Œå…·ä½“æ’å…¥æ–¹å¼æ˜¯å°†æ ·å¼<code>link</code>æ’å…¥åˆ°<code>head</code>å…ƒç´ ä¸­ï¼Œ<code>script</code>æ’å…¥åˆ°<code>head</code>æˆ–è€…<code>body</code>ä¸­ã€‚</p><h4 id="äºŒã€HotModuleReplacementPlugin"><a href="#äºŒã€HotModuleReplacementPlugin" class="headerlink" title="äºŒã€HotModuleReplacementPlugin"></a>äºŒã€HotModuleReplacementPlugin</h4><p>çƒ­æ¨¡å—æ›¿æ¢ï¼ˆHMRï¼‰æ˜¯webpackæä¾›çš„æœ€æœ‰ç”¨çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œçƒ­æ¨¡å—æ›¿æ¢å¯ä»¥è®©æ¨¡å—åœ¨æ²¡æœ‰é¡µé¢åˆ·æ–°çš„æƒ…å†µä¸‹å®æ—¶æ›´æ–°ä»£ç æ”¹åŠ¨ç»“æœï¼›</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> webpack = <span class="built_in">require</span>(<span class="string">&#x27;webpack&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">&#x27;./index.js&#x27;</span>,</span><br><span class="line"></span><br><span class="line">  plugins: [</span><br><span class="line">    <span class="keyword">new</span> webpack.HotModuleReplacementPlugin()</span><br><span class="line">  ],</span><br><span class="line"></span><br><span class="line">  output: &#123;</span><br><span class="line">    filename: <span class="string">&#x27;main.js&#x27;</span>,</span><br><span class="line">    path: path.resolve(__dirname, <span class="string">&#x27;dist&#x27;</span>),</span><br><span class="line">    publicPath: <span class="string">&#x27;/&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><blockquote><p>ä¸Šè¿°ä»£ç é…ç½®ä¸­éœ€è¦æ³¨æ„åœ°æ–¹ï¼š<br> å¦‚æœå·²ç»é€šè¿‡ <a href="https://www.webpackjs.com/plugins/hot-module-replacement-plugin"><code>HotModuleReplacementPlugin</code></a> å¯ç”¨äº†<a href="https://www.webpackjs.com/concepts/hot-module-replacement">æ¨¡å—çƒ­æ›¿æ¢(Hot Module Replacement)</a>ï¼Œåˆ™å®ƒçš„æ¥å£å°†è¢«æš´éœ²åœ¨ <a href="https://www.webpackjs.com/api/module-variables#module-hot-webpack-specific-"><code>module.hot</code> å±æ€§</a>ä¸‹é¢ã€‚é€šå¸¸ï¼Œç”¨æˆ·å…ˆè¦æ£€æŸ¥è¿™ä¸ªæ¥å£æ˜¯å¦å¯è®¿é—®ï¼Œç„¶åå†å¼€å§‹ä½¿ç”¨å®ƒ</p></blockquote><p><strong><em>åœ¨ä½ çš„ä»£ç ä¸­æ’å…¥çƒ­æ›¿æ¢ä»£ç </em></strong></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// åœ¨å…¥å£æ–‡ä»¶ç»“å°¾å¤„æ’å…¥</span></span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">module</span>.hot) &#123;</span><br><span class="line">    <span class="built_in">module</span>.hot.accept();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åªæœ‰è¢« â€œacceptâ€çš„ä»£ç æ¨¡å—æ‰ä¼šè¢«çƒ­æ›´æ–°ï¼Œæ‰€ä»¥ä½ éœ€è¦åœ¨çˆ¶èŠ‚ç‚¹æˆ–è€…çˆ¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹â€¦ module.hot.accept è°ƒç”¨æ¨¡å—ã€‚å¦‚ä»¥ä¸Šä»£ç æ‰€ç¤ºï¼Œåœ¨å…¥å£æ–‡ä»¶åŠ å…¥ module.hot.acceptä¹‹ååœ¨å…¥å£æ–‡ä»¶å¼•ç”¨çš„ä»»ä½•å­æ¨¡å—æ›´æ–°éƒ½ä¼šè§¦å‘çƒ­æ›´æ–°ã€‚æ¨¡å—æ›´æ–°å®Œæˆï¼Œæµè§ˆå™¨ä¼šè¾“å‡ºç±»å‹ä»¥ä¸‹ä¿¡æ¯</p></blockquote><p>![image-20200924182054973](/Users/lt/Library/Application Support/typora-user-images/image-20200924182054973.png)</p><p><strong><em>ä¹Ÿå¯ä»¥åƒå®˜æ–¹æä¾›çš„å®ä¾‹ä¸€æ ·acceptç‰¹å®šçš„æ¨¡å—ï¼Œ</em></strong></p><p><strong><em>å¦‚ä¸‹ä¸¾ä¸ªæ —å­ğŸŒ°</em></strong>  â€”&gt;ä¾‹å¦‚åœ¨Mç«™çš„Frame.tsxå†…ã€‚å½“â€™./appâ€™æœ‰ä»»ä½•æ›´æ–°æ˜¯éƒ½ä¼šè§¦å‘çƒ­æ¨¡å—æ›´æ–°</p><p>![image-20200924181939409](/Users/lt/Library/Application Support/typora-user-images/image-20200924181939409.png)</p><p><a href="https://github.com/webpack/docs/wiki/hot-module-replacement-with-webpack">æ›´å¤šHot Module Replacementèµ„æ–™å‚è€ƒ</a></p><h4 id="ä¸‰ã€DefinePlugin"><a href="#ä¸‰ã€DefinePlugin" class="headerlink" title="ä¸‰ã€DefinePlugin"></a>ä¸‰ã€DefinePlugin</h4><p><code>DefinePlugin</code>æ˜¯ä¸€ä¸ªè®¾ç½®å…¨å±€å˜é‡çš„æ’ä»¶</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// å†ä¸¾ä¸ªæ —å­ğŸŒ° Mç«™webpack.config.js 146~151</span></span><br><span class="line"><span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line"><span class="string">&quot;process.env.NODE_ENV&quot;</span>: <span class="built_in">JSON</span>.stringify(process.env.NODE_ENV),</span><br><span class="line">__DEV__: isDev,</span><br><span class="line">IS_SSR: <span class="built_in">JSON</span>.stringify(<span class="literal">false</span>),</span><br><span class="line">IS_FRAME_ONLY: <span class="built_in">JSON</span>.stringify(<span class="literal">false</span>)</span><br><span class="line">&#125;),</span><br><span class="line"><span class="comment">// M-SSR next.config.js 23-26</span></span><br><span class="line"> <span class="keyword">new</span> webpack.DefinePlugin(&#123;</span><br><span class="line">__SERVER__: isServer,</span><br><span class="line">IS_FRAME_ONLY: <span class="literal">false</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>é€šè¿‡DefinePluginå®šä¹‰çš„å˜é‡å¯åœ¨å…¨å±€ä»£ç ä¸­ä½¿ç”¨ï¼Œä¾‹å¦‚Webpacké…ç½®æ–‡ä»¶å®šä¹‰äº†<em>SERVER</em>= isServerï¼Œå¦‚æœä»£ç ä¸­å­˜åœ¨å¦‚ä¸‹è°ƒç”¨ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span>(_SERVER_ !== isServer))&#123;<span class="built_in">console</span>.log(<span class="number">1111</span>)&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å°±ç­‰åŒäº</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>ï¼ˆ<span class="literal">false</span>ï¼‰&#123;<span class="built_in">console</span>.log(<span class="number">11111</span>)&#125;</span><br></pre></td></tr></table></figure><p><strong>æ’ä»¶åŸç†ï¼šDefinePluginåšçš„å·¥ä½œæ˜¯åœ¨æºä»£ç åŸºç¡€ä¸Šæ‰§è¡Œçš„å…¨å±€æŸ¥æ‰¾æ›¿æ¢å·¥ä½œï¼Œå°†DefinePluginæ’ä»¶ä¸­å®šä¹‰çš„å˜é‡æ›¿æ¢ä¸ºæ’ä»¶ä¸­å®šä¹‰çš„å˜é‡å€¼ã€‚</strong></p><p><a href="https://link.jianshu.com/?t=https://webpack.js.org/plugins/define-plugin">æ›´å¤š DefinePluginèµ„æ–™å‚è€ƒ</a></p><h4 id="å››ã€ProvidePlugin"><a href="#å››ã€ProvidePlugin" class="headerlink" title="å››ã€ProvidePlugin"></a>å››ã€ProvidePlugin</h4><p>è‡ªåŠ¨åŠ è½½æ¨¡å—ï¼Œè€Œä¸å¿…åˆ°å¤„ <code>import</code> æˆ– <code>require</code>  </p><p>ä¾‹å¦‚æˆ‘ä»¬è¦ä½¿ç”¨jquery</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">new</span> webpack.ProvidePlugin(&#123;</span><br><span class="line">  $: <span class="string">&#x27;jquery&#x27;</span>,</span><br><span class="line">  jQuery: <span class="string">&#x27;jquery&#x27;</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">ç„¶ååœ¨ä»£ç ä»»æ„åœ°æ–¹</span><br><span class="line">$(<span class="string">&quot;#test&quot;</span>)</span><br><span class="line">jQuery(<span class="string">&quot;#test&quot;</span>)  è¿™ä¸¤ç§éƒ½å¯ä»¥å®ç°jqueryçš„ç”¨æ³•</span><br></pre></td></tr></table></figure><h4 id="äº”ã€CleanWebpackPlugin"><a href="#äº”ã€CleanWebpackPlugin" class="headerlink" title="äº”ã€CleanWebpackPlugin"></a>äº”ã€CleanWebpackPlugin</h4><p>ä½œç”¨ï¼š å½“æˆ‘ä»¬æ‰“åŒ…å¥½ä¸€ä¸ªæ–‡ä»¶ç”Ÿæˆäº†å¯¹åº”çš„bundleæ–‡ä»¶ ï¼Œä½†å½“æ–‡ä»¶æ”¹å˜æ—¶åˆä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„bundleæ–‡ä»¶ï¼Œä¹‹å‰çš„å°±æ²¡æœ‰ç”¨äº†ï¼Œä½†æ˜¯æ²¡æœ‰åˆ é™¤ï¼Œå¢åŠ äº†ä»£ç çš„è´Ÿé‡ã€‚æ‰€ä»¥å°±è¦ä½¿ç”¨CleanWebpackPluginæ’ä»¶æ¥åˆ é™¤é‚£äº›æ—§çš„æ— ç”¨çš„bundleæ–‡ä»¶ï¼Œåªä¿ç•™æœ€æ–°çš„</p><p>å®‰è£… <code> npm i clean-webpack-plugin --save-dev</code></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">plugins:[</span><br><span class="line">        <span class="keyword">new</span> CleanWebpackPlugin(), <span class="comment">// webpack4.0é»˜è®¤æ–‡ä»¶å¤¹ä¸ºdist</span></span><br><span class="line">]</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;webpack-config-js-äºŒ&quot;&gt;&lt;a href=&quot;#webpack-config-js-äºŒ&quot; class=&quot;headerlink&quot; title=&quot;webpack.config.js(äºŒ)&quot;&gt;&lt;/a&gt;webpack.config.js(äºŒ)&lt;/h2&gt;&lt;p&gt;</summary>
      
    
    
    
    <category term="WebPack" scheme="http://gtliangming.github.io/categories/WebPack/"/>
    
    
    <category term="WebPack" scheme="http://gtliangming.github.io/tags/WebPack/"/>
    
  </entry>
  
  <entry>
    <title>WebPackçš„é…ç½®(ä¸€)</title>
    <link href="http://gtliangming.github.io/2020/09/08/ckih06jxl000gfanm0h8i2btp/"/>
    <id>http://gtliangming.github.io/2020/09/08/ckih06jxl000gfanm0h8i2btp/</id>
    <published>2020-09-08T07:00:00.000Z</published>
    <updated>2020-12-09T05:57:42.169Z</updated>
    
    <content type="html"><![CDATA[<h3 id="ä¸€ã€webpack-config-js"><a href="#ä¸€ã€webpack-config-js" class="headerlink" title="ä¸€ã€webpack.config.js"></a>ä¸€ã€webpack.config.js</h3><h4 id="1ã€æ‰“åŒ…æ¨¡å¼-mode"><a href="#1ã€æ‰“åŒ…æ¨¡å¼-mode" class="headerlink" title="1ã€æ‰“åŒ…æ¨¡å¼ mode"></a>1ã€æ‰“åŒ…æ¨¡å¼ mode</h4><p>åœ¨æ‰“åŒ…æ—¶é…ç½®modeæ˜¯ä¸ºäº†å‘ŠçŸ¥ webpack ä½¿ç”¨ç›¸åº”æ¨¡å¼çš„å†…ç½®ä¼˜åŒ–</p><p>modeçš„æ¨¡å¼åˆ†åˆ«æœ‰ä¸‰ç§ï¼šwe</p><ul><li>Production   ç”Ÿäº§ç¯å¢ƒæ‰“åŒ… é»˜è®¤å€¼</li><li>Development  å¼€å‘ç¯å¢ƒæ‰“åŒ…</li><li>None  ä¸ä½¿ç”¨ä»»ä½•é»˜è®¤ä¼˜åŒ–é€‰é¡¹</li></ul><p>Productionä¸Developmentçš„åŒºåˆ«ï¼š</p><ul><li>ç”Ÿäº§æ¨¡å¼ä¼šæŠŠæ‰“åŒ…å¥½åçš„ä»£ç è¿›è¡Œå‹ç¼©ï¼Œå¯é˜…è¯»æ€§ä¸å¥½ï¼Œä½†æ˜¯ä»£ç ä½“ç§¯å°</li><li>å¼€å‘æ¨¡å¼ä¸ä¼šå‹ç¼©ä»£ç ï¼Œå¯é˜…è¯»æ€§å¥½ï¼Œä½†æ˜¯ä»£ç ä½“ç§¯å¤§</li><li>å¼€å‘æ¨¡å¼ä¸€äº›æ²¡æœ‰ä¾èµ–çš„æ–¹æ³• å˜é‡ æ–‡ä»¶ä¼šä¿ç•™ï¼Œç”Ÿäº§æ¨¡å¼ä¼šç§»é™¤</li></ul><h4 id="2ã€å…¥å£-entry"><a href="#2ã€å…¥å£-entry" class="headerlink" title="2ã€å…¥å£  entry"></a>2ã€å…¥å£  entry</h4><p>å…¥å£èµ·ç‚¹å‘Šè¯‰ webpack ä»å“ªé‡Œå¼€å§‹ï¼Œå¹¶æ ¹æ®ä¾èµ–å…³ç³»å›¾ç¡®å®šéœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å†…å®¹</p><p><code>entry</code>æ¥å—ä¸‰ç§å½¢å¼çš„å€¼ï¼šå­—ç¬¦ä¸²ï¼Œæ•°ç»„å’Œå¯¹è±¡</p><ul><li><p>å¯¹è±¡</p><p>åŸºæœ¬å½¢å¼ä¸ºï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">entyr:&#123;</span><br><span class="line">&lt;key&gt;:<span class="xml"><span class="tag">&lt;<span class="name">value</span>&gt;</span></span></span><br><span class="line"><span class="xml">&#125;</span></span><br><span class="line"><span class="xml">// æ¯ä¸€ä¸ªå±æ€§å¯¹éƒ½å¯¹åº”ä¸€ä¸ªå…¥å£æ–‡ä»¶ï¼Œé€‚åˆå¤šé¡µé¢æ‰“åŒ…é…ç½®</span></span><br></pre></td></tr></table></figure></li></ul><p>   <strong>keyçš„å€¼å¯ä»¥ä¸ºæ¯”è¾ƒç®€å•çš„å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶keyå¯¹åº”å‡ºå£æ–‡ä»¶output.filenameé…ç½®ä¸­çš„[name]å˜é‡</strong></p>  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¾‹å¦‚ </span></span><br><span class="line">entry: &#123;</span><br><span class="line">    <span class="string">&#x27;app-entry&#x27;</span>: <span class="string">&#x27;./app.js&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">    path: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    filename: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ™å¯¹./app.jsæ‰“åŒ…å®Œæˆåç”Ÿæˆçš„æ–‡ä»¶æ˜¯åœ¨distæ–‡ä»¶å¤¹ä¸‹çš„app-entry.jsæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>  <strong>keyçš„å€¼ä¹Ÿå¯ä»¥ä¸ºè·¯å¾„å­—ç¬¦ä¸²ï¼Œæ­¤æ—¶webpackä¼šè‡ªåŠ¨ç”Ÿæˆè·¯å¾„ç›®å½•ï¼Œå¹¶å°†è·¯å¾„çš„æœ€åä½œä¸º[name]</strong></p>  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¾‹å¦‚</span></span><br><span class="line">entry: &#123;</span><br><span class="line">    <span class="string">&#x27;/example/entry&#x27;</span>: <span class="string">&#x27;./deep-app.js&#x27;</span>,</span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">    path: <span class="string">&#x27;./dist&#x27;</span>,</span><br><span class="line">    filename: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ™å¯¹./app.jsæ‰“åŒ…å®Œæˆåç”Ÿæˆçš„æ–‡ä»¶æ˜¯åœ¨distæ–‡ä»¶å¤¹ä¸‹çš„exampleæ–‡ä»¶å¤¹ä¸‹çš„entry.jsæ–‡ä»¶</span></span><br></pre></td></tr></table></figure><p>  <strong>valueå¦‚æœæ˜¯å­—ç¬¦ä¸²ï¼Œé‚£å°±å¿…é¡»æ˜¯åˆç†çš„node requireå‡½æ•°å‚æ•°å­—ç¬¦ä¸²ã€‚</strong></p><p>  <strong>æ¯”å¦‚æ–‡ä»¶è·¯å¾„ï¼šâ€™./app.jsâ€™       (require(â€˜./app.jsâ€™))ï¼›</strong></p><p>  <strong>æ¯”å¦‚å®‰è£…çš„npmæ¨¡å—ï¼šâ€™lodashâ€™       (require(â€˜lodashâ€™))</strong></p>  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    <span class="string">&#x27;my-lodash&#x27;</span>: <span class="string">&#x27;lodash&#x27;</span></span><br><span class="line">&#125;,</span><br><span class="line">output: &#123;</span><br><span class="line">    path: <span class="string">&#x27;./output&#x27;</span>,</span><br><span class="line">    filename: <span class="string">&#x27;[name].js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>  <strong>valueå¦‚æœæ˜¯æ•°ç»„ï¼Œåˆ™æ•°ç»„ä¸­å…ƒç´ éœ€è¦æ˜¯ä¸Šé¢æè¿°çš„åˆç†å­—ç¬¦ä¸²å€¼ã€‚æ•°ç»„ä¸­çš„æ–‡ä»¶ä¸€èˆ¬æ˜¯æ²¡æœ‰ç›¸äº’ä¾èµ–å…³ç³»çš„ï¼Œä½†æ˜¯åˆå¤„äºæŸäº›åŸå› éœ€è¦å°†å®ƒä»¬æ‰“åŒ…åœ¨ä¸€èµ·</strong></p>  <figure class="highlight js"><table><tr><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    vendor: [<span class="string">&#x27;jquery&#x27;</span>, <span class="string">&#x27;lodash&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>å­—ç¬¦ä¸²</p><p><code>entry: &#39;./app.js&#39;</code>  ç­‰ä»·äºä¸‹é¢çš„å¯¹è±¡å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    main: <span class="string">&#x27;./app.js&#x27;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ•°ç»„</p><p><code>entry: [&#39;./index.js&#39;, &#39;lodash&#39;]</code> ç­‰ä»·äºä¸‹é¢çš„å¯¹è±¡å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">entry: &#123;</span><br><span class="line">    main: [<span class="string">&#x27;./app.js&#x27;</span>, <span class="string">&#x27;lodash&#x27;</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h4 id="3ã€å‡ºå£-output"><a href="#3ã€å‡ºå£-output" class="headerlink" title="3ã€å‡ºå£ output"></a>3ã€å‡ºå£ output</h4><p>å‘Šè¯‰webpackæ€æ ·å­˜å‚¨è¾“å‡ºç»“æœä»¥åŠå­˜å‚¨åˆ°å“ªé‡Œ,æŒ‡å®šæ¯ä¸ªè¾“å‡ºæ–‡ä»¶çš„åç§°ã€‚åœ¨è¿™é‡Œä¸èƒ½æŒ‡å®šä¸ºç»å¯¹è·¯å¾„ï¼</p><p>åŸºæœ¬å½¢å¼ï¼š</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">output:&#123;</span><br><span class="line">path:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  publicPath:<span class="string">&#x27;&#x27;</span>,</span><br><span class="line">  filename:<span class="string">&#x27;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// path:æ‰€æœ‰è¾“å‡ºæ–‡ä»¶çš„ç›®æ ‡è·¯å¾„;æ‰“åŒ…åæ–‡ä»¶åœ¨ç¡¬ç›˜ä¸­çš„å­˜å‚¨ä½ç½®ã€‚</span></span><br><span class="line"><span class="comment">// publicPath:è¾“å‡ºè§£ææ–‡ä»¶çš„ç›®å½•ï¼ŒæŒ‡å®šèµ„æºæ–‡ä»¶å¼•ç”¨çš„ç›®å½• ï¼Œæ‰“åŒ…åæµè§ˆå™¨è®¿é—®æœåŠ¡æ—¶çš„ url è·¯å¾„ä¸­é€šç”¨çš„ä¸€éƒ¨åˆ†ã€‚</span></span><br></pre></td></tr></table></figure><ul><li><p>Path ä»…ä»…å‘Šè¯‰Webpackç»“æœå­˜å‚¨åœ¨å“ªé‡Œ</p></li><li><p>publicPath ç”¨äºåœ¨ç”Ÿäº§æ¨¡å¼ä¸‹æ›´æ–°å†…åµŒåˆ°cssã€htmlæ–‡ä»¶é‡Œçš„urlå€¼</p><p><strong>output.publicPath æ˜¯å¾ˆé‡è¦çš„é€‰é¡¹ã€‚å¦‚æœæŒ‡å®šäº†ä¸€ä¸ªé”™è¯¯çš„å€¼ï¼Œåˆ™åœ¨åŠ è½½è¿™äº›èµ„æºæ—¶ä¼šæ”¶åˆ° 404 é”™è¯¯</strong></p></li></ul><p>æ³¨ ï¼šåœ¨ä½¿ç”¨html-webpack-plugin ç”Ÿæˆindex.htmlæ—¶ï¼ŒpublicPathæ˜¯å¯ä»¥ä¸ç”¨é…ç½®çš„ã€‚</p><p>â€‹    <strong>outputçš„è¾“å‡ºhashå€¼</strong></p><ul><li><p>[hash] </p><p>æ¯ä¸ªæ–‡ä»¶çš„hashéƒ½ä¸€æ ·ï¼Œæ–‡ä»¶çš„hashä¸ºæ‰“åŒ…çš„hashã€‚</p></li><li><p>[chunkhash] </p><p>ä½¿ç”¨æ–‡ä»¶çš„hashéƒ½ä¸ä¸€æ ·ï¼Œä¹Ÿä¸æ‰“åŒ…hashä¸ä¸€æ ·</p></li></ul><h4 id="4ã€-æ¨¡å—"><a href="#4ã€-æ¨¡å—" class="headerlink" title="4ã€ æ¨¡å—"></a>4ã€ æ¨¡å—</h4><p>åœ¨æ¨¡å—åŒ–ç¼–ç¨‹ä¸­ï¼Œå¼€å‘è€…å°†ç¨‹åºåˆ†è§£æˆç¦»æ•£åŠŸèƒ½å—ï¼Œå¹¶ç§°ä¹‹ä¸ºæ¨¡å—ã€‚æ¯ä¸ªæ¨¡å—å…·æœ‰æ¯”å®Œæ•´ç¨‹åºæ›´å°çš„æ¥è§¦é¢ï¼Œä½¿å¾—æ ¡éªŒã€è°ƒè¯•ã€æµ‹è¯•è½»è€Œæ˜“ä¸¾ã€‚ ç²¾å¿ƒç¼–å†™çš„æ¨¡å—æä¾›äº†å¯é çš„æŠ½è±¡å’Œå°è£…ç•Œé™ï¼Œä½¿å¾—åº”ç”¨ç¨‹åºä¸­æ¯ä¸ªæ¨¡å—éƒ½å…·æœ‰æ¡ç†æ¸…æ¥šçš„è®¾è®¡å’Œæ˜ç¡®çš„ç›®çš„ã€‚</p><ul><li><p>é…ç½® Loader</p><p>rules é…ç½®æ¨¡å—çš„è¯»å–å’Œè§£æè§„åˆ™ï¼Œé€šå¸¸ç”¨æ¥é…ç½® Loaderã€‚å…¶ç±»å‹æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ•°ç»„é‡Œæ¯ä¸€é¡¹éƒ½æè¿°äº†å¦‚ä½•å»å¤„ç†éƒ¨åˆ†æ–‡ä»¶ã€‚ é…ç½®ä¸€é¡¹ <code>rules</code> æ—¶å¤§è‡´é€šè¿‡ä»¥ä¸‹æ–¹å¼ï¼š</p><ol><li>æ¡ä»¶åŒ¹é…ï¼šé€šè¿‡ test ã€ include ã€ exclude ä¸‰ä¸ªé…ç½®é¡¹æ¥å‘½ä¸­ Loader è¦åº”ç”¨è§„åˆ™çš„æ–‡ä»¶ã€‚</li><li>åº”ç”¨è§„åˆ™ï¼šå¯¹é€‰ä¸­åçš„æ–‡ä»¶é€šè¿‡ <code>use</code> é…ç½®é¡¹æ¥åº”ç”¨ Loaderï¼Œå¯ä»¥åªåº”ç”¨ä¸€ä¸ª Loader æˆ–è€…æŒ‰ç…§ä»åå¾€å‰çš„é¡ºåºåº”ç”¨ä¸€ç»„ Loaderï¼ŒåŒæ—¶è¿˜å¯ä»¥åˆ†åˆ«ç»™ Loader ä¼ å…¥å‚æ•°ã€‚</li><li>é‡ç½®é¡ºåºï¼šä¸€ç»„ Loader çš„æ‰§è¡Œé¡ºåºé»˜è®¤æ˜¯ä»å³åˆ°å·¦æ‰§è¡Œï¼Œé€šè¿‡ <code>enforce</code> é€‰é¡¹å¯ä»¥è®©å…¶ä¸­ä¸€ä¸ª Loader çš„æ‰§è¡Œé¡ºåºæ”¾åˆ°æœ€å‰æˆ–è€…æœ€å</li></ol></li></ul><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// å‘½ä¸­ css æ–‡ä»¶</span></span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      <span class="comment">// ç”¨ babel-loader è½¬æ¢ css æ–‡ä»¶</span></span><br><span class="line">      <span class="comment">// ?cacheDirectory è¡¨ç¤ºä¼ ç»™ babel-loader çš„å‚æ•°ï¼Œç”¨äºç¼“å­˜ babel ç¼–è¯‘ç»“æœåŠ å¿«é‡æ–°ç¼–è¯‘é€Ÿåº¦</span></span><br><span class="line">      use: [<span class="string">&#x27;babel-loader?cacheDirectory&#x27;</span>],</span><br><span class="line">      <span class="comment">// åªå‘½ä¸­srcç›®å½•é‡Œçš„jsæ–‡ä»¶ï¼ŒåŠ å¿« Webpack æœç´¢é€Ÿåº¦</span></span><br><span class="line">      include: path.resolve(__dirname, <span class="string">&#x27;src&#x27;</span>)</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// å‘½ä¸­ SCSS æ–‡ä»¶</span></span><br><span class="line">      test: <span class="regexp">/\.scss$/</span>,</span><br><span class="line">      <span class="comment">// ä½¿ç”¨ä¸€ç»„ Loader å»å¤„ç† SCSS æ–‡ä»¶ã€‚</span></span><br><span class="line">      <span class="comment">// å¤„ç†é¡ºåºä¸ºä»ååˆ°å‰ï¼Œå³å…ˆäº¤ç»™ sass-loader å¤„ç†ï¼Œå†æŠŠç»“æœäº¤ç»™ css-loader æœ€åå†ç»™ style-loaderã€‚</span></span><br><span class="line">      use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;sass-loader&#x27;</span>],</span><br><span class="line">      <span class="comment">// æ’é™¤ node_modules ç›®å½•ä¸‹çš„æ–‡ä»¶</span></span><br><span class="line">      exclude: path.resolve(__dirname, <span class="string">&#x27;node_modules&#x27;</span>),</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="comment">// å¯¹GIFã€PNGç­‰çš„æ–‡ä»¶é‡‡ç”¨ file-loader åŠ è½½</span></span><br><span class="line">      test: <span class="regexp">/\.(gif|png|jpe?g|eot|woff|ttf|svg|pdf)$/</span>,</span><br><span class="line">      use: [<span class="string">&#x27;file-loader&#x27;</span>],</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“ Loader éœ€è¦ä¼ å…¥å¾ˆå¤šå‚æ•°æ—¶ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡ä¸€ä¸ª å¯¹è±¡ æ¥æè¿°</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">use: [</span><br><span class="line">  &#123;</span><br><span class="line">    loader:<span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">    options:&#123;</span><br><span class="line">      cacheDirectory:<span class="literal">true</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// enforce:&#x27;post&#x27; çš„å«ä¹‰æ˜¯æŠŠè¯¥ Loader çš„æ‰§è¡Œé¡ºåºæ”¾åˆ°æœ€å</span></span><br><span class="line">    <span class="comment">// enforce çš„å€¼è¿˜å¯ä»¥æ˜¯ preï¼Œä»£è¡¨æŠŠ Loader çš„æ‰§è¡Œé¡ºåºæ”¾åˆ°æœ€å‰é¢</span></span><br><span class="line">    enforce:<span class="string">&#x27;post&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><p>å…¶ä¸­çš„testã€includeã€excludeéƒ½å¯ä»¥ä¼ å…¥æ•°ç»„ï¼Œæ•°ç»„é‡Œçš„æ¯é¡¹ä¹‹é—´æ˜¯æˆ–çš„å…³ç³»ï¼Œå³æ–‡ä»¶è·¯å¾„ç¬¦åˆæ•°ç»„ä¸­çš„ä»»ä½•ä¸€ä¸ªæ¡ä»¶å°±ä¼šè¢«å‘½ä¸­</p><ul><li>é…ç½® noParse</li></ul><p><code>noParse</code> é…ç½®é¡¹å¯ä»¥è®© Webpack å¿½ç•¥å¯¹éƒ¨åˆ†æ²¡é‡‡ç”¨æ¨¡å—åŒ–çš„æ–‡ä»¶çš„é€’å½’è§£æå’Œå¤„ç†ï¼Œè¿™æ ·åšçš„å¥½å¤„æ˜¯èƒ½æé«˜æ„å»ºæ€§èƒ½ã€‚ åŸå› æ˜¯ä¸€äº›åº“ä¾‹å¦‚ jQuery ã€ChartJS å®ƒä»¬åºå¤§åˆæ²¡æœ‰é‡‡ç”¨æ¨¡å—åŒ–æ ‡å‡†ï¼Œè®© Webpack å»è§£æè¿™äº›æ–‡ä»¶è€—æ—¶åˆæ²¡æœ‰æ„ä¹‰ã€‚</p><p><code>noParse</code> æ˜¯å¯é€‰é…ç½®é¡¹ï¼Œç±»å‹éœ€è¦æ˜¯ <code>RegExp</code>ã€<code>[RegExp]</code>ã€<code>function</code> å…¶ä¸­ä¸€ä¸ªã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼</span></span><br><span class="line">noParse: <span class="regexp">/jquery|chartjs/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨å‡½æ•°ï¼Œä» Webpack 3.0.0 å¼€å§‹æ”¯æŒ</span></span><br><span class="line">noParse: <span class="function">(<span class="params">content</span>)=&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// content ä»£è¡¨ä¸€ä¸ªæ¨¡å—çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">  <span class="comment">// è¿”å› true or false</span></span><br><span class="line">  <span class="keyword">return</span> <span class="regexp">/jquery|chartjs/</span>.test(content);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ³¨æ„è¢«å¿½ç•¥æ‰çš„æ–‡ä»¶é‡Œä¸åº”è¯¥åŒ…å« import ã€ require ã€ define ç­‰æ¨¡å—åŒ–è¯­å¥ï¼Œä¸ç„¶ä¼šå¯¼è‡´æ„å»ºå‡ºçš„ä»£ç ä¸­åŒ…å«æ— æ³•åœ¨æµè§ˆå™¨ç¯å¢ƒä¸‹æ‰§è¡Œçš„æ¨¡å—åŒ–è¯­å¥ã€‚</span></span><br></pre></td></tr></table></figure><ul><li>é…ç½® parser</li></ul><p>å› ä¸º Webpack æ˜¯ä»¥æ¨¡å—åŒ–çš„ JavaScript æ–‡ä»¶ä¸ºå…¥å£ï¼Œæ‰€ä»¥å†…ç½®äº†å¯¹æ¨¡å—åŒ– JavaScript çš„è§£æåŠŸèƒ½ï¼Œæ”¯æŒ AMDã€CommonJSã€SystemJSã€ES6ã€‚ <code>parser</code> å±æ€§å¯ä»¥æ›´ç»†ç²’åº¦çš„é…ç½®å“ªäº›æ¨¡å—è¯­æ³•è¦è§£æå“ªäº›ä¸è§£æï¼Œå’Œ <code>noParse</code> é…ç½®é¡¹çš„åŒºåˆ«åœ¨äº <code>parser</code> å¯ä»¥ç²¾ç¡®åˆ°è¯­æ³•å±‚é¢ï¼Œ è€Œ noParse åªèƒ½æ§åˆ¶å“ªäº›æ–‡ä»¶ä¸è¢«è§£æã€‚</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="built_in">module</span>: &#123;</span><br><span class="line">  rules: [</span><br><span class="line">    &#123;</span><br><span class="line">      test: <span class="regexp">/\.css$/</span>,</span><br><span class="line">      use: [<span class="string">&quot;style&quot;</span>, <span class="string">&quot;css&quot;</span>, <span class="string">&quot;postcss&quot;</span>],</span><br><span class="line">      parser: &#123;</span><br><span class="line">        amd: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ AMD</span></span><br><span class="line">        commonjs: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ CommonJS</span></span><br><span class="line">        system: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ SystemJS</span></span><br><span class="line">        harmony: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ ES6 import/export</span></span><br><span class="line">        requireInclude: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ require.include</span></span><br><span class="line">        requireEnsure: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ require.ensure</span></span><br><span class="line">        requireContext: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ require.context</span></span><br><span class="line">        browserify: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ browserify</span></span><br><span class="line">        requireJs: <span class="literal">false</span>, <span class="comment">// ç¦ç”¨ requirejs</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;ä¸€ã€webpack-config-js&quot;&gt;&lt;a href=&quot;#ä¸€ã€webpack-config-js&quot; class=&quot;headerlink&quot; title=&quot;ä¸€ã€webpack.config.js&quot;&gt;&lt;/a&gt;ä¸€ã€webpack.config.js&lt;/h3&gt;&lt;h4 i</summary>
      
    
    
    
    <category term="WebPack" scheme="http://gtliangming.github.io/categories/WebPack/"/>
    
    
    <category term="WebPack" scheme="http://gtliangming.github.io/tags/WebPack/"/>
    
  </entry>
  
</feed>
