---
title: my-first-blog
date: 2020-08-27 18:13:29
tags: tag
cover: http://www.lmwebs.top/img/nanan.jpg
# 版权信息
# copyright_author: xxxx
# copyright_author_href: https://xxxxxx.com
# copyright_url: https://xxxxxx.com
# copyright_info: 此文章版權歸xxxxx所有，如有轉載，請註明來自原作者 
---

一、本地创建Hexo博客框架
1、搭建所需环境
Hexo官网地址：https://hexo.io/上都对所需环境、版本信息都做了介绍，这里不过多介绍。
2、配置本地仓库与远程仓库的ssh key
打开终端，输入cd ~/.ssh 查看是否有id_rsa 以及id_rsa.pub 文件，如果有或者自己已经配过。此项可以跳过。如果没有，现在开始创建新的
• 打开终端，输入cd ~/.ssh
• 在ssh文件目录下执行 ssh-keygen -t rsa -C “yourname@xx.com  此处的邮箱地址换成你自己的
• 点击后，箭头处填写生成的公钥以及私钥的文件名，如果只配置一个ssh key ,就直接点击回车选择默认，
• 接下来的两项也直接回车选择默认
• 
这样，SSH key就生成成功了，现在我们需要使用这个ssh key
• 使用ssh-agent代理管理git私钥
    添加本地私钥：ssh-add ~/.ssh/刚才生成的公钥的名字
• 继续在终端输入cat ~/.ssh/刚才生成的公钥的名字（默认是id_rsa.pub）如果你创建的时候起了别的名字，这里就输入刚才的名字。然后点击回车，终端内就会显示出公钥的内容（很长一段,以ssh-rsa开头）
• 复制这段信息，打开github，点击头像选择setting
• 在左边的导航选项内选择SSH and GPG keys选项，选择上面的New SSH key
• 给这个SSH key起个名字，以便区分，因为不同的电脑需要配置不同ssh key，然后将刚才复制的公钥信息粘贴在key内，点击 Add ssh key. 这样就配置成功了
• 
• 在终端输入 ssh -T git@github.com 检测是否配置成功，如下就表示配置成功
如果中途哪一步出现了问题，可以在.ssh文件夹下干掉生成的文件，重新开始
3、创建博客仓库
点击 Create respository 就创建成功了  😃
• 使用SSH将项目克隆到本地，并初始化git仓库git init  此时默认在master 分支
• 因为github部署博客的编译后的代码默认生成到master分支，所以我们将项目的源码放置在一个新的blog分支，执行git checkeout -b blog 创建并切换到blog分支
二、生成博客项目
1、项目生成
1>、安装生成项目的脚手架工具：npm install hexo-cli -g
2>、生成项目hexo init 项目名
2、运行项目
1>、进入到刚才创建的项目下，使用hexo s (hexo server的缩写)就可启动项目，本地浏览器打开localhost:4000就可查看到我们新创建的hexo项目
如果默认的4000端口被占用，可使用 hexo s -port 端口号 来启动项目，并在浏览器使用对应的端口来访问   
2>、安装完成后，指定文件夹的目录如下：
├── _config.yml
├── package.json
├── scaffolds
├── source
|   ├── _drafts
|   └── _posts
└── themes
其中_config.yml文件用于存放网站的配置信息，你可以在此配置大部分的参数；scaffolds是存放模板的文件夹，当新建文章时，Hexo会根据scaffold来建立文件；source是资源文件夹，用于存放用户资源，themes是主题文件夹，存放博客主题，Hexo 会根据主题来生成静态页面
三、部署到gtihub
安装部署到github的工具插件：npm install hexo-deployer-git --save
_config.yml是重要的网站的配置信息，具体配置详见官网https://hexo.io/docs/configuration
因为我们要将编译后的代码放置在master分支下，所以我们需要修改_config.yml文件下的deploy
deploy:
  type: 'git'
  repo: 存放博客项目的github仓库地址，建议使用ssh地址
  branch: master  需要将博客的代码编译到那个分支，此处就写对应分支的分支名
修改完成后，使用hexo的命令
1. hexo clean 清除之前的缓存
2. hexo generate 编译项目代码
3. hexo deploy 将编译后的代码根据_congin.yml内的deploy推送到指定仓库的制定分支
第二步和第三部可以一块 执行 hexo g -d 
此时就可在https://你的博客仓库名  (例如我的https://gtliangming.github.io/)查看到你新建的的博客了
可能会有一定的延迟，稍等下刷新就有了
💐至此，我们的博客就搭建完成了，至于后面的主题以及美化等的细节问题，期待下一篇吧！！！
不知道细心的大家发现了问题了吗？我们博客是更新了，但是我们的本地blog分支的代码更新该没有提交，这就表示我们每次执行完hexo的命令部署完博客后，还要Git三部曲提交我们blog分支的代码。好奇的同学就有问题了，能不能一步解决呢，宾果！，关注下一篇哦（Tracis cI实现自动部署hexo博客至github）